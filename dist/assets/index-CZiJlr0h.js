var wO=Object.defineProperty;var NO=(e,t,r)=>t in e?wO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var lr=(e,t,r)=>NO(e,typeof t!="symbol"?t+"":t,r);function jO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var AZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qv={exports:{}},Mf={},Jv={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function kO(){if(Bw)return Ht;Bw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(ee){return ee===null||typeof ee!="object"?null:(ee=m&&ee[m]||ee["@@iterator"],typeof ee=="function"?ee:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function N(ee,z,re){this.props=ee,this.context=z,this.refs=w,this.updater=re||p}N.prototype.isReactComponent={},N.prototype.setState=function(ee,z){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,z,"setState")},N.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function k(){}k.prototype=N.prototype;function L(ee,z,re){this.props=ee,this.context=z,this.refs=w,this.updater=re||p}var E=L.prototype=new k;E.constructor=L,b(E,N.prototype),E.isPureReactComponent=!0;var I=Array.isArray,M=Object.prototype.hasOwnProperty,F={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function U(ee,z,re){var ie,fe={},Z=null,de=null;if(z!=null)for(ie in z.ref!==void 0&&(de=z.ref),z.key!==void 0&&(Z=""+z.key),z)M.call(z,ie)&&!R.hasOwnProperty(ie)&&(fe[ie]=z[ie]);var we=arguments.length-2;if(we===1)fe.children=re;else if(1<we){for(var ae=Array(we),ye=0;ye<we;ye++)ae[ye]=arguments[ye+2];fe.children=ae}if(ee&&ee.defaultProps)for(ie in we=ee.defaultProps,we)fe[ie]===void 0&&(fe[ie]=we[ie]);return{$$typeof:e,type:ee,key:Z,ref:de,props:fe,_owner:F.current}}function B(ee,z){return{$$typeof:e,type:ee.type,key:z,ref:ee.ref,props:ee.props,_owner:ee._owner}}function Y(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===e}function C(ee){var z={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(re){return z[re]})}var T=/\/+/g;function H(ee,z){return typeof ee=="object"&&ee!==null&&ee.key!=null?C(""+ee.key):z.toString(36)}function V(ee,z,re,ie,fe){var Z=typeof ee;(Z==="undefined"||Z==="boolean")&&(ee=null);var de=!1;if(ee===null)de=!0;else switch(Z){case"string":case"number":de=!0;break;case"object":switch(ee.$$typeof){case e:case t:de=!0}}if(de)return de=ee,fe=fe(de),ee=ie===""?"."+H(de,0):ie,I(fe)?(re="",ee!=null&&(re=ee.replace(T,"$&/")+"/"),V(fe,z,re,"",function(ye){return ye})):fe!=null&&(Y(fe)&&(fe=B(fe,re+(!fe.key||de&&de.key===fe.key?"":(""+fe.key).replace(T,"$&/")+"/")+ee)),z.push(fe)),1;if(de=0,ie=ie===""?".":ie+":",I(ee))for(var we=0;we<ee.length;we++){Z=ee[we];var ae=ie+H(Z,we);de+=V(Z,z,re,ae,fe)}else if(ae=g(ee),typeof ae=="function")for(ee=ae.call(ee),we=0;!(Z=ee.next()).done;)Z=Z.value,ae=ie+H(Z,we++),de+=V(Z,z,re,ae,fe);else if(Z==="object")throw z=String(ee),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return de}function W(ee,z,re){if(ee==null)return ee;var ie=[],fe=0;return V(ee,ie,"","",function(Z){return z.call(re,Z,fe++)}),ie}function pe(ee){if(ee._status===-1){var z=ee._result;z=z(),z.then(function(re){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=re)},function(re){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=re)}),ee._status===-1&&(ee._status=0,ee._result=z)}if(ee._status===1)return ee._result.default;throw ee._result}var ue={current:null},J={transition:null},le={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:J,ReactCurrentOwner:F};function me(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:W,forEach:function(ee,z,re){W(ee,function(){z.apply(this,arguments)},re)},count:function(ee){var z=0;return W(ee,function(){z++}),z},toArray:function(ee){return W(ee,function(z){return z})||[]},only:function(ee){if(!Y(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Ht.Component=N,Ht.Fragment=r,Ht.Profiler=a,Ht.PureComponent=L,Ht.StrictMode=n,Ht.Suspense=d,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ht.act=me,Ht.cloneElement=function(ee,z,re){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var ie=b({},ee.props),fe=ee.key,Z=ee.ref,de=ee._owner;if(z!=null){if(z.ref!==void 0&&(Z=z.ref,de=F.current),z.key!==void 0&&(fe=""+z.key),ee.type&&ee.type.defaultProps)var we=ee.type.defaultProps;for(ae in z)M.call(z,ae)&&!R.hasOwnProperty(ae)&&(ie[ae]=z[ae]===void 0&&we!==void 0?we[ae]:z[ae])}var ae=arguments.length-2;if(ae===1)ie.children=re;else if(1<ae){we=Array(ae);for(var ye=0;ye<ae;ye++)we[ye]=arguments[ye+2];ie.children=we}return{$$typeof:e,type:ee.type,key:fe,ref:Z,props:ie,_owner:de}},Ht.createContext=function(ee){return ee={$$typeof:l,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:i,_context:ee},ee.Consumer=ee},Ht.createElement=U,Ht.createFactory=function(ee){var z=U.bind(null,ee);return z.type=ee,z},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(ee){return{$$typeof:c,render:ee}},Ht.isValidElement=Y,Ht.lazy=function(ee){return{$$typeof:h,_payload:{_status:-1,_result:ee},_init:pe}},Ht.memo=function(ee,z){return{$$typeof:f,type:ee,compare:z===void 0?null:z}},Ht.startTransition=function(ee){var z=J.transition;J.transition={};try{ee()}finally{J.transition=z}},Ht.unstable_act=me,Ht.useCallback=function(ee,z){return ue.current.useCallback(ee,z)},Ht.useContext=function(ee){return ue.current.useContext(ee)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(ee){return ue.current.useDeferredValue(ee)},Ht.useEffect=function(ee,z){return ue.current.useEffect(ee,z)},Ht.useId=function(){return ue.current.useId()},Ht.useImperativeHandle=function(ee,z,re){return ue.current.useImperativeHandle(ee,z,re)},Ht.useInsertionEffect=function(ee,z){return ue.current.useInsertionEffect(ee,z)},Ht.useLayoutEffect=function(ee,z){return ue.current.useLayoutEffect(ee,z)},Ht.useMemo=function(ee,z){return ue.current.useMemo(ee,z)},Ht.useReducer=function(ee,z,re){return ue.current.useReducer(ee,z,re)},Ht.useRef=function(ee){return ue.current.useRef(ee)},Ht.useState=function(ee){return ue.current.useState(ee)},Ht.useSyncExternalStore=function(ee,z,re){return ue.current.useSyncExternalStore(ee,z,re)},Ht.useTransition=function(){return ue.current.useTransition()},Ht.version="18.3.1",Ht}var Uw;function Yd(){return Uw||(Uw=1,Jv.exports=kO()),Jv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function SO(){if(qw)return Mf;qw=1;var e=Yd(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var h,m={},g=null,p=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(p=d.ref);for(h in d)n.call(d,h)&&!i.hasOwnProperty(h)&&(m[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)m[h]===void 0&&(m[h]=d[h]);return{$$typeof:t,type:c,key:g,ref:p,props:m,_owner:a.current}}return Mf.Fragment=r,Mf.jsx=l,Mf.jsxs=l,Mf}var $w;function AO(){return $w||($w=1,Qv.exports=SO()),Qv.exports}var s=AO(),P=Yd();const Ah=Mo(P),PO=jO({__proto__:null,default:Ah},[P]);var _p={},eg={exports:{}},vi={},tg={exports:{}},rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function CO(){return Ww||(Ww=1,function(e){function t(J,le){var me=J.length;J.push(le);e:for(;0<me;){var ee=me-1>>>1,z=J[ee];if(0<a(z,le))J[ee]=le,J[me]=z,me=ee;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var le=J[0],me=J.pop();if(me!==le){J[0]=me;e:for(var ee=0,z=J.length,re=z>>>1;ee<re;){var ie=2*(ee+1)-1,fe=J[ie],Z=ie+1,de=J[Z];if(0>a(fe,me))Z<z&&0>a(de,fe)?(J[ee]=de,J[Z]=me,ee=Z):(J[ee]=fe,J[ie]=me,ee=ie);else if(Z<z&&0>a(de,me))J[ee]=de,J[Z]=me,ee=Z;else break e}}return le}function a(J,le){var me=J.sortIndex-le.sortIndex;return me!==0?me:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,m=null,g=3,p=!1,b=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(J){for(var le=r(f);le!==null;){if(le.callback===null)n(f);else if(le.startTime<=J)n(f),le.sortIndex=le.expirationTime,t(d,le);else break;le=r(f)}}function I(J){if(w=!1,E(J),!b)if(r(d)!==null)b=!0,pe(M);else{var le=r(f);le!==null&&ue(I,le.startTime-J)}}function M(J,le){b=!1,w&&(w=!1,k(U),U=-1),p=!0;var me=g;try{for(E(le),m=r(d);m!==null&&(!(m.expirationTime>le)||J&&!C());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,g=m.priorityLevel;var z=ee(m.expirationTime<=le);le=e.unstable_now(),typeof z=="function"?m.callback=z:m===r(d)&&n(d),E(le)}else n(d);m=r(d)}if(m!==null)var re=!0;else{var ie=r(f);ie!==null&&ue(I,ie.startTime-le),re=!1}return re}finally{m=null,g=me,p=!1}}var F=!1,R=null,U=-1,B=5,Y=-1;function C(){return!(e.unstable_now()-Y<B)}function T(){if(R!==null){var J=e.unstable_now();Y=J;var le=!0;try{le=R(!0,J)}finally{le?H():(F=!1,R=null)}}else F=!1}var H;if(typeof L=="function")H=function(){L(T)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=T,H=function(){W.postMessage(null)}}else H=function(){N(T,0)};function pe(J){R=J,F||(F=!0,H())}function ue(J,le){U=N(function(){J(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,pe(M))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(J){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var me=g;g=le;try{return J()}finally{g=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var me=g;g=J;try{return le()}finally{g=me}},e.unstable_scheduleCallback=function(J,le,me){var ee=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ee+me:ee):me=ee,J){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=me+z,J={id:h++,callback:le,priorityLevel:J,startTime:me,expirationTime:z,sortIndex:-1},me>ee?(J.sortIndex=me,t(f,J),r(d)===null&&J===r(f)&&(w?(k(U),U=-1):w=!0,ue(I,me-ee))):(J.sortIndex=z,t(d,J),b||p||(b=!0,pe(M))),J},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(J){var le=g;return function(){var me=g;g=le;try{return J.apply(this,arguments)}finally{g=me}}}}(rg)),rg}var Hw;function _O(){return Hw||(Hw=1,tg.exports=CO()),tg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function OO(){if(Vw)return vi;Vw=1;var e=Yd(),t=_O();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,v=1;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(a[o]=u,o=0;o<u.length;o++)n.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(o){return d.call(m,o)?!0:d.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function p(o,u,v,y){if(v!==null&&v.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:v!==null?!v.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,u,v,y){if(u===null||typeof u>"u"||p(o,u,v,y))return!0;if(y)return!1;if(v!==null)switch(v.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(o,u,v,y,A,O,K){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=A,this.mustUseProperty=v,this.propertyName=o,this.type=u,this.sanitizeURL=O,this.removeEmptyString=K}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];N[u]=new w(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(k,L);N[u]=new w(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(k,L);N[u]=new w(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(k,L);N[u]=new w(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function E(o,u,v,y){var A=N.hasOwnProperty(u)?N[u]:null;(A!==null?A.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,v,A,y)&&(v=null),y||A===null?g(u)&&(v===null?o.removeAttribute(u):o.setAttribute(u,""+v)):A.mustUseProperty?o[A.propertyName]=v===null?A.type===3?!1:"":v:(u=A.attributeName,y=A.attributeNamespace,v===null?o.removeAttribute(u):(A=A.type,v=A===3||A===4&&v===!0?"":""+v,y?o.setAttributeNS(y,u,v):o.setAttribute(u,v))))}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),F=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var me=Object.assign,ee;function z(o){if(ee===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||""}return`
`+ee+o}var re=!1;function ie(o,u){if(!o||re)return"";re=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ie){var y=Ie}Reflect.construct(o,[],u)}else{try{u.call()}catch(Ie){y=Ie}o.call(u.prototype)}else{try{throw Error()}catch(Ie){y=Ie}o()}}catch(Ie){if(Ie&&y&&typeof Ie.stack=="string"){for(var A=Ie.stack.split(`
`),O=y.stack.split(`
`),K=A.length-1,he=O.length-1;1<=K&&0<=he&&A[K]!==O[he];)he--;for(;1<=K&&0<=he;K--,he--)if(A[K]!==O[he]){if(K!==1||he!==1)do if(K--,he--,0>he||A[K]!==O[he]){var xe=`
`+A[K].replace(" at new "," at ");return o.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",o.displayName)),xe}while(1<=K&&0<=he);break}}}finally{re=!1,Error.prepareStackTrace=v}return(o=o?o.displayName||o.name:"")?z(o):""}function fe(o){switch(o.tag){case 5:return z(o.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function Z(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case R:return"Fragment";case F:return"Portal";case B:return"Profiler";case U:return"StrictMode";case H:return"Suspense";case V:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case C:return(o.displayName||"Context")+".Consumer";case Y:return(o._context.displayName||"Context")+".Provider";case T:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case W:return u=o.displayName||null,u!==null?u:Z(o.type)||"Memo";case pe:u=o._payload,o=o._init;try{return Z(o(u))}catch{}}return null}function de(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(u);case 8:return u===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function we(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ae(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ye(o){var u=ae(o)?"checked":"value",v=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),y=""+o[u];if(!o.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,O=v.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return A.call(this)},set:function(K){y=""+K,O.call(this,K)}}),Object.defineProperty(o,u,{enumerable:v.enumerable}),{getValue:function(){return y},setValue:function(K){y=""+K},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function _e(o){o._valueTracker||(o._valueTracker=ye(o))}function ke(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var v=u.getValue(),y="";return o&&(y=ae(o)?o.checked?"true":"false":o.value),o=y,o!==v?(u.setValue(o),!0):!1}function qe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ke(o,u){var v=u.checked;return me({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??o._wrapperState.initialChecked})}function ne(o,u){var v=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;v=we(u.value!=null?u.value:v),o._wrapperState={initialChecked:y,initialValue:v,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function He(o,u){u=u.checked,u!=null&&E(o,"checked",u,!1)}function ft(o,u){He(o,u);var v=we(u.value),y=u.type;if(v!=null)y==="number"?(v===0&&o.value===""||o.value!=v)&&(o.value=""+v):o.value!==""+v&&(o.value=""+v);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?Be(o,u.type,v):u.hasOwnProperty("defaultValue")&&Be(o,u.type,we(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function dt(o,u,v){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,v||u===o.value||(o.value=u),o.defaultValue=u}v=o.name,v!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,v!==""&&(o.name=v)}function Be(o,u,v){(u!=="number"||qe(o.ownerDocument)!==o)&&(v==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+v&&(o.defaultValue=""+v))}var pt=Array.isArray;function Ye(o,u,v,y){if(o=o.options,u){u={};for(var A=0;A<v.length;A++)u["$"+v[A]]=!0;for(v=0;v<o.length;v++)A=u.hasOwnProperty("$"+o[v].value),o[v].selected!==A&&(o[v].selected=A),A&&y&&(o[v].defaultSelected=!0)}else{for(v=""+we(v),u=null,A=0;A<o.length;A++){if(o[A].value===v){o[A].selected=!0,y&&(o[A].defaultSelected=!0);return}u!==null||o[A].disabled||(u=o[A])}u!==null&&(u.selected=!0)}}function xt(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function mt(o,u){var v=u.value;if(v==null){if(v=u.children,u=u.defaultValue,v!=null){if(u!=null)throw Error(r(92));if(pt(v)){if(1<v.length)throw Error(r(93));v=v[0]}u=v}u==null&&(u=""),v=u}o._wrapperState={initialValue:we(v)}}function Xt(o,u){var v=we(u.value),y=we(u.defaultValue);v!=null&&(v=""+v,v!==o.value&&(o.value=v),u.defaultValue==null&&o.defaultValue!==v&&(o.defaultValue=v)),y!=null&&(o.defaultValue=""+y)}function Ut(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Et(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Et(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var zt,st=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,v,y,A){MSApp.execUnsafeLocalFunction(function(){return o(u,v,y,A)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(zt=zt||document.createElement("div"),zt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=zt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Pt(o,u){if(u){var v=o.firstChild;if(v&&v===o.lastChild&&v.nodeType===3){v.nodeValue=u;return}}o.textContent=u}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gr=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(o){Gr.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),it[u]=it[o]})});function Kt(o,u,v){return u==null||typeof u=="boolean"||u===""?"":v||typeof u!="number"||u===0||it.hasOwnProperty(o)&&it[o]?(""+u).trim():u+"px"}function Ft(o,u){o=o.style;for(var v in u)if(u.hasOwnProperty(v)){var y=v.indexOf("--")===0,A=Kt(v,u[v],y);v==="float"&&(v="cssFloat"),y?o.setProperty(v,A):o[v]=A}}var Bt=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function br(o,u){if(u){if(Bt[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function vt(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cr=null;function bt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var _t=null,sr=null,Dt=null;function yt(o){if(o=hc(o)){if(typeof _t!="function")throw Error(r(280));var u=o.stateNode;u&&(u=iu(u),_t(o.stateNode,o.type,u))}}function Zt(o){sr?Dt?Dt.push(o):Dt=[o]:sr=o}function Qs(){if(sr){var o=sr,u=Dt;if(Dt=sr=null,yt(o),u)for(o=0;o<u.length;o++)yt(u[o])}}function Ln(o,u){return o(u)}function Vi(){}var ei=!1;function wt(o,u,v){if(ei)return o(u,v);ei=!0;try{return Ln(o,u,v)}finally{ei=!1,(sr!==null||Dt!==null)&&(Vi(),Qs())}}function Ma(o,u){var v=o.stateNode;if(v===null)return null;var y=iu(v);if(y===null)return null;v=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(v&&typeof v!="function")throw Error(r(231,u,typeof v));return v}var Si=!1;if(c)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Si=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Si=!1}function ti(o,u,v,y,A,O,K,he,xe){var Ie=Array.prototype.slice.call(arguments,3);try{u.apply(v,Ie)}catch($e){this.onError($e)}}var yr=!1,Yr=null,sn=!1,ys=null,Js={onError:function(o){yr=!0,Yr=o}};function Ai(o,u,v,y,A,O,K,he,xe){yr=!1,Yr=null,ti.apply(Js,arguments)}function Ki(o,u,v,y,A,O,K,he,xe){if(Ai.apply(this,arguments),yr){if(yr){var Ie=Yr;yr=!1,Yr=null}else throw Error(r(198));sn||(sn=!0,ys=Ie)}}function Dn(o){var u=o,v=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(v=u.return),o=u.return;while(o)}return u.tag===3?v:null}function ri(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Ra(o){if(Dn(o)!==o)throw Error(r(188))}function zo(o){var u=o.alternate;if(!u){if(u=Dn(o),u===null)throw Error(r(188));return u!==o?null:o}for(var v=o,y=u;;){var A=v.return;if(A===null)break;var O=A.alternate;if(O===null){if(y=A.return,y!==null){v=y;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===v)return Ra(A),o;if(O===y)return Ra(A),u;O=O.sibling}throw Error(r(188))}if(v.return!==y.return)v=A,y=O;else{for(var K=!1,he=A.child;he;){if(he===v){K=!0,v=A,y=O;break}if(he===y){K=!0,y=A,v=O;break}he=he.sibling}if(!K){for(he=O.child;he;){if(he===v){K=!0,v=O,y=A;break}if(he===y){K=!0,y=O,v=A;break}he=he.sibling}if(!K)throw Error(r(189))}}if(v.alternate!==y)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?o:u}function Pi(o){return o=zo(o),o!==null?eo(o):null}function eo(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=eo(o);if(u!==null)return u;o=o.sibling}return null}var Bo=t.unstable_scheduleCallback,Uo=t.unstable_cancelCallback,Hl=t.unstable_shouldYield,cf=t.unstable_requestPaint,jr=t.unstable_now,Ku=t.unstable_getCurrentPriorityLevel,Vl=t.unstable_ImmediatePriority,Fa=t.unstable_UserBlockingPriority,to=t.unstable_NormalPriority,Gu=t.unstable_LowPriority,Kl=t.unstable_IdlePriority,qo=null,za=null;function Yu(o){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(qo,o,void 0,(o.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:ln,Gl=Math.log,uf=Math.LN2;function ln(o){return o>>>=0,o===0?32:31-(Gl(o)/uf|0)|0}var $o=64,Ba=4194304;function Gi(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Wo(o,u){var v=o.pendingLanes;if(v===0)return 0;var y=0,A=o.suspendedLanes,O=o.pingedLanes,K=v&268435455;if(K!==0){var he=K&~A;he!==0?y=Gi(he):(O&=K,O!==0&&(y=Gi(O)))}else K=v&~A,K!==0?y=Gi(K):O!==0&&(y=Gi(O));if(y===0)return 0;if(u!==0&&u!==y&&(u&A)===0&&(A=y&-y,O=u&-u,A>=O||A===16&&(O&4194240)!==0))return u;if((y&4)!==0&&(y|=v&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=y;0<u;)v=31-on(u),A=1<<v,y|=o[v],u&=~A;return y}function ni(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(o,u){for(var v=o.suspendedLanes,y=o.pingedLanes,A=o.expirationTimes,O=o.pendingLanes;0<O;){var K=31-on(O),he=1<<K,xe=A[K];xe===-1?((he&v)===0||(he&y)!==0)&&(A[K]=ni(he,u)):xe<=u&&(o.expiredLanes|=he),O&=~he}}function Ci(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Uc(){var o=$o;return $o<<=1,($o&4194240)===0&&($o=64),o}function qc(o){for(var u=[],v=0;31>v;v++)u.push(o);return u}function Ho(o,u,v){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-on(u),o[u]=v}function Yi(o,u){var v=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<v;){var A=31-on(v),O=1<<A;u[A]=0,y[A]=-1,o[A]=-1,v&=~O}}function Yl(o,u){var v=o.entangledLanes|=u;for(o=o.entanglements;v;){var y=31-on(v),A=1<<y;A&u|o[y]&u&&(o[y]|=u),v&=~A}}var Yt=0;function Vo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ro,$c,Xu,Zu,Xl,Zl=!1,ba=[],Xi=null,ya=null,ai=null,Ko=new Map,St=new Map,Zi=[],df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qu(o,u){switch(o){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":Ko.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(u.pointerId)}}function Ua(o,u,v,y,A,O){return o===null||o.nativeEvent!==O?(o={blockedOn:u,domEventName:v,eventSystemFlags:y,nativeEvent:O,targetContainers:[A]},u!==null&&(u=hc(u),u!==null&&$c(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),o)}function ws(o,u,v,y,A){switch(u){case"focusin":return Xi=Ua(Xi,o,u,v,y,A),!0;case"dragenter":return ya=Ua(ya,o,u,v,y,A),!0;case"mouseover":return ai=Ua(ai,o,u,v,y,A),!0;case"pointerover":var O=A.pointerId;return Ko.set(O,Ua(Ko.get(O)||null,o,u,v,y,A)),!0;case"gotpointercapture":return O=A.pointerId,St.set(O,Ua(St.get(O)||null,o,u,v,y,A)),!0}return!1}function Ju(o){var u=po(o.target);if(u!==null){var v=Dn(u);if(v!==null){if(u=v.tag,u===13){if(u=ri(v),u!==null){o.blockedOn=u,Xl(o.priority,function(){Xu(v)});return}}else if(u===3&&v.stateNode.current.memoizedState.isDehydrated){o.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ql(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var v=Xo(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(v===null){v=o.nativeEvent;var y=new v.constructor(v.type,v);cr=y,v.target.dispatchEvent(y),cr=null}else return u=hc(v),u!==null&&$c(u),o.blockedOn=v,!1;u.shift()}return!0}function Go(o,u,v){Ql(o)&&v.delete(u)}function Wc(){Zl=!1,Xi!==null&&Ql(Xi)&&(Xi=null),ya!==null&&Ql(ya)&&(ya=null),ai!==null&&Ql(ai)&&(ai=null),Ko.forEach(Go),St.forEach(Go)}function _i(o,u){o.blockedOn===u&&(o.blockedOn=null,Zl||(Zl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wc)))}function Yo(o){function u(A){return _i(A,o)}if(0<ba.length){_i(ba[0],o);for(var v=1;v<ba.length;v++){var y=ba[v];y.blockedOn===o&&(y.blockedOn=null)}}for(Xi!==null&&_i(Xi,o),ya!==null&&_i(ya,o),ai!==null&&_i(ai,o),Ko.forEach(u),St.forEach(u),v=0;v<Zi.length;v++)y=Zi[v],y.blockedOn===o&&(y.blockedOn=null);for(;0<Zi.length&&(v=Zi[0],v.blockedOn===null);)Ju(v),v.blockedOn===null&&Zi.shift()}var wa=I.ReactCurrentBatchConfig,Jl=!0;function Hc(o,u,v,y){var A=Yt,O=wa.transition;wa.transition=null;try{Yt=1,ec(o,u,v,y)}finally{Yt=A,wa.transition=O}}function Vc(o,u,v,y){var A=Yt,O=wa.transition;wa.transition=null;try{Yt=4,ec(o,u,v,y)}finally{Yt=A,wa.transition=O}}function ec(o,u,v,y){if(Jl){var A=Xo(o,u,v,y);if(A===null)ru(o,u,y,ii,v),Qu(o,y);else if(ws(A,o,u,v,y))y.stopPropagation();else if(Qu(o,y),u&4&&-1<df.indexOf(o)){for(;A!==null;){var O=hc(A);if(O!==null&&ro(O),O=Xo(o,u,v,y),O===null&&ru(o,u,y,ii,v),O===A)break;A=O}A!==null&&y.stopPropagation()}else ru(o,u,y,null,v)}}var ii=null;function Xo(o,u,v,y){if(ii=null,o=bt(y),o=po(o),o!==null)if(u=Dn(o),u===null)o=null;else if(v=u.tag,v===13){if(o=ri(u),o!==null)return o;o=null}else if(v===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return ii=o,null}function Zo(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ku()){case Vl:return 1;case Fa:return 4;case to:case Gu:return 16;case Kl:return 536870912;default:return 16}default:return 16}}var si=null,Ns=null,no=null;function Kc(){if(no)return no;var o,u=Ns,v=u.length,y,A="value"in si?si.value:si.textContent,O=A.length;for(o=0;o<v&&u[o]===A[o];o++);var K=v-o;for(y=1;y<=K&&u[v-y]===A[O-y];y++);return no=A.slice(o,1<y?1-y:void 0)}function Qo(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function oi(){return!0}function Qi(){return!1}function Vn(o){function u(v,y,A,O,K){this._reactName=v,this._targetInst=A,this.type=y,this.nativeEvent=O,this.target=K,this.currentTarget=null;for(var he in o)o.hasOwnProperty(he)&&(v=o[he],this[he]=v?v(O):O[he]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?oi:Qi,this.isPropagationStopped=Qi,this}return me(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),u}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=Vn(li),S=me({},li,{view:0,detail:0}),$=Vn(S),ce,ve,je,Me=me({},S,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==je&&(je&&o.type==="mousemove"?(ce=o.screenX-je.screenX,ve=o.screenY-je.screenY):ve=ce=0,je=o),ce)},movementY:function(o){return"movementY"in o?o.movementY:ve}}),ze=Vn(Me),tt=me({},Me,{dataTransfer:0}),lt=Vn(tt),Ct=me({},S,{relatedTarget:0}),Lt=Vn(Ct),Gt=me({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Tr=Vn(Gt),cn=me({},li,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),wr=Vn(cn),yn=me({},li,{data:0}),Xr=Vn(yn),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ks(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Oi[o])?!!u[o]:!1}function Jo(){return ks}var rc=me({},S,{key:function(o){if(o.key){var u=Tn[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Qo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?js[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(o){return o.type==="keypress"?Qo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Qo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ao=Vn(rc),el=me({},Me,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),io=Vn(el),so=me({},S,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),Mn=Vn(so),tl=me({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),rl=Vn(tl),Gc=me({},Me,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Yc=Vn(Gc),la=[9,13,27,32],Ii=c&&"CompositionEvent"in window,Ji=null;c&&"documentMode"in document&&(Ji=document.documentMode);var ed=c&&"TextEvent"in window&&!Ji,qa=c&&(!Ii||Ji&&8<Ji&&11>=Ji),oo=" ",nc=!1;function ac(o,u){switch(o){case"keyup":return la.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ss(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ci=!1;function $a(o,u){switch(o){case"compositionend":return Ss(u);case"keypress":return u.which!==32?null:(nc=!0,oo);case"textInput":return o=u.data,o===oo&&nc?null:o;default:return null}}function Wa(o,u){if(ci)return o==="compositionend"||!Ii&&ac(o,u)?(o=Kc(),no=Ns=si=null,ci=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return qa&&u.locale!=="ko"?null:u.data;default:return null}}var lo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function es(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!lo[o.type]:u==="textarea"}function As(o,u,v,y){Zt(y),u=id(u,"onChange"),0<u.length&&(v=new tc("onChange","change",null,v,y),o.push({event:v,listeners:u}))}var Ps=null,ts=null;function Zr(o){eu(o,0)}function nl(o){var u=hl(o);if(ke(u))return o}function rs(o,u){if(o==="change")return u}var Ei=!1;if(c){var al;if(c){var il="oninput"in document;if(!il){var ic=document.createElement("div");ic.setAttribute("oninput","return;"),il=typeof ic.oninput=="function"}al=il}else al=!1;Ei=al&&(!document.documentMode||9<document.documentMode)}function sc(){Ps&&(Ps.detachEvent("onpropertychange",Cs),ts=Ps=null)}function Cs(o){if(o.propertyName==="value"&&nl(ts)){var u=[];As(u,ts,o,bt(o)),wt(Zr,u)}}function co(o,u,v){o==="focusin"?(sc(),Ps=u,ts=v,Ps.attachEvent("onpropertychange",Cs)):o==="focusout"&&sc()}function uo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return nl(ts)}function sl(o,u){if(o==="click")return nl(u)}function fo(o,u){if(o==="input"||o==="change")return nl(u)}function ol(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var zr=typeof Object.is=="function"?Object.is:ol;function Na(o,u){if(zr(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var v=Object.keys(o),y=Object.keys(u);if(v.length!==y.length)return!1;for(y=0;y<v.length;y++){var A=v[y];if(!d.call(u,A)||!zr(o[A],u[A]))return!1}return!0}function Qt(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ur(o,u){var v=Qt(o);o=0;for(var y;v;){if(v.nodeType===3){if(y=o+v.textContent.length,o<=u&&y>=u)return{node:v,offset:u-o};o=y}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Qt(v)}}function Br(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Br(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function un(){for(var o=window,u=qe();u instanceof o.HTMLIFrameElement;){try{var v=typeof u.contentWindow.location.href=="string"}catch{v=!1}if(v)o=u.contentWindow;else break;u=qe(o.document)}return u}function Li(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function Xc(o){var u=un(),v=o.focusedElem,y=o.selectionRange;if(u!==v&&v&&v.ownerDocument&&Br(v.ownerDocument.documentElement,v)){if(y!==null&&Li(v)){if(u=y.start,o=y.end,o===void 0&&(o=u),"selectionStart"in v)v.selectionStart=u,v.selectionEnd=Math.min(o,v.value.length);else if(o=(u=v.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var A=v.textContent.length,O=Math.min(y.start,A);y=y.end===void 0?O:Math.min(y.end,A),!o.extend&&O>y&&(A=y,y=O,O=A),A=ur(v,O);var K=ur(v,y);A&&K&&(o.rangeCount!==1||o.anchorNode!==A.node||o.anchorOffset!==A.offset||o.focusNode!==K.node||o.focusOffset!==K.offset)&&(u=u.createRange(),u.setStart(A.node,A.offset),o.removeAllRanges(),O>y?(o.addRange(u),o.extend(K.node,K.offset)):(u.setEnd(K.node,K.offset),o.addRange(u)))}}for(u=[],o=v;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<u.length;v++)o=u[v],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var oc=c&&"documentMode"in document&&11>=document.documentMode,_s=null,td=null,lc=null,rd=!1;function ff(o,u,v){var y=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;rd||_s==null||_s!==qe(y)||(y=_s,"selectionStart"in y&&Li(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),lc&&Na(lc,y)||(lc=y,y=id(td,"onSelect"),0<y.length&&(u=new tc("onSelect","select",null,u,v),o.push({event:u,listeners:y}),u.target=_s)))}function Zc(o,u){var v={};return v[o.toLowerCase()]=u.toLowerCase(),v["Webkit"+o]="webkit"+u,v["Moz"+o]="moz"+u,v}var ll={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},cl={},hf={};c&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Qc(o){if(cl[o])return cl[o];if(!ll[o])return o;var u=ll[o],v;for(v in u)if(u.hasOwnProperty(v)&&v in hf)return cl[o]=u[v];return o}var pf=Qc("animationend"),mf=Qc("animationiteration"),vf=Qc("animationstart"),gf=Qc("transitionend"),xf=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(o,u){xf.set(o,u),i(u,[o])}for(var cc=0;cc<bf.length;cc++){var ca=bf[cc],ui=ca.toLowerCase(),nd=ca[0].toUpperCase()+ca.slice(1);ns(ui,"on"+nd)}ns(pf,"onAnimationEnd"),ns(mf,"onAnimationIteration"),ns(vf,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(gf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function Jc(o,u,v){var y=o.type||"unknown-event";o.currentTarget=v,Ki(y,u,void 0,o),o.currentTarget=null}function eu(o,u){u=(u&4)!==0;for(var v=0;v<o.length;v++){var y=o[v],A=y.event;y=y.listeners;e:{var O=void 0;if(u)for(var K=y.length-1;0<=K;K--){var he=y[K],xe=he.instance,Ie=he.currentTarget;if(he=he.listener,xe!==O&&A.isPropagationStopped())break e;Jc(A,he,Ie),O=xe}else for(K=0;K<y.length;K++){if(he=y[K],xe=he.instance,Ie=he.currentTarget,he=he.listener,xe!==O&&A.isPropagationStopped())break e;Jc(A,he,Ie),O=xe}}}if(sn)throw o=ys,sn=!1,ys=null,o}function hr(o,u){var v=u[ka];v===void 0&&(v=u[ka]=new Set);var y=o+"__bubble";v.has(y)||(tu(u,o,2,!1),v.add(y))}function ad(o,u,v){var y=0;u&&(y|=4),tu(v,o,y,u)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ul(o){if(!o[uc]){o[uc]=!0,n.forEach(function(v){v!=="selectionchange"&&(Yh.has(v)||ad(v,!1,o),ad(v,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[uc]||(u[uc]=!0,ad("selectionchange",!1,u))}}function tu(o,u,v,y){switch(Zo(u)){case 1:var A=Hc;break;case 4:A=Vc;break;default:A=ec}v=A.bind(null,u,v,o),A=void 0,!Si||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),y?A!==void 0?o.addEventListener(u,v,{capture:!0,passive:A}):o.addEventListener(u,v,!0):A!==void 0?o.addEventListener(u,v,{passive:A}):o.addEventListener(u,v,!1)}function ru(o,u,v,y,A){var O=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var K=y.tag;if(K===3||K===4){var he=y.stateNode.containerInfo;if(he===A||he.nodeType===8&&he.parentNode===A)break;if(K===4)for(K=y.return;K!==null;){var xe=K.tag;if((xe===3||xe===4)&&(xe=K.stateNode.containerInfo,xe===A||xe.nodeType===8&&xe.parentNode===A))return;K=K.return}for(;he!==null;){if(K=po(he),K===null)return;if(xe=K.tag,xe===5||xe===6){y=O=K;continue e}he=he.parentNode}}y=y.return}wt(function(){var Ie=O,$e=bt(v),We=[];e:{var Ue=xf.get(o);if(Ue!==void 0){var Xe=tc,nt=o;switch(o){case"keypress":if(Qo(v)===0)break e;case"keydown":case"keyup":Xe=ao;break;case"focusin":nt="focus",Xe=Lt;break;case"focusout":nt="blur",Xe=Lt;break;case"beforeblur":case"afterblur":Xe=Lt;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=ze;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=lt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Mn;break;case pf:case mf:case vf:Xe=Tr;break;case gf:Xe=rl;break;case"scroll":Xe=$;break;case"wheel":Xe=Yc;break;case"copy":case"cut":case"paste":Xe=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=io}var ot=(u&4)!==0,jn=!ot&&o==="scroll",Pe=ot?Ue!==null?Ue+"Capture":null:Ue;ot=[];for(var Ne=Ie,Oe;Ne!==null;){Oe=Ne;var Ve=Oe.stateNode;if(Oe.tag===5&&Ve!==null&&(Oe=Ve,Pe!==null&&(Ve=Ma(Ne,Pe),Ve!=null&&ot.push(nu(Ne,Ve,Oe)))),jn)break;Ne=Ne.return}0<ot.length&&(Ue=new Xe(Ue,nt,null,v,$e),We.push({event:Ue,listeners:ot}))}}if((u&7)===0){e:{if(Ue=o==="mouseover"||o==="pointerover",Xe=o==="mouseout"||o==="pointerout",Ue&&v!==cr&&(nt=v.relatedTarget||v.fromElement)&&(po(nt)||nt[Kn]))break e;if((Xe||Ue)&&(Ue=$e.window===$e?$e:(Ue=$e.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,Xe?(nt=v.relatedTarget||v.toElement,Xe=Ie,nt=nt?po(nt):null,nt!==null&&(jn=Dn(nt),nt!==jn||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Xe=null,nt=Ie),Xe!==nt)){if(ot=ze,Ve="onMouseLeave",Pe="onMouseEnter",Ne="mouse",(o==="pointerout"||o==="pointerover")&&(ot=io,Ve="onPointerLeave",Pe="onPointerEnter",Ne="pointer"),jn=Xe==null?Ue:hl(Xe),Oe=nt==null?Ue:hl(nt),Ue=new ot(Ve,Ne+"leave",Xe,v,$e),Ue.target=jn,Ue.relatedTarget=Oe,Ve=null,po($e)===Ie&&(ot=new ot(Pe,Ne+"enter",nt,v,$e),ot.target=Oe,ot.relatedTarget=jn,Ve=ot),jn=Ve,Xe&&nt)t:{for(ot=Xe,Pe=nt,Ne=0,Oe=ot;Oe;Oe=dl(Oe))Ne++;for(Oe=0,Ve=Pe;Ve;Ve=dl(Ve))Oe++;for(;0<Ne-Oe;)ot=dl(ot),Ne--;for(;0<Oe-Ne;)Pe=dl(Pe),Oe--;for(;Ne--;){if(ot===Pe||Pe!==null&&ot===Pe.alternate)break t;ot=dl(ot),Pe=dl(Pe)}ot=null}else ot=null;Xe!==null&&Xh(We,Ue,Xe,ot,!1),nt!==null&&jn!==null&&Xh(We,jn,nt,ot,!0)}}e:{if(Ue=Ie?hl(Ie):window,Xe=Ue.nodeName&&Ue.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ue.type==="file")var ut=rs;else if(es(Ue))if(Ei)ut=fo;else{ut=uo;var Nt=co}else(Xe=Ue.nodeName)&&Xe.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(ut=sl);if(ut&&(ut=ut(o,Ie))){As(We,ut,v,$e);break e}Nt&&Nt(o,Ue,Ie),o==="focusout"&&(Nt=Ue._wrapperState)&&Nt.controlled&&Ue.type==="number"&&Be(Ue,"number",Ue.value)}switch(Nt=Ie?hl(Ie):window,o){case"focusin":(es(Nt)||Nt.contentEditable==="true")&&(_s=Nt,td=Ie,lc=null);break;case"focusout":lc=td=_s=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,ff(We,v,$e);break;case"selectionchange":if(oc)break;case"keydown":case"keyup":ff(We,v,$e)}var jt;if(Ii)e:{switch(o){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else ci?ac(o,v)&&(Ot="onCompositionEnd"):o==="keydown"&&v.keyCode===229&&(Ot="onCompositionStart");Ot&&(qa&&v.locale!=="ko"&&(ci||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ci&&(jt=Kc()):(si=$e,Ns="value"in si?si.value:si.textContent,ci=!0)),Nt=id(Ie,Ot),0<Nt.length&&(Ot=new Xr(Ot,o,null,v,$e),We.push({event:Ot,listeners:Nt}),jt?Ot.data=jt:(jt=Ss(v),jt!==null&&(Ot.data=jt)))),(jt=ed?$a(o,v):Wa(o,v))&&(Ie=id(Ie,"onBeforeInput"),0<Ie.length&&($e=new Xr("onBeforeInput","beforeinput",null,v,$e),We.push({event:$e,listeners:Ie}),$e.data=jt))}eu(We,u)})}function nu(o,u,v){return{instance:o,listener:u,currentTarget:v}}function id(o,u){for(var v=u+"Capture",y=[];o!==null;){var A=o,O=A.stateNode;A.tag===5&&O!==null&&(A=O,O=Ma(o,v),O!=null&&y.unshift(nu(o,O,A)),O=Ma(o,u),O!=null&&y.push(nu(o,O,A))),o=o.return}return y}function dl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Xh(o,u,v,y,A){for(var O=u._reactName,K=[];v!==null&&v!==y;){var he=v,xe=he.alternate,Ie=he.stateNode;if(xe!==null&&xe===y)break;he.tag===5&&Ie!==null&&(he=Ie,A?(xe=Ma(v,O),xe!=null&&K.unshift(nu(v,xe,he))):A||(xe=Ma(v,O),xe!=null&&K.push(nu(v,xe,he)))),v=v.return}K.length!==0&&o.push({event:u,listeners:K})}var fv=/\r\n?/g,hv=/\u0000|\uFFFD/g;function Zh(o){return(typeof o=="string"?o:""+o).replace(fv,`
`).replace(hv,"")}function sd(o,u,v){if(u=Zh(u),Zh(o)!==u&&v)throw Error(r(425))}function dc(){}var au=null,fl=null;function yf(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var wf=typeof setTimeout=="function"?setTimeout:void 0,Qh=typeof clearTimeout=="function"?clearTimeout:void 0,Jh=typeof Promise=="function"?Promise:void 0,pv=typeof queueMicrotask=="function"?queueMicrotask:typeof Jh<"u"?function(o){return Jh.resolve(null).then(o).catch(mv)}:wf;function mv(o){setTimeout(function(){throw o})}function Nf(o,u){var v=u,y=0;do{var A=v.nextSibling;if(o.removeChild(v),A&&A.nodeType===8)if(v=A.data,v==="/$"){if(y===0){o.removeChild(A),Yo(u);return}y--}else v!=="$"&&v!=="$?"&&v!=="$!"||y++;v=A}while(v);Yo(u)}function ua(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function di(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var v=o.data;if(v==="$"||v==="$!"||v==="$?"){if(u===0)return o;u--}else v==="/$"&&u++}o=o.previousSibling}return null}var ja=Math.random().toString(36).slice(2),as="__reactFiber$"+ja,fc="__reactProps$"+ja,Kn="__reactContainer$"+ja,ka="__reactEvents$"+ja,vv="__reactListeners$"+ja,gv="__reactHandles$"+ja;function po(o){var u=o[as];if(u)return u;for(var v=o.parentNode;v;){if(u=v[Kn]||v[as]){if(v=u.alternate,u.child!==null||v!==null&&v.child!==null)for(o=di(o);o!==null;){if(v=o[as])return v;o=di(o)}return u}o=v,v=o.parentNode}return null}function hc(o){return o=o[as]||o[Kn],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function hl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function iu(o){return o[fc]||null}var jf=[],Os=-1;function Di(o){return{current:o}}function or(o){0>Os||(o.current=jf[Os],jf[Os]=null,Os--)}function dr(o,u){Os++,jf[Os]=o.current,o.current=u}var mo={},Rn=Di(mo),Sa=Di(!1),pl=mo;function pc(o,u){var v=o.type.contextTypes;if(!v)return mo;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var A={},O;for(O in v)A[O]=u[O];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=A),A}function Aa(o){return o=o.childContextTypes,o!=null}function od(){or(Sa),or(Rn)}function ep(o,u,v){if(Rn.current!==mo)throw Error(r(168));dr(Rn,u),dr(Sa,v)}function kf(o,u,v){var y=o.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return v;y=y.getChildContext();for(var A in y)if(!(A in u))throw Error(r(108,de(o)||"Unknown",A));return me({},v,y)}function ml(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||mo,pl=Rn.current,dr(Rn,o),dr(Sa,Sa.current),!0}function tp(o,u,v){var y=o.stateNode;if(!y)throw Error(r(169));v?(o=kf(o,u,pl),y.__reactInternalMemoizedMergedChildContext=o,or(Sa),or(Rn),dr(Rn,o)):or(Sa),dr(Sa,v)}var Is=null,su=!1,x=!1;function j(o){Is===null?Is=[o]:Is.push(o)}function _(o){su=!0,j(o)}function D(){if(!x&&Is!==null){x=!0;var o=0,u=Yt;try{var v=Is;for(Yt=1;o<v.length;o++){var y=v[o];do y=y(!0);while(y!==null)}Is=null,su=!1}catch(A){throw Is!==null&&(Is=Is.slice(o+1)),Bo(Vl,D),A}finally{Yt=u,x=!1}}return null}var q=[],G=0,X=null,Q=0,te=[],se=0,ge=null,Ae=1,oe="";function be(o,u){q[G++]=Q,q[G++]=X,X=o,Q=u}function Se(o,u,v){te[se++]=Ae,te[se++]=oe,te[se++]=ge,ge=o;var y=Ae;o=oe;var A=32-on(y)-1;y&=~(1<<A),v+=1;var O=32-on(u)+A;if(30<O){var K=A-A%5;O=(y&(1<<K)-1).toString(32),y>>=K,A-=K,Ae=1<<32-on(u)+A|v<<A|y,oe=O+o}else Ae=1<<O|v<<A|y,oe=o}function Te(o){o.return!==null&&(be(o,1),Se(o,1,0))}function Ce(o){for(;o===X;)X=q[--G],q[G]=null,Q=q[--G],q[G]=null;for(;o===ge;)ge=te[--se],te[se]=null,oe=te[--se],te[se]=null,Ae=te[--se],te[se]=null}var Ee=null,De=null,Re=!1,Fe=null;function ct(o,u){var v=cs(5,null,null,0);v.elementType="DELETED",v.stateNode=u,v.return=o,u=o.deletions,u===null?(o.deletions=[v],o.flags|=16):u.push(v)}function Ze(o,u){switch(o.tag){case 5:var v=o.type;return u=u.nodeType!==1||v.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,Ee=o,De=ua(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,Ee=o,De=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(v=ge!==null?{id:Ae,overflow:oe}:null,o.memoizedState={dehydrated:u,treeContext:v,retryLane:1073741824},v=cs(18,null,null,0),v.stateNode=u,v.return=o,o.child=v,Ee=o,De=null,!0):!1;default:return!1}}function Tt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function rt(o){if(Re){var u=De;if(u){var v=u;if(!Ze(o,u)){if(Tt(o))throw Error(r(418));u=ua(v.nextSibling);var y=Ee;u&&Ze(o,u)?ct(y,v):(o.flags=o.flags&-4097|2,Re=!1,Ee=o)}}else{if(Tt(o))throw Error(r(418));o.flags=o.flags&-4097|2,Re=!1,Ee=o}}}function Wt(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ee=o}function Ur(o){if(o!==Ee)return!1;if(!Re)return Wt(o),Re=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!yf(o.type,o.memoizedProps)),u&&(u=De)){if(Tt(o))throw Mt(),Error(r(418));for(;u;)ct(o,u),u=ua(u.nextSibling)}if(Wt(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var v=o.data;if(v==="/$"){if(u===0){De=ua(o.nextSibling);break e}u--}else v!=="$"&&v!=="$!"&&v!=="$?"||u++}o=o.nextSibling}De=null}}else De=Ee?ua(o.stateNode.nextSibling):null;return!0}function Mt(){for(var o=De;o;)o=ua(o.nextSibling)}function Qe(){De=Ee=null,Re=!1}function Ge(o){Fe===null?Fe=[o]:Fe.push(o)}var Qr=I.ReactCurrentBatchConfig;function At(o,u,v){if(o=v.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(r(309));var y=v.stateNode}if(!y)throw Error(r(147,o));var A=y,O=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(K){var he=A.refs;K===null?delete he[O]:he[O]=K},u._stringRef=O,u)}if(typeof o!="string")throw Error(r(284));if(!v._owner)throw Error(r(290,o))}return o}function $t(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function Nr(o){var u=o._init;return u(o._payload)}function Cn(o){function u(Pe,Ne){if(o){var Oe=Pe.deletions;Oe===null?(Pe.deletions=[Ne],Pe.flags|=16):Oe.push(Ne)}}function v(Pe,Ne){if(!o)return null;for(;Ne!==null;)u(Pe,Ne),Ne=Ne.sibling;return null}function y(Pe,Ne){for(Pe=new Map;Ne!==null;)Ne.key!==null?Pe.set(Ne.key,Ne):Pe.set(Ne.index,Ne),Ne=Ne.sibling;return Pe}function A(Pe,Ne){return Pe=kc(Pe,Ne),Pe.index=0,Pe.sibling=null,Pe}function O(Pe,Ne,Oe){return Pe.index=Oe,o?(Oe=Pe.alternate,Oe!==null?(Oe=Oe.index,Oe<Ne?(Pe.flags|=2,Ne):Oe):(Pe.flags|=2,Ne)):(Pe.flags|=1048576,Ne)}function K(Pe){return o&&Pe.alternate===null&&(Pe.flags|=2),Pe}function he(Pe,Ne,Oe,Ve){return Ne===null||Ne.tag!==6?(Ne=Vv(Oe,Pe.mode,Ve),Ne.return=Pe,Ne):(Ne=A(Ne,Oe),Ne.return=Pe,Ne)}function xe(Pe,Ne,Oe,Ve){var ut=Oe.type;return ut===R?$e(Pe,Ne,Oe.props.children,Ve,Oe.key):Ne!==null&&(Ne.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===pe&&Nr(ut)===Ne.type)?(Ve=A(Ne,Oe.props),Ve.ref=At(Pe,Ne,Oe),Ve.return=Pe,Ve):(Ve=wp(Oe.type,Oe.key,Oe.props,null,Pe.mode,Ve),Ve.ref=At(Pe,Ne,Oe),Ve.return=Pe,Ve)}function Ie(Pe,Ne,Oe,Ve){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Oe.containerInfo||Ne.stateNode.implementation!==Oe.implementation?(Ne=Kv(Oe,Pe.mode,Ve),Ne.return=Pe,Ne):(Ne=A(Ne,Oe.children||[]),Ne.return=Pe,Ne)}function $e(Pe,Ne,Oe,Ve,ut){return Ne===null||Ne.tag!==7?(Ne=pu(Oe,Pe.mode,Ve,ut),Ne.return=Pe,Ne):(Ne=A(Ne,Oe),Ne.return=Pe,Ne)}function We(Pe,Ne,Oe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=Vv(""+Ne,Pe.mode,Oe),Ne.return=Pe,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case M:return Oe=wp(Ne.type,Ne.key,Ne.props,null,Pe.mode,Oe),Oe.ref=At(Pe,null,Ne),Oe.return=Pe,Oe;case F:return Ne=Kv(Ne,Pe.mode,Oe),Ne.return=Pe,Ne;case pe:var Ve=Ne._init;return We(Pe,Ve(Ne._payload),Oe)}if(pt(Ne)||le(Ne))return Ne=pu(Ne,Pe.mode,Oe,null),Ne.return=Pe,Ne;$t(Pe,Ne)}return null}function Ue(Pe,Ne,Oe,Ve){var ut=Ne!==null?Ne.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ut!==null?null:he(Pe,Ne,""+Oe,Ve);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case M:return Oe.key===ut?xe(Pe,Ne,Oe,Ve):null;case F:return Oe.key===ut?Ie(Pe,Ne,Oe,Ve):null;case pe:return ut=Oe._init,Ue(Pe,Ne,ut(Oe._payload),Ve)}if(pt(Oe)||le(Oe))return ut!==null?null:$e(Pe,Ne,Oe,Ve,null);$t(Pe,Oe)}return null}function Xe(Pe,Ne,Oe,Ve,ut){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return Pe=Pe.get(Oe)||null,he(Ne,Pe,""+Ve,ut);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case M:return Pe=Pe.get(Ve.key===null?Oe:Ve.key)||null,xe(Ne,Pe,Ve,ut);case F:return Pe=Pe.get(Ve.key===null?Oe:Ve.key)||null,Ie(Ne,Pe,Ve,ut);case pe:var Nt=Ve._init;return Xe(Pe,Ne,Oe,Nt(Ve._payload),ut)}if(pt(Ve)||le(Ve))return Pe=Pe.get(Oe)||null,$e(Ne,Pe,Ve,ut,null);$t(Ne,Ve)}return null}function nt(Pe,Ne,Oe,Ve){for(var ut=null,Nt=null,jt=Ne,Ot=Ne=0,Qn=null;jt!==null&&Ot<Oe.length;Ot++){jt.index>Ot?(Qn=jt,jt=null):Qn=jt.sibling;var nr=Ue(Pe,jt,Oe[Ot],Ve);if(nr===null){jt===null&&(jt=Qn);break}o&&jt&&nr.alternate===null&&u(Pe,jt),Ne=O(nr,Ne,Ot),Nt===null?ut=nr:Nt.sibling=nr,Nt=nr,jt=Qn}if(Ot===Oe.length)return v(Pe,jt),Re&&be(Pe,Ot),ut;if(jt===null){for(;Ot<Oe.length;Ot++)jt=We(Pe,Oe[Ot],Ve),jt!==null&&(Ne=O(jt,Ne,Ot),Nt===null?ut=jt:Nt.sibling=jt,Nt=jt);return Re&&be(Pe,Ot),ut}for(jt=y(Pe,jt);Ot<Oe.length;Ot++)Qn=Xe(jt,Pe,Ot,Oe[Ot],Ve),Qn!==null&&(o&&Qn.alternate!==null&&jt.delete(Qn.key===null?Ot:Qn.key),Ne=O(Qn,Ne,Ot),Nt===null?ut=Qn:Nt.sibling=Qn,Nt=Qn);return o&&jt.forEach(function(Sc){return u(Pe,Sc)}),Re&&be(Pe,Ot),ut}function ot(Pe,Ne,Oe,Ve){var ut=le(Oe);if(typeof ut!="function")throw Error(r(150));if(Oe=ut.call(Oe),Oe==null)throw Error(r(151));for(var Nt=ut=null,jt=Ne,Ot=Ne=0,Qn=null,nr=Oe.next();jt!==null&&!nr.done;Ot++,nr=Oe.next()){jt.index>Ot?(Qn=jt,jt=null):Qn=jt.sibling;var Sc=Ue(Pe,jt,nr.value,Ve);if(Sc===null){jt===null&&(jt=Qn);break}o&&jt&&Sc.alternate===null&&u(Pe,jt),Ne=O(Sc,Ne,Ot),Nt===null?ut=Sc:Nt.sibling=Sc,Nt=Sc,jt=Qn}if(nr.done)return v(Pe,jt),Re&&be(Pe,Ot),ut;if(jt===null){for(;!nr.done;Ot++,nr=Oe.next())nr=We(Pe,nr.value,Ve),nr!==null&&(Ne=O(nr,Ne,Ot),Nt===null?ut=nr:Nt.sibling=nr,Nt=nr);return Re&&be(Pe,Ot),ut}for(jt=y(Pe,jt);!nr.done;Ot++,nr=Oe.next())nr=Xe(jt,Pe,Ot,nr.value,Ve),nr!==null&&(o&&nr.alternate!==null&&jt.delete(nr.key===null?Ot:nr.key),Ne=O(nr,Ne,Ot),Nt===null?ut=nr:Nt.sibling=nr,Nt=nr);return o&&jt.forEach(function(yO){return u(Pe,yO)}),Re&&be(Pe,Ot),ut}function jn(Pe,Ne,Oe,Ve){if(typeof Oe=="object"&&Oe!==null&&Oe.type===R&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case M:e:{for(var ut=Oe.key,Nt=Ne;Nt!==null;){if(Nt.key===ut){if(ut=Oe.type,ut===R){if(Nt.tag===7){v(Pe,Nt.sibling),Ne=A(Nt,Oe.props.children),Ne.return=Pe,Pe=Ne;break e}}else if(Nt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===pe&&Nr(ut)===Nt.type){v(Pe,Nt.sibling),Ne=A(Nt,Oe.props),Ne.ref=At(Pe,Nt,Oe),Ne.return=Pe,Pe=Ne;break e}v(Pe,Nt);break}else u(Pe,Nt);Nt=Nt.sibling}Oe.type===R?(Ne=pu(Oe.props.children,Pe.mode,Ve,Oe.key),Ne.return=Pe,Pe=Ne):(Ve=wp(Oe.type,Oe.key,Oe.props,null,Pe.mode,Ve),Ve.ref=At(Pe,Ne,Oe),Ve.return=Pe,Pe=Ve)}return K(Pe);case F:e:{for(Nt=Oe.key;Ne!==null;){if(Ne.key===Nt)if(Ne.tag===4&&Ne.stateNode.containerInfo===Oe.containerInfo&&Ne.stateNode.implementation===Oe.implementation){v(Pe,Ne.sibling),Ne=A(Ne,Oe.children||[]),Ne.return=Pe,Pe=Ne;break e}else{v(Pe,Ne);break}else u(Pe,Ne);Ne=Ne.sibling}Ne=Kv(Oe,Pe.mode,Ve),Ne.return=Pe,Pe=Ne}return K(Pe);case pe:return Nt=Oe._init,jn(Pe,Ne,Nt(Oe._payload),Ve)}if(pt(Oe))return nt(Pe,Ne,Oe,Ve);if(le(Oe))return ot(Pe,Ne,Oe,Ve);$t(Pe,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Ne!==null&&Ne.tag===6?(v(Pe,Ne.sibling),Ne=A(Ne,Oe),Ne.return=Pe,Pe=Ne):(v(Pe,Ne),Ne=Vv(Oe,Pe.mode,Ve),Ne.return=Pe,Pe=Ne),K(Pe)):v(Pe,Ne)}return jn}var dn=Cn(!0),Mr=Cn(!1),wn=Di(null),_n=null,Cr=null,Vt=null;function Jt(){Vt=Cr=_n=null}function _r(o){var u=wn.current;or(wn),o._currentValue=u}function er(o,u,v){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===v)break;o=o.return}}function qr(o,u){_n=o,Vt=Cr=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(hi=!0),o.firstContext=null)}function $r(o){var u=o._currentValue;if(Vt!==o)if(o={context:o,memoizedValue:u,next:null},Cr===null){if(_n===null)throw Error(r(308));Cr=o,_n.dependencies={lanes:0,firstContext:o}}else Cr=Cr.next=o;return u}var pr=null;function Gn(o){pr===null?pr=[o]:pr.push(o)}function fr(o,u,v,y){var A=u.interleaved;return A===null?(v.next=v,Gn(u)):(v.next=A.next,A.next=v),u.interleaved=v,mr(o,y)}function mr(o,u){o.lanes|=u;var v=o.alternate;for(v!==null&&(v.lanes|=u),v=o,o=o.return;o!==null;)o.childLanes|=u,v=o.alternate,v!==null&&(v.childLanes|=u),v=o,o=o.return;return v.tag===3?v.stateNode:null}var fn=!1;function Fn(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Jr(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function en(o,u,v){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(tr&2)!==0){var A=y.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),y.pending=u,mr(o,v)}return A=y.interleaved,A===null?(u.next=u,Gn(y)):(u.next=A.next,A.next=u),y.interleaved=u,mr(o,v)}function Yn(o,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194240)!==0)){var y=u.lanes;y&=o.pendingLanes,v|=y,u.lanes=v,Yl(o,v)}}function vr(o,u){var v=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,v===y)){var A=null,O=null;if(v=v.firstBaseUpdate,v!==null){do{var K={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};O===null?A=O=K:O=O.next=K,v=v.next}while(v!==null);O===null?A=O=u:O=O.next=u}else A=O=u;v={baseState:y.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:y.shared,effects:y.effects},o.updateQueue=v;return}o=v.lastBaseUpdate,o===null?v.firstBaseUpdate=u:o.next=u,v.lastBaseUpdate=u}function Xn(o,u,v,y){var A=o.updateQueue;fn=!1;var O=A.firstBaseUpdate,K=A.lastBaseUpdate,he=A.shared.pending;if(he!==null){A.shared.pending=null;var xe=he,Ie=xe.next;xe.next=null,K===null?O=Ie:K.next=Ie,K=xe;var $e=o.alternate;$e!==null&&($e=$e.updateQueue,he=$e.lastBaseUpdate,he!==K&&(he===null?$e.firstBaseUpdate=Ie:he.next=Ie,$e.lastBaseUpdate=xe))}if(O!==null){var We=A.baseState;K=0,$e=Ie=xe=null,he=O;do{var Ue=he.lane,Xe=he.eventTime;if((y&Ue)===Ue){$e!==null&&($e=$e.next={eventTime:Xe,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var nt=o,ot=he;switch(Ue=u,Xe=v,ot.tag){case 1:if(nt=ot.payload,typeof nt=="function"){We=nt.call(Xe,We,Ue);break e}We=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=ot.payload,Ue=typeof nt=="function"?nt.call(Xe,We,Ue):nt,Ue==null)break e;We=me({},We,Ue);break e;case 2:fn=!0}}he.callback!==null&&he.lane!==0&&(o.flags|=64,Ue=A.effects,Ue===null?A.effects=[he]:Ue.push(he))}else Xe={eventTime:Xe,lane:Ue,tag:he.tag,payload:he.payload,callback:he.callback,next:null},$e===null?(Ie=$e=Xe,xe=We):$e=$e.next=Xe,K|=Ue;if(he=he.next,he===null){if(he=A.shared.pending,he===null)break;Ue=he,he=Ue.next,Ue.next=null,A.lastBaseUpdate=Ue,A.shared.pending=null}}while(!0);if($e===null&&(xe=We),A.baseState=xe,A.firstBaseUpdate=Ie,A.lastBaseUpdate=$e,u=A.shared.interleaved,u!==null){A=u;do K|=A.lane,A=A.next;while(A!==u)}else O===null&&(A.shared.lanes=0);uu|=K,o.lanes=K,o.memoizedState=We}}function fi(o,u,v){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var y=o[u],A=y.callback;if(A!==null){if(y.callback=null,y=v,typeof A!="function")throw Error(r(191,A));A.call(y)}}}var Ti={},On=Di(Ti),tn=Di(Ti),vo=Di(Ti);function Es(o){if(o===Ti)throw Error(r(174));return o}function mc(o,u){switch(dr(vo,u),dr(tn,o),dr(On,Ti),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:qt(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=qt(u,o)}or(On),dr(On,u)}function is(){or(On),or(tn),or(vo)}function rp(o){Es(vo.current);var u=Es(On.current),v=qt(u,o.type);u!==v&&(dr(tn,o),dr(On,v))}function Sf(o){tn.current===o&&(or(On),or(tn))}var kr=Di(0);function Mi(o){for(var u=o;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Af=[];function Pf(){for(var o=0;o<Af.length;o++)Af[o]._workInProgressVersionPrimary=null;Af.length=0}var ld=I.ReactCurrentDispatcher,cd=I.ReactCurrentBatchConfig,ss=0,Or=null,hn=null,rn=null,vc=!1,Ls=!1,gc=0,xv=0;function Nn(){throw Error(r(321))}function ud(o,u){if(u===null)return!1;for(var v=0;v<u.length&&v<o.length;v++)if(!zr(o[v],u[v]))return!1;return!0}function ou(o,u,v,y,A,O){if(ss=O,Or=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ld.current=o===null||o.memoizedState===null?V_:K_,o=v(y,A),Ls){O=0;do{if(Ls=!1,gc=0,25<=O)throw Error(r(301));O+=1,rn=hn=null,u.updateQueue=null,ld.current=G_,o=v(y,A)}while(Ls)}if(ld.current=op,u=hn!==null&&hn.next!==null,ss=0,rn=hn=Or=null,vc=!1,u)throw Error(r(300));return o}function os(){var o=gc!==0;return gc=0,o}function Ri(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Or.memoizedState=rn=o:rn=rn.next=o,rn}function Ha(){if(hn===null){var o=Or.alternate;o=o!==null?o.memoizedState:null}else o=hn.next;var u=rn===null?Or.memoizedState:rn.next;if(u!==null)rn=u,hn=o;else{if(o===null)throw Error(r(310));hn=o,o={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},rn===null?Or.memoizedState=rn=o:rn=rn.next=o}return rn}function lu(o,u){return typeof u=="function"?u(o):u}function dd(o){var u=Ha(),v=u.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=o;var y=hn,A=y.baseQueue,O=v.pending;if(O!==null){if(A!==null){var K=A.next;A.next=O.next,O.next=K}y.baseQueue=A=O,v.pending=null}if(A!==null){O=A.next,y=y.baseState;var he=K=null,xe=null,Ie=O;do{var $e=Ie.lane;if((ss&$e)===$e)xe!==null&&(xe=xe.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),y=Ie.hasEagerState?Ie.eagerState:o(y,Ie.action);else{var We={lane:$e,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};xe===null?(he=xe=We,K=y):xe=xe.next=We,Or.lanes|=$e,uu|=$e}Ie=Ie.next}while(Ie!==null&&Ie!==O);xe===null?K=y:xe.next=he,zr(y,u.memoizedState)||(hi=!0),u.memoizedState=y,u.baseState=K,u.baseQueue=xe,v.lastRenderedState=y}if(o=v.interleaved,o!==null){A=o;do O=A.lane,Or.lanes|=O,uu|=O,A=A.next;while(A!==o)}else A===null&&(v.lanes=0);return[u.memoizedState,v.dispatch]}function go(o){var u=Ha(),v=u.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=o;var y=v.dispatch,A=v.pending,O=u.memoizedState;if(A!==null){v.pending=null;var K=A=A.next;do O=o(O,K.action),K=K.next;while(K!==A);zr(O,u.memoizedState)||(hi=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),v.lastRenderedState=O}return[O,y]}function np(){}function Cf(o,u){var v=Or,y=Ha(),A=u(),O=!zr(y.memoizedState,A);if(O&&(y.memoizedState=A,hi=!0),y=y.queue,pd(ip.bind(null,v,y,o),[o]),y.getSnapshot!==u||O||rn!==null&&rn.memoizedState.tag&1){if(v.flags|=2048,Va(9,_f.bind(null,v,y,A,u),void 0,null),Zn===null)throw Error(r(349));(ss&30)!==0||ap(v,u,A)}return A}function ap(o,u,v){o.flags|=16384,o={getSnapshot:u,value:v},u=Or.updateQueue,u===null?(u={lastEffect:null,stores:null},Or.updateQueue=u,u.stores=[o]):(v=u.stores,v===null?u.stores=[o]:v.push(o))}function _f(o,u,v,y){u.value=v,u.getSnapshot=y,xc(u)&&fd(o)}function ip(o,u,v){return v(function(){xc(u)&&fd(o)})}function xc(o){var u=o.getSnapshot;o=o.value;try{var v=u();return!zr(o,v)}catch{return!0}}function fd(o){var u=mr(o,1);u!==null&&Fs(u,o,1,-1)}function cu(o){var u=Ri();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:o},u.queue=o,o=o.dispatch=H_.bind(null,Or,o),[u.memoizedState,o]}function Va(o,u,v,y){return o={tag:o,create:u,destroy:v,deps:y,next:null},u=Or.updateQueue,u===null?(u={lastEffect:null,stores:null},Or.updateQueue=u,u.lastEffect=o.next=o):(v=u.lastEffect,v===null?u.lastEffect=o.next=o:(y=v.next,v.next=o,o.next=y,u.lastEffect=o)),o}function Ds(){return Ha().memoizedState}function Fi(o,u,v,y){var A=Ri();Or.flags|=o,A.memoizedState=Va(1|u,v,void 0,y===void 0?null:y)}function vl(o,u,v,y){var A=Ha();y=y===void 0?null:y;var O=void 0;if(hn!==null){var K=hn.memoizedState;if(O=K.destroy,y!==null&&ud(y,K.deps)){A.memoizedState=Va(u,v,O,y);return}}Or.flags|=o,A.memoizedState=Va(1|u,v,O,y)}function hd(o,u){return Fi(8390656,8,o,u)}function pd(o,u){return vl(2048,8,o,u)}function sp(o,u){return vl(4,2,o,u)}function md(o,u){return vl(4,4,o,u)}function vd(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Fy(o,u,v){return v=v!=null?v.concat([o]):null,vl(4,4,vd.bind(null,u,o),v)}function bv(){}function zy(o,u){var v=Ha();u=u===void 0?null:u;var y=v.memoizedState;return y!==null&&u!==null&&ud(u,y[1])?y[0]:(v.memoizedState=[o,u],o)}function By(o,u){var v=Ha();u=u===void 0?null:u;var y=v.memoizedState;return y!==null&&u!==null&&ud(u,y[1])?y[0]:(o=o(),v.memoizedState=[o,u],o)}function Uy(o,u,v){return(ss&21)===0?(o.baseState&&(o.baseState=!1,hi=!0),o.memoizedState=v):(zr(v,u)||(v=Uc(),Or.lanes|=v,uu|=v,o.baseState=!0),u)}function $_(o,u){var v=Yt;Yt=v!==0&&4>v?v:4,o(!0);var y=cd.transition;cd.transition={};try{o(!1),u()}finally{Yt=v,cd.transition=y}}function qy(){return Ha().memoizedState}function W_(o,u,v){var y=Nc(o);if(v={lane:y,action:v,hasEagerState:!1,eagerState:null,next:null},$y(o))Wy(u,v);else if(v=fr(o,u,v,y),v!==null){var A=Ga();Fs(v,o,y,A),Hy(v,u,y)}}function H_(o,u,v){var y=Nc(o),A={lane:y,action:v,hasEagerState:!1,eagerState:null,next:null};if($y(o))Wy(u,A);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var K=u.lastRenderedState,he=O(K,v);if(A.hasEagerState=!0,A.eagerState=he,zr(he,K)){var xe=u.interleaved;xe===null?(A.next=A,Gn(u)):(A.next=xe.next,xe.next=A),u.interleaved=A;return}}catch{}finally{}v=fr(o,u,A,y),v!==null&&(A=Ga(),Fs(v,o,y,A),Hy(v,u,y))}}function $y(o){var u=o.alternate;return o===Or||u!==null&&u===Or}function Wy(o,u){Ls=vc=!0;var v=o.pending;v===null?u.next=u:(u.next=v.next,v.next=u),o.pending=u}function Hy(o,u,v){if((v&4194240)!==0){var y=u.lanes;y&=o.pendingLanes,v|=y,u.lanes=v,Yl(o,v)}}var op={readContext:$r,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},V_={readContext:$r,useCallback:function(o,u){return Ri().memoizedState=[o,u===void 0?null:u],o},useContext:$r,useEffect:hd,useImperativeHandle:function(o,u,v){return v=v!=null?v.concat([o]):null,Fi(4194308,4,vd.bind(null,u,o),v)},useLayoutEffect:function(o,u){return Fi(4194308,4,o,u)},useInsertionEffect:function(o,u){return Fi(4,2,o,u)},useMemo:function(o,u){var v=Ri();return u=u===void 0?null:u,o=o(),v.memoizedState=[o,u],o},useReducer:function(o,u,v){var y=Ri();return u=v!==void 0?v(u):u,y.memoizedState=y.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},y.queue=o,o=o.dispatch=W_.bind(null,Or,o),[y.memoizedState,o]},useRef:function(o){var u=Ri();return o={current:o},u.memoizedState=o},useState:cu,useDebugValue:bv,useDeferredValue:function(o){return Ri().memoizedState=o},useTransition:function(){var o=cu(!1),u=o[0];return o=$_.bind(null,o[1]),Ri().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,v){var y=Or,A=Ri();if(Re){if(v===void 0)throw Error(r(407));v=v()}else{if(v=u(),Zn===null)throw Error(r(349));(ss&30)!==0||ap(y,u,v)}A.memoizedState=v;var O={value:v,getSnapshot:u};return A.queue=O,hd(ip.bind(null,y,O,o),[o]),y.flags|=2048,Va(9,_f.bind(null,y,O,v,u),void 0,null),v},useId:function(){var o=Ri(),u=Zn.identifierPrefix;if(Re){var v=oe,y=Ae;v=(y&~(1<<32-on(y)-1)).toString(32)+v,u=":"+u+"R"+v,v=gc++,0<v&&(u+="H"+v.toString(32)),u+=":"}else v=xv++,u=":"+u+"r"+v.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},K_={readContext:$r,useCallback:zy,useContext:$r,useEffect:pd,useImperativeHandle:Fy,useInsertionEffect:sp,useLayoutEffect:md,useMemo:By,useReducer:dd,useRef:Ds,useState:function(){return dd(lu)},useDebugValue:bv,useDeferredValue:function(o){var u=Ha();return Uy(u,hn.memoizedState,o)},useTransition:function(){var o=dd(lu)[0],u=Ha().memoizedState;return[o,u]},useMutableSource:np,useSyncExternalStore:Cf,useId:qy,unstable_isNewReconciler:!1},G_={readContext:$r,useCallback:zy,useContext:$r,useEffect:pd,useImperativeHandle:Fy,useInsertionEffect:sp,useLayoutEffect:md,useMemo:By,useReducer:go,useRef:Ds,useState:function(){return go(lu)},useDebugValue:bv,useDeferredValue:function(o){var u=Ha();return hn===null?u.memoizedState=o:Uy(u,hn.memoizedState,o)},useTransition:function(){var o=go(lu)[0],u=Ha().memoizedState;return[o,u]},useMutableSource:np,useSyncExternalStore:Cf,useId:qy,unstable_isNewReconciler:!1};function Ts(o,u){if(o&&o.defaultProps){u=me({},u),o=o.defaultProps;for(var v in o)u[v]===void 0&&(u[v]=o[v]);return u}return u}function yv(o,u,v,y){u=o.memoizedState,v=v(y,u),v=v==null?u:me({},u,v),o.memoizedState=v,o.lanes===0&&(o.updateQueue.baseState=v)}var lp={isMounted:function(o){return(o=o._reactInternals)?Dn(o)===o:!1},enqueueSetState:function(o,u,v){o=o._reactInternals;var y=Ga(),A=Nc(o),O=Jr(y,A);O.payload=u,v!=null&&(O.callback=v),u=en(o,O,A),u!==null&&(Fs(u,o,A,y),Yn(u,o,A))},enqueueReplaceState:function(o,u,v){o=o._reactInternals;var y=Ga(),A=Nc(o),O=Jr(y,A);O.tag=1,O.payload=u,v!=null&&(O.callback=v),u=en(o,O,A),u!==null&&(Fs(u,o,A,y),Yn(u,o,A))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var v=Ga(),y=Nc(o),A=Jr(v,y);A.tag=2,u!=null&&(A.callback=u),u=en(o,A,y),u!==null&&(Fs(u,o,y,v),Yn(u,o,y))}};function Vy(o,u,v,y,A,O,K){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,O,K):u.prototype&&u.prototype.isPureReactComponent?!Na(v,y)||!Na(A,O):!0}function Ky(o,u,v){var y=!1,A=mo,O=u.contextType;return typeof O=="object"&&O!==null?O=$r(O):(A=Aa(u)?pl:Rn.current,y=u.contextTypes,O=(y=y!=null)?pc(o,A):mo),u=new u(v,O),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=lp,o.stateNode=u,u._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=A,o.__reactInternalMemoizedMaskedChildContext=O),u}function Gy(o,u,v,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,y),u.state!==o&&lp.enqueueReplaceState(u,u.state,null)}function wv(o,u,v,y){var A=o.stateNode;A.props=v,A.state=o.memoizedState,A.refs={},Fn(o);var O=u.contextType;typeof O=="object"&&O!==null?A.context=$r(O):(O=Aa(u)?pl:Rn.current,A.context=pc(o,O)),A.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(yv(o,u,O,v),A.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(u=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),u!==A.state&&lp.enqueueReplaceState(A,A.state,null),Xn(o,v,A,y),A.state=o.memoizedState),typeof A.componentDidMount=="function"&&(o.flags|=4194308)}function gd(o,u){try{var v="",y=u;do v+=fe(y),y=y.return;while(y);var A=v}catch(O){A=`
Error generating stack: `+O.message+`
`+O.stack}return{value:o,source:u,stack:A,digest:null}}function Nv(o,u,v){return{value:o,source:null,stack:v??null,digest:u??null}}function jv(o,u){try{console.error(u.value)}catch(v){setTimeout(function(){throw v})}}var Y_=typeof WeakMap=="function"?WeakMap:Map;function Yy(o,u,v){v=Jr(-1,v),v.tag=3,v.payload={element:null};var y=u.value;return v.callback=function(){mp||(mp=!0,Fv=y),jv(o,u)},v}function Xy(o,u,v){v=Jr(-1,v),v.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var A=u.value;v.payload=function(){return y(A)},v.callback=function(){jv(o,u)}}var O=o.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(v.callback=function(){jv(o,u),typeof y!="function"&&(yc===null?yc=new Set([this]):yc.add(this));var K=u.stack;this.componentDidCatch(u.value,{componentStack:K!==null?K:""})}),v}function Zy(o,u,v){var y=o.pingCache;if(y===null){y=o.pingCache=new Y_;var A=new Set;y.set(u,A)}else A=y.get(u),A===void 0&&(A=new Set,y.set(u,A));A.has(v)||(A.add(v),o=cO.bind(null,o,u,v),u.then(o,o))}function Qy(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function Jy(o,u,v,y,A){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(u=Jr(-1,1),u.tag=2,en(v,u,1))),v.lanes|=1),o):(o.flags|=65536,o.lanes=A,o)}var X_=I.ReactCurrentOwner,hi=!1;function Ka(o,u,v,y){u.child=o===null?Mr(u,null,v,y):dn(u,o.child,v,y)}function ew(o,u,v,y,A){v=v.render;var O=u.ref;return qr(u,A),y=ou(o,u,v,y,O,A),v=os(),o!==null&&!hi?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~A,gl(o,u,A)):(Re&&v&&Te(u),u.flags|=1,Ka(o,u,y,A),u.child)}function tw(o,u,v,y,A){if(o===null){var O=v.type;return typeof O=="function"&&!Hv(O)&&O.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(u.tag=15,u.type=O,rw(o,u,O,y,A)):(o=wp(v.type,null,y,u,u.mode,A),o.ref=u.ref,o.return=u,u.child=o)}if(O=o.child,(o.lanes&A)===0){var K=O.memoizedProps;if(v=v.compare,v=v!==null?v:Na,v(K,y)&&o.ref===u.ref)return gl(o,u,A)}return u.flags|=1,o=kc(O,y),o.ref=u.ref,o.return=u,u.child=o}function rw(o,u,v,y,A){if(o!==null){var O=o.memoizedProps;if(Na(O,y)&&o.ref===u.ref)if(hi=!1,u.pendingProps=y=O,(o.lanes&A)!==0)(o.flags&131072)!==0&&(hi=!0);else return u.lanes=o.lanes,gl(o,u,A)}return kv(o,u,v,y,A)}function nw(o,u,v){var y=u.pendingProps,A=y.children,O=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(bd,zi),zi|=v;else{if((v&1073741824)===0)return o=O!==null?O.baseLanes|v:v,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,dr(bd,zi),zi|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=O!==null?O.baseLanes:v,dr(bd,zi),zi|=y}else O!==null?(y=O.baseLanes|v,u.memoizedState=null):y=v,dr(bd,zi),zi|=y;return Ka(o,u,A,v),u.child}function aw(o,u){var v=u.ref;(o===null&&v!==null||o!==null&&o.ref!==v)&&(u.flags|=512,u.flags|=2097152)}function kv(o,u,v,y,A){var O=Aa(v)?pl:Rn.current;return O=pc(u,O),qr(u,A),v=ou(o,u,v,y,O,A),y=os(),o!==null&&!hi?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~A,gl(o,u,A)):(Re&&y&&Te(u),u.flags|=1,Ka(o,u,v,A),u.child)}function iw(o,u,v,y,A){if(Aa(v)){var O=!0;ml(u)}else O=!1;if(qr(u,A),u.stateNode===null)up(o,u),Ky(u,v,y),wv(u,v,y,A),y=!0;else if(o===null){var K=u.stateNode,he=u.memoizedProps;K.props=he;var xe=K.context,Ie=v.contextType;typeof Ie=="object"&&Ie!==null?Ie=$r(Ie):(Ie=Aa(v)?pl:Rn.current,Ie=pc(u,Ie));var $e=v.getDerivedStateFromProps,We=typeof $e=="function"||typeof K.getSnapshotBeforeUpdate=="function";We||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(he!==y||xe!==Ie)&&Gy(u,K,y,Ie),fn=!1;var Ue=u.memoizedState;K.state=Ue,Xn(u,y,K,A),xe=u.memoizedState,he!==y||Ue!==xe||Sa.current||fn?(typeof $e=="function"&&(yv(u,v,$e,y),xe=u.memoizedState),(he=fn||Vy(u,v,he,y,Ue,xe,Ie))?(We||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(u.flags|=4194308)):(typeof K.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=xe),K.props=y,K.state=xe,K.context=Ie,y=he):(typeof K.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{K=u.stateNode,Pa(o,u),he=u.memoizedProps,Ie=u.type===u.elementType?he:Ts(u.type,he),K.props=Ie,We=u.pendingProps,Ue=K.context,xe=v.contextType,typeof xe=="object"&&xe!==null?xe=$r(xe):(xe=Aa(v)?pl:Rn.current,xe=pc(u,xe));var Xe=v.getDerivedStateFromProps;($e=typeof Xe=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(he!==We||Ue!==xe)&&Gy(u,K,y,xe),fn=!1,Ue=u.memoizedState,K.state=Ue,Xn(u,y,K,A);var nt=u.memoizedState;he!==We||Ue!==nt||Sa.current||fn?(typeof Xe=="function"&&(yv(u,v,Xe,y),nt=u.memoizedState),(Ie=fn||Vy(u,v,Ie,y,Ue,nt,xe)||!1)?($e||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(y,nt,xe),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(y,nt,xe)),typeof K.componentDidUpdate=="function"&&(u.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof K.componentDidUpdate!="function"||he===o.memoizedProps&&Ue===o.memoizedState||(u.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||he===o.memoizedProps&&Ue===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=nt),K.props=y,K.state=nt,K.context=xe,y=Ie):(typeof K.componentDidUpdate!="function"||he===o.memoizedProps&&Ue===o.memoizedState||(u.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||he===o.memoizedProps&&Ue===o.memoizedState||(u.flags|=1024),y=!1)}return Sv(o,u,v,y,O,A)}function Sv(o,u,v,y,A,O){aw(o,u);var K=(u.flags&128)!==0;if(!y&&!K)return A&&tp(u,v,!1),gl(o,u,O);y=u.stateNode,X_.current=u;var he=K&&typeof v.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,o!==null&&K?(u.child=dn(u,o.child,null,O),u.child=dn(u,null,he,O)):Ka(o,u,he,O),u.memoizedState=y.state,A&&tp(u,v,!0),u.child}function sw(o){var u=o.stateNode;u.pendingContext?ep(o,u.pendingContext,u.pendingContext!==u.context):u.context&&ep(o,u.context,!1),mc(o,u.containerInfo)}function ow(o,u,v,y,A){return Qe(),Ge(A),u.flags|=256,Ka(o,u,v,y),u.child}var Av={dehydrated:null,treeContext:null,retryLane:0};function Pv(o){return{baseLanes:o,cachePool:null,transitions:null}}function lw(o,u,v){var y=u.pendingProps,A=kr.current,O=!1,K=(u.flags&128)!==0,he;if((he=K)||(he=o!==null&&o.memoizedState===null?!1:(A&2)!==0),he?(O=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(A|=1),dr(kr,A&1),o===null)return rt(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(K=y.children,o=y.fallback,O?(y=u.mode,O=u.child,K={mode:"hidden",children:K},(y&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=K):O=Np(K,y,0,null),o=pu(o,y,v,null),O.return=u,o.return=u,O.sibling=o,u.child=O,u.child.memoizedState=Pv(v),u.memoizedState=Av,o):Cv(u,K));if(A=o.memoizedState,A!==null&&(he=A.dehydrated,he!==null))return Z_(o,u,K,y,he,A,v);if(O){O=y.fallback,K=u.mode,A=o.child,he=A.sibling;var xe={mode:"hidden",children:y.children};return(K&1)===0&&u.child!==A?(y=u.child,y.childLanes=0,y.pendingProps=xe,u.deletions=null):(y=kc(A,xe),y.subtreeFlags=A.subtreeFlags&14680064),he!==null?O=kc(he,O):(O=pu(O,K,v,null),O.flags|=2),O.return=u,y.return=u,y.sibling=O,u.child=y,y=O,O=u.child,K=o.child.memoizedState,K=K===null?Pv(v):{baseLanes:K.baseLanes|v,cachePool:null,transitions:K.transitions},O.memoizedState=K,O.childLanes=o.childLanes&~v,u.memoizedState=Av,y}return O=o.child,o=O.sibling,y=kc(O,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=v),y.return=u,y.sibling=null,o!==null&&(v=u.deletions,v===null?(u.deletions=[o],u.flags|=16):v.push(o)),u.child=y,u.memoizedState=null,y}function Cv(o,u){return u=Np({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function cp(o,u,v,y){return y!==null&&Ge(y),dn(u,o.child,null,v),o=Cv(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Z_(o,u,v,y,A,O,K){if(v)return u.flags&256?(u.flags&=-257,y=Nv(Error(r(422))),cp(o,u,K,y)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(O=y.fallback,A=u.mode,y=Np({mode:"visible",children:y.children},A,0,null),O=pu(O,A,K,null),O.flags|=2,y.return=u,O.return=u,y.sibling=O,u.child=y,(u.mode&1)!==0&&dn(u,o.child,null,K),u.child.memoizedState=Pv(K),u.memoizedState=Av,O);if((u.mode&1)===0)return cp(o,u,K,null);if(A.data==="$!"){if(y=A.nextSibling&&A.nextSibling.dataset,y)var he=y.dgst;return y=he,O=Error(r(419)),y=Nv(O,y,void 0),cp(o,u,K,y)}if(he=(K&o.childLanes)!==0,hi||he){if(y=Zn,y!==null){switch(K&-K){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(y.suspendedLanes|K))!==0?0:A,A!==0&&A!==O.retryLane&&(O.retryLane=A,mr(o,A),Fs(y,o,A,-1))}return Wv(),y=Nv(Error(r(421))),cp(o,u,K,y)}return A.data==="$?"?(u.flags|=128,u.child=o.child,u=uO.bind(null,o),A._reactRetry=u,null):(o=O.treeContext,De=ua(A.nextSibling),Ee=u,Re=!0,Fe=null,o!==null&&(te[se++]=Ae,te[se++]=oe,te[se++]=ge,Ae=o.id,oe=o.overflow,ge=u),u=Cv(u,y.children),u.flags|=4096,u)}function cw(o,u,v){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),er(o.return,u,v)}function _v(o,u,v,y,A){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:v,tailMode:A}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=v,O.tailMode=A)}function uw(o,u,v){var y=u.pendingProps,A=y.revealOrder,O=y.tail;if(Ka(o,u,y.children,v),y=kr.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&cw(o,v,u);else if(o.tag===19)cw(o,v,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(dr(kr,y),(u.mode&1)===0)u.memoizedState=null;else switch(A){case"forwards":for(v=u.child,A=null;v!==null;)o=v.alternate,o!==null&&Mi(o)===null&&(A=v),v=v.sibling;v=A,v===null?(A=u.child,u.child=null):(A=v.sibling,v.sibling=null),_v(u,!1,A,v,O);break;case"backwards":for(v=null,A=u.child,u.child=null;A!==null;){if(o=A.alternate,o!==null&&Mi(o)===null){u.child=A;break}o=A.sibling,A.sibling=v,v=A,A=o}_v(u,!0,v,null,O);break;case"together":_v(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function up(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function gl(o,u,v){if(o!==null&&(u.dependencies=o.dependencies),uu|=u.lanes,(v&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,v=kc(o,o.pendingProps),u.child=v,v.return=u;o.sibling!==null;)o=o.sibling,v=v.sibling=kc(o,o.pendingProps),v.return=u;v.sibling=null}return u.child}function Q_(o,u,v){switch(u.tag){case 3:sw(u),Qe();break;case 5:rp(u);break;case 1:Aa(u.type)&&ml(u);break;case 4:mc(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,A=u.memoizedProps.value;dr(wn,y._currentValue),y._currentValue=A;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(dr(kr,kr.current&1),u.flags|=128,null):(v&u.child.childLanes)!==0?lw(o,u,v):(dr(kr,kr.current&1),o=gl(o,u,v),o!==null?o.sibling:null);dr(kr,kr.current&1);break;case 19:if(y=(v&u.childLanes)!==0,(o.flags&128)!==0){if(y)return uw(o,u,v);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),dr(kr,kr.current),y)break;return null;case 22:case 23:return u.lanes=0,nw(o,u,v)}return gl(o,u,v)}var dw,Ov,fw,hw;dw=function(o,u){for(var v=u.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Ov=function(){},fw=function(o,u,v,y){var A=o.memoizedProps;if(A!==y){o=u.stateNode,Es(On.current);var O=null;switch(v){case"input":A=Ke(o,A),y=Ke(o,y),O=[];break;case"select":A=me({},A,{value:void 0}),y=me({},y,{value:void 0}),O=[];break;case"textarea":A=xt(o,A),y=xt(o,y),O=[];break;default:typeof A.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=dc)}br(v,y);var K;v=null;for(Ie in A)if(!y.hasOwnProperty(Ie)&&A.hasOwnProperty(Ie)&&A[Ie]!=null)if(Ie==="style"){var he=A[Ie];for(K in he)he.hasOwnProperty(K)&&(v||(v={}),v[K]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(a.hasOwnProperty(Ie)?O||(O=[]):(O=O||[]).push(Ie,null));for(Ie in y){var xe=y[Ie];if(he=A!=null?A[Ie]:void 0,y.hasOwnProperty(Ie)&&xe!==he&&(xe!=null||he!=null))if(Ie==="style")if(he){for(K in he)!he.hasOwnProperty(K)||xe&&xe.hasOwnProperty(K)||(v||(v={}),v[K]="");for(K in xe)xe.hasOwnProperty(K)&&he[K]!==xe[K]&&(v||(v={}),v[K]=xe[K])}else v||(O||(O=[]),O.push(Ie,v)),v=xe;else Ie==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,he=he?he.__html:void 0,xe!=null&&he!==xe&&(O=O||[]).push(Ie,xe)):Ie==="children"?typeof xe!="string"&&typeof xe!="number"||(O=O||[]).push(Ie,""+xe):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ie)?(xe!=null&&Ie==="onScroll"&&hr("scroll",o),O||he===xe||(O=[])):(O=O||[]).push(Ie,xe))}v&&(O=O||[]).push("style",v);var Ie=O;(u.updateQueue=Ie)&&(u.flags|=4)}},hw=function(o,u,v,y){v!==y&&(u.flags|=4)};function Of(o,u){if(!Re)switch(o.tailMode){case"hidden":u=o.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?o.tail=null:v.sibling=null;break;case"collapsed":v=o.tail;for(var y=null;v!==null;)v.alternate!==null&&(y=v),v=v.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ca(o){var u=o.alternate!==null&&o.alternate.child===o.child,v=0,y=0;if(u)for(var A=o.child;A!==null;)v|=A.lanes|A.childLanes,y|=A.subtreeFlags&14680064,y|=A.flags&14680064,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)v|=A.lanes|A.childLanes,y|=A.subtreeFlags,y|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=y,o.childLanes=v,u}function J_(o,u,v){var y=u.pendingProps;switch(Ce(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ca(u),null;case 1:return Aa(u.type)&&od(),Ca(u),null;case 3:return y=u.stateNode,is(),or(Sa),or(Rn),Pf(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Ur(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Fe!==null&&(Uv(Fe),Fe=null))),Ov(o,u),Ca(u),null;case 5:Sf(u);var A=Es(vo.current);if(v=u.type,o!==null&&u.stateNode!=null)fw(o,u,v,y,A),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Ca(u),null}if(o=Es(On.current),Ur(u)){y=u.stateNode,v=u.type;var O=u.memoizedProps;switch(y[as]=u,y[fc]=O,o=(u.mode&1)!==0,v){case"dialog":hr("cancel",y),hr("close",y);break;case"iframe":case"object":case"embed":hr("load",y);break;case"video":case"audio":for(A=0;A<ho.length;A++)hr(ho[A],y);break;case"source":hr("error",y);break;case"img":case"image":case"link":hr("error",y),hr("load",y);break;case"details":hr("toggle",y);break;case"input":ne(y,O),hr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!O.multiple},hr("invalid",y);break;case"textarea":mt(y,O),hr("invalid",y)}br(v,O),A=null;for(var K in O)if(O.hasOwnProperty(K)){var he=O[K];K==="children"?typeof he=="string"?y.textContent!==he&&(O.suppressHydrationWarning!==!0&&sd(y.textContent,he,o),A=["children",he]):typeof he=="number"&&y.textContent!==""+he&&(O.suppressHydrationWarning!==!0&&sd(y.textContent,he,o),A=["children",""+he]):a.hasOwnProperty(K)&&he!=null&&K==="onScroll"&&hr("scroll",y)}switch(v){case"input":_e(y),dt(y,O,!0);break;case"textarea":_e(y),Ut(y);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(y.onclick=dc)}y=A,u.updateQueue=y,y!==null&&(u.flags|=4)}else{K=A.nodeType===9?A:A.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Et(v)),o==="http://www.w3.org/1999/xhtml"?v==="script"?(o=K.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=K.createElement(v,{is:y.is}):(o=K.createElement(v),v==="select"&&(K=o,y.multiple?K.multiple=!0:y.size&&(K.size=y.size))):o=K.createElementNS(o,v),o[as]=u,o[fc]=y,dw(o,u,!1,!1),u.stateNode=o;e:{switch(K=vt(v,y),v){case"dialog":hr("cancel",o),hr("close",o),A=y;break;case"iframe":case"object":case"embed":hr("load",o),A=y;break;case"video":case"audio":for(A=0;A<ho.length;A++)hr(ho[A],o);A=y;break;case"source":hr("error",o),A=y;break;case"img":case"image":case"link":hr("error",o),hr("load",o),A=y;break;case"details":hr("toggle",o),A=y;break;case"input":ne(o,y),A=Ke(o,y),hr("invalid",o);break;case"option":A=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},A=me({},y,{value:void 0}),hr("invalid",o);break;case"textarea":mt(o,y),A=xt(o,y),hr("invalid",o);break;default:A=y}br(v,A),he=A;for(O in he)if(he.hasOwnProperty(O)){var xe=he[O];O==="style"?Ft(o,xe):O==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&st(o,xe)):O==="children"?typeof xe=="string"?(v!=="textarea"||xe!=="")&&Pt(o,xe):typeof xe=="number"&&Pt(o,""+xe):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(a.hasOwnProperty(O)?xe!=null&&O==="onScroll"&&hr("scroll",o):xe!=null&&E(o,O,xe,K))}switch(v){case"input":_e(o),dt(o,y,!1);break;case"textarea":_e(o),Ut(o);break;case"option":y.value!=null&&o.setAttribute("value",""+we(y.value));break;case"select":o.multiple=!!y.multiple,O=y.value,O!=null?Ye(o,!!y.multiple,O,!1):y.defaultValue!=null&&Ye(o,!!y.multiple,y.defaultValue,!0);break;default:typeof A.onClick=="function"&&(o.onclick=dc)}switch(v){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ca(u),null;case 6:if(o&&u.stateNode!=null)hw(o,u,o.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(v=Es(vo.current),Es(On.current),Ur(u)){if(y=u.stateNode,v=u.memoizedProps,y[as]=u,(O=y.nodeValue!==v)&&(o=Ee,o!==null))switch(o.tag){case 3:sd(y.nodeValue,v,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&sd(y.nodeValue,v,(o.mode&1)!==0)}O&&(u.flags|=4)}else y=(v.nodeType===9?v:v.ownerDocument).createTextNode(y),y[as]=u,u.stateNode=y}return Ca(u),null;case 13:if(or(kr),y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Re&&De!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Mt(),Qe(),u.flags|=98560,O=!1;else if(O=Ur(u),y!==null&&y.dehydrated!==null){if(o===null){if(!O)throw Error(r(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[as]=u}else Qe(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ca(u),O=!1}else Fe!==null&&(Uv(Fe),Fe=null),O=!0;if(!O)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=v,u):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(kr.current&1)!==0?zn===0&&(zn=3):Wv())),u.updateQueue!==null&&(u.flags|=4),Ca(u),null);case 4:return is(),Ov(o,u),o===null&&ul(u.stateNode.containerInfo),Ca(u),null;case 10:return _r(u.type._context),Ca(u),null;case 17:return Aa(u.type)&&od(),Ca(u),null;case 19:if(or(kr),O=u.memoizedState,O===null)return Ca(u),null;if(y=(u.flags&128)!==0,K=O.rendering,K===null)if(y)Of(O,!1);else{if(zn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(K=Mi(o),K!==null){for(u.flags|=128,Of(O,!1),y=K.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=v,v=u.child;v!==null;)O=v,o=y,O.flags&=14680066,K=O.alternate,K===null?(O.childLanes=0,O.lanes=o,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=K.childLanes,O.lanes=K.lanes,O.child=K.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=K.memoizedProps,O.memoizedState=K.memoizedState,O.updateQueue=K.updateQueue,O.type=K.type,o=K.dependencies,O.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),v=v.sibling;return dr(kr,kr.current&1|2),u.child}o=o.sibling}O.tail!==null&&jr()>yd&&(u.flags|=128,y=!0,Of(O,!1),u.lanes=4194304)}else{if(!y)if(o=Mi(K),o!==null){if(u.flags|=128,y=!0,v=o.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),Of(O,!0),O.tail===null&&O.tailMode==="hidden"&&!K.alternate&&!Re)return Ca(u),null}else 2*jr()-O.renderingStartTime>yd&&v!==1073741824&&(u.flags|=128,y=!0,Of(O,!1),u.lanes=4194304);O.isBackwards?(K.sibling=u.child,u.child=K):(v=O.last,v!==null?v.sibling=K:u.child=K,O.last=K)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=jr(),u.sibling=null,v=kr.current,dr(kr,y?v&1|2:v&1),u):(Ca(u),null);case 22:case 23:return $v(),y=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(zi&1073741824)!==0&&(Ca(u),u.subtreeFlags&6&&(u.flags|=8192)):Ca(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function eO(o,u){switch(Ce(u),u.tag){case 1:return Aa(u.type)&&od(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return is(),or(Sa),or(Rn),Pf(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return Sf(u),null;case 13:if(or(kr),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Qe()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return or(kr),null;case 4:return is(),null;case 10:return _r(u.type._context),null;case 22:case 23:return $v(),null;case 24:return null;default:return null}}var dp=!1,_a=!1,tO=typeof WeakSet=="function"?WeakSet:Set,Je=null;function xd(o,u){var v=o.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(y){pn(o,u,y)}else v.current=null}function Iv(o,u,v){try{v()}catch(y){pn(o,u,y)}}var pw=!1;function rO(o,u){if(au=Jl,o=un(),Li(o)){if("selectionStart"in o)var v={start:o.selectionStart,end:o.selectionEnd};else e:{v=(v=o.ownerDocument)&&v.defaultView||window;var y=v.getSelection&&v.getSelection();if(y&&y.rangeCount!==0){v=y.anchorNode;var A=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{v.nodeType,O.nodeType}catch{v=null;break e}var K=0,he=-1,xe=-1,Ie=0,$e=0,We=o,Ue=null;t:for(;;){for(var Xe;We!==v||A!==0&&We.nodeType!==3||(he=K+A),We!==O||y!==0&&We.nodeType!==3||(xe=K+y),We.nodeType===3&&(K+=We.nodeValue.length),(Xe=We.firstChild)!==null;)Ue=We,We=Xe;for(;;){if(We===o)break t;if(Ue===v&&++Ie===A&&(he=K),Ue===O&&++$e===y&&(xe=K),(Xe=We.nextSibling)!==null)break;We=Ue,Ue=We.parentNode}We=Xe}v=he===-1||xe===-1?null:{start:he,end:xe}}else v=null}v=v||{start:0,end:0}}else v=null;for(fl={focusedElem:o,selectionRange:v},Jl=!1,Je=u;Je!==null;)if(u=Je,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Je=o;else for(;Je!==null;){u=Je;try{var nt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var ot=nt.memoizedProps,jn=nt.memoizedState,Pe=u.stateNode,Ne=Pe.getSnapshotBeforeUpdate(u.elementType===u.type?ot:Ts(u.type,ot),jn);Pe.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var Oe=u.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ve){pn(u,u.return,Ve)}if(o=u.sibling,o!==null){o.return=u.return,Je=o;break}Je=u.return}return nt=pw,pw=!1,nt}function If(o,u,v){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var A=y=y.next;do{if((A.tag&o)===o){var O=A.destroy;A.destroy=void 0,O!==void 0&&Iv(u,v,O)}A=A.next}while(A!==y)}}function fp(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&o)===o){var y=v.create;v.destroy=y()}v=v.next}while(v!==u)}}function Ev(o){var u=o.ref;if(u!==null){var v=o.stateNode;switch(o.tag){case 5:o=v;break;default:o=v}typeof u=="function"?u(o):u.current=o}}function mw(o){var u=o.alternate;u!==null&&(o.alternate=null,mw(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[as],delete u[fc],delete u[ka],delete u[vv],delete u[gv])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function vw(o){return o.tag===5||o.tag===3||o.tag===4}function gw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||vw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Lv(o,u,v){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?v.nodeType===8?v.parentNode.insertBefore(o,u):v.insertBefore(o,u):(v.nodeType===8?(u=v.parentNode,u.insertBefore(o,v)):(u=v,u.appendChild(o)),v=v._reactRootContainer,v!=null||u.onclick!==null||(u.onclick=dc));else if(y!==4&&(o=o.child,o!==null))for(Lv(o,u,v),o=o.sibling;o!==null;)Lv(o,u,v),o=o.sibling}function Dv(o,u,v){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?v.insertBefore(o,u):v.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Dv(o,u,v),o=o.sibling;o!==null;)Dv(o,u,v),o=o.sibling}var da=null,Ms=!1;function bc(o,u,v){for(v=v.child;v!==null;)xw(o,u,v),v=v.sibling}function xw(o,u,v){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(qo,v)}catch{}switch(v.tag){case 5:_a||xd(v,u);case 6:var y=da,A=Ms;da=null,bc(o,u,v),da=y,Ms=A,da!==null&&(Ms?(o=da,v=v.stateNode,o.nodeType===8?o.parentNode.removeChild(v):o.removeChild(v)):da.removeChild(v.stateNode));break;case 18:da!==null&&(Ms?(o=da,v=v.stateNode,o.nodeType===8?Nf(o.parentNode,v):o.nodeType===1&&Nf(o,v),Yo(o)):Nf(da,v.stateNode));break;case 4:y=da,A=Ms,da=v.stateNode.containerInfo,Ms=!0,bc(o,u,v),da=y,Ms=A;break;case 0:case 11:case 14:case 15:if(!_a&&(y=v.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){A=y=y.next;do{var O=A,K=O.destroy;O=O.tag,K!==void 0&&((O&2)!==0||(O&4)!==0)&&Iv(v,u,K),A=A.next}while(A!==y)}bc(o,u,v);break;case 1:if(!_a&&(xd(v,u),y=v.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=v.memoizedProps,y.state=v.memoizedState,y.componentWillUnmount()}catch(he){pn(v,u,he)}bc(o,u,v);break;case 21:bc(o,u,v);break;case 22:v.mode&1?(_a=(y=_a)||v.memoizedState!==null,bc(o,u,v),_a=y):bc(o,u,v);break;default:bc(o,u,v)}}function bw(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var v=o.stateNode;v===null&&(v=o.stateNode=new tO),u.forEach(function(y){var A=dO.bind(null,o,y);v.has(y)||(v.add(y),y.then(A,A))})}}function Rs(o,u){var v=u.deletions;if(v!==null)for(var y=0;y<v.length;y++){var A=v[y];try{var O=o,K=u,he=K;e:for(;he!==null;){switch(he.tag){case 5:da=he.stateNode,Ms=!1;break e;case 3:da=he.stateNode.containerInfo,Ms=!0;break e;case 4:da=he.stateNode.containerInfo,Ms=!0;break e}he=he.return}if(da===null)throw Error(r(160));xw(O,K,A),da=null,Ms=!1;var xe=A.alternate;xe!==null&&(xe.return=null),A.return=null}catch(Ie){pn(A,u,Ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)yw(u,o),u=u.sibling}function yw(o,u){var v=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Rs(u,o),xo(o),y&4){try{If(3,o,o.return),fp(3,o)}catch(ot){pn(o,o.return,ot)}try{If(5,o,o.return)}catch(ot){pn(o,o.return,ot)}}break;case 1:Rs(u,o),xo(o),y&512&&v!==null&&xd(v,v.return);break;case 5:if(Rs(u,o),xo(o),y&512&&v!==null&&xd(v,v.return),o.flags&32){var A=o.stateNode;try{Pt(A,"")}catch(ot){pn(o,o.return,ot)}}if(y&4&&(A=o.stateNode,A!=null)){var O=o.memoizedProps,K=v!==null?v.memoizedProps:O,he=o.type,xe=o.updateQueue;if(o.updateQueue=null,xe!==null)try{he==="input"&&O.type==="radio"&&O.name!=null&&He(A,O),vt(he,K);var Ie=vt(he,O);for(K=0;K<xe.length;K+=2){var $e=xe[K],We=xe[K+1];$e==="style"?Ft(A,We):$e==="dangerouslySetInnerHTML"?st(A,We):$e==="children"?Pt(A,We):E(A,$e,We,Ie)}switch(he){case"input":ft(A,O);break;case"textarea":Xt(A,O);break;case"select":var Ue=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!O.multiple;var Xe=O.value;Xe!=null?Ye(A,!!O.multiple,Xe,!1):Ue!==!!O.multiple&&(O.defaultValue!=null?Ye(A,!!O.multiple,O.defaultValue,!0):Ye(A,!!O.multiple,O.multiple?[]:"",!1))}A[fc]=O}catch(ot){pn(o,o.return,ot)}}break;case 6:if(Rs(u,o),xo(o),y&4){if(o.stateNode===null)throw Error(r(162));A=o.stateNode,O=o.memoizedProps;try{A.nodeValue=O}catch(ot){pn(o,o.return,ot)}}break;case 3:if(Rs(u,o),xo(o),y&4&&v!==null&&v.memoizedState.isDehydrated)try{Yo(u.containerInfo)}catch(ot){pn(o,o.return,ot)}break;case 4:Rs(u,o),xo(o);break;case 13:Rs(u,o),xo(o),A=o.child,A.flags&8192&&(O=A.memoizedState!==null,A.stateNode.isHidden=O,!O||A.alternate!==null&&A.alternate.memoizedState!==null||(Rv=jr())),y&4&&bw(o);break;case 22:if($e=v!==null&&v.memoizedState!==null,o.mode&1?(_a=(Ie=_a)||$e,Rs(u,o),_a=Ie):Rs(u,o),xo(o),y&8192){if(Ie=o.memoizedState!==null,(o.stateNode.isHidden=Ie)&&!$e&&(o.mode&1)!==0)for(Je=o,$e=o.child;$e!==null;){for(We=Je=$e;Je!==null;){switch(Ue=Je,Xe=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:If(4,Ue,Ue.return);break;case 1:xd(Ue,Ue.return);var nt=Ue.stateNode;if(typeof nt.componentWillUnmount=="function"){y=Ue,v=Ue.return;try{u=y,nt.props=u.memoizedProps,nt.state=u.memoizedState,nt.componentWillUnmount()}catch(ot){pn(y,v,ot)}}break;case 5:xd(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){jw(We);continue}}Xe!==null?(Xe.return=Ue,Je=Xe):jw(We)}$e=$e.sibling}e:for($e=null,We=o;;){if(We.tag===5){if($e===null){$e=We;try{A=We.stateNode,Ie?(O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(he=We.stateNode,xe=We.memoizedProps.style,K=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,he.style.display=Kt("display",K))}catch(ot){pn(o,o.return,ot)}}}else if(We.tag===6){if($e===null)try{We.stateNode.nodeValue=Ie?"":We.memoizedProps}catch(ot){pn(o,o.return,ot)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===o)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===o)break e;for(;We.sibling===null;){if(We.return===null||We.return===o)break e;$e===We&&($e=null),We=We.return}$e===We&&($e=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:Rs(u,o),xo(o),y&4&&bw(o);break;case 21:break;default:Rs(u,o),xo(o)}}function xo(o){var u=o.flags;if(u&2){try{e:{for(var v=o.return;v!==null;){if(vw(v)){var y=v;break e}v=v.return}throw Error(r(160))}switch(y.tag){case 5:var A=y.stateNode;y.flags&32&&(Pt(A,""),y.flags&=-33);var O=gw(o);Dv(o,O,A);break;case 3:case 4:var K=y.stateNode.containerInfo,he=gw(o);Lv(o,he,K);break;default:throw Error(r(161))}}catch(xe){pn(o,o.return,xe)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function nO(o,u,v){Je=o,ww(o)}function ww(o,u,v){for(var y=(o.mode&1)!==0;Je!==null;){var A=Je,O=A.child;if(A.tag===22&&y){var K=A.memoizedState!==null||dp;if(!K){var he=A.alternate,xe=he!==null&&he.memoizedState!==null||_a;he=dp;var Ie=_a;if(dp=K,(_a=xe)&&!Ie)for(Je=A;Je!==null;)K=Je,xe=K.child,K.tag===22&&K.memoizedState!==null?kw(A):xe!==null?(xe.return=K,Je=xe):kw(A);for(;O!==null;)Je=O,ww(O),O=O.sibling;Je=A,dp=he,_a=Ie}Nw(o)}else(A.subtreeFlags&8772)!==0&&O!==null?(O.return=A,Je=O):Nw(o)}}function Nw(o){for(;Je!==null;){var u=Je;if((u.flags&8772)!==0){var v=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:_a||fp(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!_a)if(v===null)y.componentDidMount();else{var A=u.elementType===u.type?v.memoizedProps:Ts(u.type,v.memoizedProps);y.componentDidUpdate(A,v.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&fi(u,O,y);break;case 3:var K=u.updateQueue;if(K!==null){if(v=null,u.child!==null)switch(u.child.tag){case 5:v=u.child.stateNode;break;case 1:v=u.child.stateNode}fi(u,K,v)}break;case 5:var he=u.stateNode;if(v===null&&u.flags&4){v=he;var xe=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&v.focus();break;case"img":xe.src&&(v.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ie=u.alternate;if(Ie!==null){var $e=Ie.memoizedState;if($e!==null){var We=$e.dehydrated;We!==null&&Yo(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}_a||u.flags&512&&Ev(u)}catch(Ue){pn(u,u.return,Ue)}}if(u===o){Je=null;break}if(v=u.sibling,v!==null){v.return=u.return,Je=v;break}Je=u.return}}function jw(o){for(;Je!==null;){var u=Je;if(u===o){Je=null;break}var v=u.sibling;if(v!==null){v.return=u.return,Je=v;break}Je=u.return}}function kw(o){for(;Je!==null;){var u=Je;try{switch(u.tag){case 0:case 11:case 15:var v=u.return;try{fp(4,u)}catch(xe){pn(u,v,xe)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var A=u.return;try{y.componentDidMount()}catch(xe){pn(u,A,xe)}}var O=u.return;try{Ev(u)}catch(xe){pn(u,O,xe)}break;case 5:var K=u.return;try{Ev(u)}catch(xe){pn(u,K,xe)}}}catch(xe){pn(u,u.return,xe)}if(u===o){Je=null;break}var he=u.sibling;if(he!==null){he.return=u.return,Je=he;break}Je=u.return}}var aO=Math.ceil,hp=I.ReactCurrentDispatcher,Tv=I.ReactCurrentOwner,ls=I.ReactCurrentBatchConfig,tr=0,Zn=null,In=null,fa=0,zi=0,bd=Di(0),zn=0,Ef=null,uu=0,pp=0,Mv=0,Lf=null,pi=null,Rv=0,yd=1/0,xl=null,mp=!1,Fv=null,yc=null,vp=!1,wc=null,gp=0,Df=0,zv=null,xp=-1,bp=0;function Ga(){return(tr&6)!==0?jr():xp!==-1?xp:xp=jr()}function Nc(o){return(o.mode&1)===0?1:(tr&2)!==0&&fa!==0?fa&-fa:Qr.transition!==null?(bp===0&&(bp=Uc()),bp):(o=Yt,o!==0||(o=window.event,o=o===void 0?16:Zo(o.type)),o)}function Fs(o,u,v,y){if(50<Df)throw Df=0,zv=null,Error(r(185));Ho(o,v,y),((tr&2)===0||o!==Zn)&&(o===Zn&&((tr&2)===0&&(pp|=v),zn===4&&jc(o,fa)),mi(o,y),v===1&&tr===0&&(u.mode&1)===0&&(yd=jr()+500,su&&D()))}function mi(o,u){var v=o.callbackNode;bn(o,u);var y=Wo(o,o===Zn?fa:0);if(y===0)v!==null&&Uo(v),o.callbackNode=null,o.callbackPriority=0;else if(u=y&-y,o.callbackPriority!==u){if(v!=null&&Uo(v),u===1)o.tag===0?_(Aw.bind(null,o)):j(Aw.bind(null,o)),pv(function(){(tr&6)===0&&D()}),v=null;else{switch(Vo(y)){case 1:v=Vl;break;case 4:v=Fa;break;case 16:v=to;break;case 536870912:v=Kl;break;default:v=to}v=Dw(v,Sw.bind(null,o))}o.callbackPriority=u,o.callbackNode=v}}function Sw(o,u){if(xp=-1,bp=0,(tr&6)!==0)throw Error(r(327));var v=o.callbackNode;if(wd()&&o.callbackNode!==v)return null;var y=Wo(o,o===Zn?fa:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||u)u=yp(o,y);else{u=y;var A=tr;tr|=2;var O=Cw();(Zn!==o||fa!==u)&&(xl=null,yd=jr()+500,fu(o,u));do try{oO();break}catch(he){Pw(o,he)}while(!0);Jt(),hp.current=O,tr=A,In!==null?u=0:(Zn=null,fa=0,u=zn)}if(u!==0){if(u===2&&(A=Ci(o),A!==0&&(y=A,u=Bv(o,A))),u===1)throw v=Ef,fu(o,0),jc(o,y),mi(o,jr()),v;if(u===6)jc(o,y);else{if(A=o.current.alternate,(y&30)===0&&!iO(A)&&(u=yp(o,y),u===2&&(O=Ci(o),O!==0&&(y=O,u=Bv(o,O))),u===1))throw v=Ef,fu(o,0),jc(o,y),mi(o,jr()),v;switch(o.finishedWork=A,o.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:hu(o,pi,xl);break;case 3:if(jc(o,y),(y&130023424)===y&&(u=Rv+500-jr(),10<u)){if(Wo(o,0)!==0)break;if(A=o.suspendedLanes,(A&y)!==y){Ga(),o.pingedLanes|=o.suspendedLanes&A;break}o.timeoutHandle=wf(hu.bind(null,o,pi,xl),u);break}hu(o,pi,xl);break;case 4:if(jc(o,y),(y&4194240)===y)break;for(u=o.eventTimes,A=-1;0<y;){var K=31-on(y);O=1<<K,K=u[K],K>A&&(A=K),y&=~O}if(y=A,y=jr()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*aO(y/1960))-y,10<y){o.timeoutHandle=wf(hu.bind(null,o,pi,xl),y);break}hu(o,pi,xl);break;case 5:hu(o,pi,xl);break;default:throw Error(r(329))}}}return mi(o,jr()),o.callbackNode===v?Sw.bind(null,o):null}function Bv(o,u){var v=Lf;return o.current.memoizedState.isDehydrated&&(fu(o,u).flags|=256),o=yp(o,u),o!==2&&(u=pi,pi=v,u!==null&&Uv(u)),o}function Uv(o){pi===null?pi=o:pi.push.apply(pi,o)}function iO(o){for(var u=o;;){if(u.flags&16384){var v=u.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var y=0;y<v.length;y++){var A=v[y],O=A.getSnapshot;A=A.value;try{if(!zr(O(),A))return!1}catch{return!1}}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function jc(o,u){for(u&=~Mv,u&=~pp,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var v=31-on(u),y=1<<v;o[v]=-1,u&=~y}}function Aw(o){if((tr&6)!==0)throw Error(r(327));wd();var u=Wo(o,0);if((u&1)===0)return mi(o,jr()),null;var v=yp(o,u);if(o.tag!==0&&v===2){var y=Ci(o);y!==0&&(u=y,v=Bv(o,y))}if(v===1)throw v=Ef,fu(o,0),jc(o,u),mi(o,jr()),v;if(v===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,hu(o,pi,xl),mi(o,jr()),null}function qv(o,u){var v=tr;tr|=1;try{return o(u)}finally{tr=v,tr===0&&(yd=jr()+500,su&&D())}}function du(o){wc!==null&&wc.tag===0&&(tr&6)===0&&wd();var u=tr;tr|=1;var v=ls.transition,y=Yt;try{if(ls.transition=null,Yt=1,o)return o()}finally{Yt=y,ls.transition=v,tr=u,(tr&6)===0&&D()}}function $v(){zi=bd.current,or(bd)}function fu(o,u){o.finishedWork=null,o.finishedLanes=0;var v=o.timeoutHandle;if(v!==-1&&(o.timeoutHandle=-1,Qh(v)),In!==null)for(v=In.return;v!==null;){var y=v;switch(Ce(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&od();break;case 3:is(),or(Sa),or(Rn),Pf();break;case 5:Sf(y);break;case 4:is();break;case 13:or(kr);break;case 19:or(kr);break;case 10:_r(y.type._context);break;case 22:case 23:$v()}v=v.return}if(Zn=o,In=o=kc(o.current,null),fa=zi=u,zn=0,Ef=null,Mv=pp=uu=0,pi=Lf=null,pr!==null){for(u=0;u<pr.length;u++)if(v=pr[u],y=v.interleaved,y!==null){v.interleaved=null;var A=y.next,O=v.pending;if(O!==null){var K=O.next;O.next=A,y.next=K}v.pending=y}pr=null}return o}function Pw(o,u){do{var v=In;try{if(Jt(),ld.current=op,vc){for(var y=Or.memoizedState;y!==null;){var A=y.queue;A!==null&&(A.pending=null),y=y.next}vc=!1}if(ss=0,rn=hn=Or=null,Ls=!1,gc=0,Tv.current=null,v===null||v.return===null){zn=1,Ef=u,In=null;break}e:{var O=o,K=v.return,he=v,xe=u;if(u=fa,he.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Ie=xe,$e=he,We=$e.tag;if(($e.mode&1)===0&&(We===0||We===11||We===15)){var Ue=$e.alternate;Ue?($e.updateQueue=Ue.updateQueue,$e.memoizedState=Ue.memoizedState,$e.lanes=Ue.lanes):($e.updateQueue=null,$e.memoizedState=null)}var Xe=Qy(K);if(Xe!==null){Xe.flags&=-257,Jy(Xe,K,he,O,u),Xe.mode&1&&Zy(O,Ie,u),u=Xe,xe=Ie;var nt=u.updateQueue;if(nt===null){var ot=new Set;ot.add(xe),u.updateQueue=ot}else nt.add(xe);break e}else{if((u&1)===0){Zy(O,Ie,u),Wv();break e}xe=Error(r(426))}}else if(Re&&he.mode&1){var jn=Qy(K);if(jn!==null){(jn.flags&65536)===0&&(jn.flags|=256),Jy(jn,K,he,O,u),Ge(gd(xe,he));break e}}O=xe=gd(xe,he),zn!==4&&(zn=2),Lf===null?Lf=[O]:Lf.push(O),O=K;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var Pe=Yy(O,xe,u);vr(O,Pe);break e;case 1:he=xe;var Ne=O.type,Oe=O.stateNode;if((O.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(yc===null||!yc.has(Oe)))){O.flags|=65536,u&=-u,O.lanes|=u;var Ve=Xy(O,he,u);vr(O,Ve);break e}}O=O.return}while(O!==null)}Ow(v)}catch(ut){u=ut,In===v&&v!==null&&(In=v=v.return);continue}break}while(!0)}function Cw(){var o=hp.current;return hp.current=op,o===null?op:o}function Wv(){(zn===0||zn===3||zn===2)&&(zn=4),Zn===null||(uu&268435455)===0&&(pp&268435455)===0||jc(Zn,fa)}function yp(o,u){var v=tr;tr|=2;var y=Cw();(Zn!==o||fa!==u)&&(xl=null,fu(o,u));do try{sO();break}catch(A){Pw(o,A)}while(!0);if(Jt(),tr=v,hp.current=y,In!==null)throw Error(r(261));return Zn=null,fa=0,zn}function sO(){for(;In!==null;)_w(In)}function oO(){for(;In!==null&&!Hl();)_w(In)}function _w(o){var u=Lw(o.alternate,o,zi);o.memoizedProps=o.pendingProps,u===null?Ow(o):In=u,Tv.current=null}function Ow(o){var u=o;do{var v=u.alternate;if(o=u.return,(u.flags&32768)===0){if(v=J_(v,u,zi),v!==null){In=v;return}}else{if(v=eO(v,u),v!==null){v.flags&=32767,In=v;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{zn=6,In=null;return}}if(u=u.sibling,u!==null){In=u;return}In=u=o}while(u!==null);zn===0&&(zn=5)}function hu(o,u,v){var y=Yt,A=ls.transition;try{ls.transition=null,Yt=1,lO(o,u,v,y)}finally{ls.transition=A,Yt=y}return null}function lO(o,u,v,y){do wd();while(wc!==null);if((tr&6)!==0)throw Error(r(327));v=o.finishedWork;var A=o.finishedLanes;if(v===null)return null;if(o.finishedWork=null,o.finishedLanes=0,v===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var O=v.lanes|v.childLanes;if(Yi(o,O),o===Zn&&(In=Zn=null,fa=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||vp||(vp=!0,Dw(to,function(){return wd(),null})),O=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||O){O=ls.transition,ls.transition=null;var K=Yt;Yt=1;var he=tr;tr|=4,Tv.current=null,rO(o,v),yw(v,o),Xc(fl),Jl=!!au,fl=au=null,o.current=v,nO(v),cf(),tr=he,Yt=K,ls.transition=O}else o.current=v;if(vp&&(vp=!1,wc=o,gp=A),O=o.pendingLanes,O===0&&(yc=null),Yu(v.stateNode),mi(o,jr()),u!==null)for(y=o.onRecoverableError,v=0;v<u.length;v++)A=u[v],y(A.value,{componentStack:A.stack,digest:A.digest});if(mp)throw mp=!1,o=Fv,Fv=null,o;return(gp&1)!==0&&o.tag!==0&&wd(),O=o.pendingLanes,(O&1)!==0?o===zv?Df++:(Df=0,zv=o):Df=0,D(),null}function wd(){if(wc!==null){var o=Vo(gp),u=ls.transition,v=Yt;try{if(ls.transition=null,Yt=16>o?16:o,wc===null)var y=!1;else{if(o=wc,wc=null,gp=0,(tr&6)!==0)throw Error(r(331));var A=tr;for(tr|=4,Je=o.current;Je!==null;){var O=Je,K=O.child;if((Je.flags&16)!==0){var he=O.deletions;if(he!==null){for(var xe=0;xe<he.length;xe++){var Ie=he[xe];for(Je=Ie;Je!==null;){var $e=Je;switch($e.tag){case 0:case 11:case 15:If(8,$e,O)}var We=$e.child;if(We!==null)We.return=$e,Je=We;else for(;Je!==null;){$e=Je;var Ue=$e.sibling,Xe=$e.return;if(mw($e),$e===Ie){Je=null;break}if(Ue!==null){Ue.return=Xe,Je=Ue;break}Je=Xe}}}var nt=O.alternate;if(nt!==null){var ot=nt.child;if(ot!==null){nt.child=null;do{var jn=ot.sibling;ot.sibling=null,ot=jn}while(ot!==null)}}Je=O}}if((O.subtreeFlags&2064)!==0&&K!==null)K.return=O,Je=K;else e:for(;Je!==null;){if(O=Je,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:If(9,O,O.return)}var Pe=O.sibling;if(Pe!==null){Pe.return=O.return,Je=Pe;break e}Je=O.return}}var Ne=o.current;for(Je=Ne;Je!==null;){K=Je;var Oe=K.child;if((K.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=K,Je=Oe;else e:for(K=Ne;Je!==null;){if(he=Je,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:fp(9,he)}}catch(ut){pn(he,he.return,ut)}if(he===K){Je=null;break e}var Ve=he.sibling;if(Ve!==null){Ve.return=he.return,Je=Ve;break e}Je=he.return}}if(tr=A,D(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(qo,o)}catch{}y=!0}return y}finally{Yt=v,ls.transition=u}}return!1}function Iw(o,u,v){u=gd(v,u),u=Yy(o,u,1),o=en(o,u,1),u=Ga(),o!==null&&(Ho(o,1,u),mi(o,u))}function pn(o,u,v){if(o.tag===3)Iw(o,o,v);else for(;u!==null;){if(u.tag===3){Iw(u,o,v);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(yc===null||!yc.has(y))){o=gd(v,o),o=Xy(u,o,1),u=en(u,o,1),o=Ga(),u!==null&&(Ho(u,1,o),mi(u,o));break}}u=u.return}}function cO(o,u,v){var y=o.pingCache;y!==null&&y.delete(u),u=Ga(),o.pingedLanes|=o.suspendedLanes&v,Zn===o&&(fa&v)===v&&(zn===4||zn===3&&(fa&130023424)===fa&&500>jr()-Rv?fu(o,0):Mv|=v),mi(o,u)}function Ew(o,u){u===0&&((o.mode&1)===0?u=1:(u=Ba,Ba<<=1,(Ba&130023424)===0&&(Ba=4194304)));var v=Ga();o=mr(o,u),o!==null&&(Ho(o,u,v),mi(o,v))}function uO(o){var u=o.memoizedState,v=0;u!==null&&(v=u.retryLane),Ew(o,v)}function dO(o,u){var v=0;switch(o.tag){case 13:var y=o.stateNode,A=o.memoizedState;A!==null&&(v=A.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),Ew(o,v)}var Lw;Lw=function(o,u,v){if(o!==null)if(o.memoizedProps!==u.pendingProps||Sa.current)hi=!0;else{if((o.lanes&v)===0&&(u.flags&128)===0)return hi=!1,Q_(o,u,v);hi=(o.flags&131072)!==0}else hi=!1,Re&&(u.flags&1048576)!==0&&Se(u,Q,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;up(o,u),o=u.pendingProps;var A=pc(u,Rn.current);qr(u,v),A=ou(null,u,y,o,A,v);var O=os();return u.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Aa(y)?(O=!0,ml(u)):O=!1,u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Fn(u),A.updater=lp,u.stateNode=A,A._reactInternals=u,wv(u,y,o,v),u=Sv(null,u,y,!0,O,v)):(u.tag=0,Re&&O&&Te(u),Ka(null,u,A,v),u=u.child),u;case 16:y=u.elementType;e:{switch(up(o,u),o=u.pendingProps,A=y._init,y=A(y._payload),u.type=y,A=u.tag=hO(y),o=Ts(y,o),A){case 0:u=kv(null,u,y,o,v);break e;case 1:u=iw(null,u,y,o,v);break e;case 11:u=ew(null,u,y,o,v);break e;case 14:u=tw(null,u,y,Ts(y.type,o),v);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,A=u.pendingProps,A=u.elementType===y?A:Ts(y,A),kv(o,u,y,A,v);case 1:return y=u.type,A=u.pendingProps,A=u.elementType===y?A:Ts(y,A),iw(o,u,y,A,v);case 3:e:{if(sw(u),o===null)throw Error(r(387));y=u.pendingProps,O=u.memoizedState,A=O.element,Pa(o,u),Xn(u,y,null,v);var K=u.memoizedState;if(y=K.element,O.isDehydrated)if(O={element:y,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){A=gd(Error(r(423)),u),u=ow(o,u,y,v,A);break e}else if(y!==A){A=gd(Error(r(424)),u),u=ow(o,u,y,v,A);break e}else for(De=ua(u.stateNode.containerInfo.firstChild),Ee=u,Re=!0,Fe=null,v=Mr(u,null,y,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Qe(),y===A){u=gl(o,u,v);break e}Ka(o,u,y,v)}u=u.child}return u;case 5:return rp(u),o===null&&rt(u),y=u.type,A=u.pendingProps,O=o!==null?o.memoizedProps:null,K=A.children,yf(y,A)?K=null:O!==null&&yf(y,O)&&(u.flags|=32),aw(o,u),Ka(o,u,K,v),u.child;case 6:return o===null&&rt(u),null;case 13:return lw(o,u,v);case 4:return mc(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=dn(u,null,y,v):Ka(o,u,y,v),u.child;case 11:return y=u.type,A=u.pendingProps,A=u.elementType===y?A:Ts(y,A),ew(o,u,y,A,v);case 7:return Ka(o,u,u.pendingProps,v),u.child;case 8:return Ka(o,u,u.pendingProps.children,v),u.child;case 12:return Ka(o,u,u.pendingProps.children,v),u.child;case 10:e:{if(y=u.type._context,A=u.pendingProps,O=u.memoizedProps,K=A.value,dr(wn,y._currentValue),y._currentValue=K,O!==null)if(zr(O.value,K)){if(O.children===A.children&&!Sa.current){u=gl(o,u,v);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var he=O.dependencies;if(he!==null){K=O.child;for(var xe=he.firstContext;xe!==null;){if(xe.context===y){if(O.tag===1){xe=Jr(-1,v&-v),xe.tag=2;var Ie=O.updateQueue;if(Ie!==null){Ie=Ie.shared;var $e=Ie.pending;$e===null?xe.next=xe:(xe.next=$e.next,$e.next=xe),Ie.pending=xe}}O.lanes|=v,xe=O.alternate,xe!==null&&(xe.lanes|=v),er(O.return,v,u),he.lanes|=v;break}xe=xe.next}}else if(O.tag===10)K=O.type===u.type?null:O.child;else if(O.tag===18){if(K=O.return,K===null)throw Error(r(341));K.lanes|=v,he=K.alternate,he!==null&&(he.lanes|=v),er(K,v,u),K=O.sibling}else K=O.child;if(K!==null)K.return=O;else for(K=O;K!==null;){if(K===u){K=null;break}if(O=K.sibling,O!==null){O.return=K.return,K=O;break}K=K.return}O=K}Ka(o,u,A.children,v),u=u.child}return u;case 9:return A=u.type,y=u.pendingProps.children,qr(u,v),A=$r(A),y=y(A),u.flags|=1,Ka(o,u,y,v),u.child;case 14:return y=u.type,A=Ts(y,u.pendingProps),A=Ts(y.type,A),tw(o,u,y,A,v);case 15:return rw(o,u,u.type,u.pendingProps,v);case 17:return y=u.type,A=u.pendingProps,A=u.elementType===y?A:Ts(y,A),up(o,u),u.tag=1,Aa(y)?(o=!0,ml(u)):o=!1,qr(u,v),Ky(u,y,A),wv(u,y,A,v),Sv(null,u,y,!0,o,v);case 19:return uw(o,u,v);case 22:return nw(o,u,v)}throw Error(r(156,u.tag))};function Dw(o,u){return Bo(o,u)}function fO(o,u,v,y){this.tag=o,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(o,u,v,y){return new fO(o,u,v,y)}function Hv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function hO(o){if(typeof o=="function")return Hv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===T)return 11;if(o===W)return 14}return 2}function kc(o,u){var v=o.alternate;return v===null?(v=cs(o.tag,u,o.key,o.mode),v.elementType=o.elementType,v.type=o.type,v.stateNode=o.stateNode,v.alternate=o,o.alternate=v):(v.pendingProps=u,v.type=o.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=o.flags&14680064,v.childLanes=o.childLanes,v.lanes=o.lanes,v.child=o.child,v.memoizedProps=o.memoizedProps,v.memoizedState=o.memoizedState,v.updateQueue=o.updateQueue,u=o.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=o.sibling,v.index=o.index,v.ref=o.ref,v}function wp(o,u,v,y,A,O){var K=2;if(y=o,typeof o=="function")Hv(o)&&(K=1);else if(typeof o=="string")K=5;else e:switch(o){case R:return pu(v.children,A,O,u);case U:K=8,A|=8;break;case B:return o=cs(12,v,u,A|2),o.elementType=B,o.lanes=O,o;case H:return o=cs(13,v,u,A),o.elementType=H,o.lanes=O,o;case V:return o=cs(19,v,u,A),o.elementType=V,o.lanes=O,o;case ue:return Np(v,A,O,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Y:K=10;break e;case C:K=9;break e;case T:K=11;break e;case W:K=14;break e;case pe:K=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=cs(K,v,u,A),u.elementType=o,u.type=y,u.lanes=O,u}function pu(o,u,v,y){return o=cs(7,o,y,u),o.lanes=v,o}function Np(o,u,v,y){return o=cs(22,o,y,u),o.elementType=ue,o.lanes=v,o.stateNode={isHidden:!1},o}function Vv(o,u,v){return o=cs(6,o,null,u),o.lanes=v,o}function Kv(o,u,v){return u=cs(4,o.children!==null?o.children:[],o.key,u),u.lanes=v,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function pO(o,u,v,y,A){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qc(0),this.expirationTimes=qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),this.identifierPrefix=y,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Gv(o,u,v,y,A,O,K,he,xe){return o=new pO(o,u,v,he,xe),u===1?(u=1,O===!0&&(u|=8)):u=0,O=cs(3,null,null,u),o.current=O,O.stateNode=o,O.memoizedState={element:y,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fn(O),o}function mO(o,u,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:y==null?null:""+y,children:o,containerInfo:u,implementation:v}}function Tw(o){if(!o)return mo;o=o._reactInternals;e:{if(Dn(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Aa(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var v=o.type;if(Aa(v))return kf(o,v,u)}return u}function Mw(o,u,v,y,A,O,K,he,xe){return o=Gv(v,y,!0,o,A,O,K,he,xe),o.context=Tw(null),v=o.current,y=Ga(),A=Nc(v),O=Jr(y,A),O.callback=u??null,en(v,O,A),o.current.lanes=A,Ho(o,A,y),mi(o,y),o}function jp(o,u,v,y){var A=u.current,O=Ga(),K=Nc(A);return v=Tw(v),u.context===null?u.context=v:u.pendingContext=v,u=Jr(O,K),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=en(A,u,K),o!==null&&(Fs(o,A,K,O),Yn(o,A,K)),K}function kp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Rw(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var v=o.retryLane;o.retryLane=v!==0&&v<u?v:u}}function Yv(o,u){Rw(o,u),(o=o.alternate)&&Rw(o,u)}function vO(){return null}var Fw=typeof reportError=="function"?reportError:function(o){console.error(o)};function Xv(o){this._internalRoot=o}Sp.prototype.render=Xv.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));jp(o,u,null,null)},Sp.prototype.unmount=Xv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;du(function(){jp(null,o,null,null)}),u[Kn]=null}};function Sp(o){this._internalRoot=o}Sp.prototype.unstable_scheduleHydration=function(o){if(o){var u=Zu();o={blockedOn:null,target:o,priority:u};for(var v=0;v<Zi.length&&u!==0&&u<Zi[v].priority;v++);Zi.splice(v,0,o),v===0&&Ju(o)}};function Zv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Ap(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function zw(){}function gO(o,u,v,y,A){if(A){if(typeof y=="function"){var O=y;y=function(){var Ie=kp(K);O.call(Ie)}}var K=Mw(u,y,o,0,null,!1,!1,"",zw);return o._reactRootContainer=K,o[Kn]=K.current,ul(o.nodeType===8?o.parentNode:o),du(),K}for(;A=o.lastChild;)o.removeChild(A);if(typeof y=="function"){var he=y;y=function(){var Ie=kp(xe);he.call(Ie)}}var xe=Gv(o,0,!1,null,null,!1,!1,"",zw);return o._reactRootContainer=xe,o[Kn]=xe.current,ul(o.nodeType===8?o.parentNode:o),du(function(){jp(u,xe,v,y)}),xe}function Pp(o,u,v,y,A){var O=v._reactRootContainer;if(O){var K=O;if(typeof A=="function"){var he=A;A=function(){var xe=kp(K);he.call(xe)}}jp(u,K,o,A)}else K=gO(v,u,o,A,y);return kp(K)}ro=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var v=Gi(u.pendingLanes);v!==0&&(Yl(u,v|1),mi(u,jr()),(tr&6)===0&&(yd=jr()+500,D()))}break;case 13:du(function(){var y=mr(o,1);if(y!==null){var A=Ga();Fs(y,o,1,A)}}),Yv(o,1)}},$c=function(o){if(o.tag===13){var u=mr(o,134217728);if(u!==null){var v=Ga();Fs(u,o,134217728,v)}Yv(o,134217728)}},Xu=function(o){if(o.tag===13){var u=Nc(o),v=mr(o,u);if(v!==null){var y=Ga();Fs(v,o,u,y)}Yv(o,u)}},Zu=function(){return Yt},Xl=function(o,u){var v=Yt;try{return Yt=o,u()}finally{Yt=v}},_t=function(o,u,v){switch(u){case"input":if(ft(o,v),u=v.name,v.type==="radio"&&u!=null){for(v=o;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<v.length;u++){var y=v[u];if(y!==o&&y.form===o.form){var A=iu(y);if(!A)throw Error(r(90));ke(y),ft(y,A)}}}break;case"textarea":Xt(o,v);break;case"select":u=v.value,u!=null&&Ye(o,!!v.multiple,u,!1)}},Ln=qv,Vi=du;var xO={usingClientEntryPoint:!1,Events:[hc,hl,iu,Zt,Qs,qv]},Tf={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bO={bundleType:Tf.bundleType,version:Tf.version,rendererPackageName:Tf.rendererPackageName,rendererConfig:Tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Pi(o),o===null?null:o.stateNode},findFiberByHostInstance:Tf.findFiberByHostInstance||vO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cp.isDisabled&&Cp.supportsFiber)try{qo=Cp.inject(bO),za=Cp}catch{}}return vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xO,vi.createPortal=function(o,u){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zv(u))throw Error(r(200));return mO(o,u,null,v)},vi.createRoot=function(o,u){if(!Zv(o))throw Error(r(299));var v=!1,y="",A=Fw;return u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),u=Gv(o,1,!1,null,null,v,!1,y,A),o[Kn]=u.current,ul(o.nodeType===8?o.parentNode:o),new Xv(u)},vi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Pi(u),o=o===null?null:o.stateNode,o},vi.flushSync=function(o){return du(o)},vi.hydrate=function(o,u,v){if(!Ap(u))throw Error(r(200));return Pp(null,o,u,!0,v)},vi.hydrateRoot=function(o,u,v){if(!Zv(o))throw Error(r(405));var y=v!=null&&v.hydratedSources||null,A=!1,O="",K=Fw;if(v!=null&&(v.unstable_strictMode===!0&&(A=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onRecoverableError!==void 0&&(K=v.onRecoverableError)),u=Mw(u,null,o,1,v??null,A,!1,O,K),o[Kn]=u.current,ul(o),y)for(o=0;o<y.length;o++)v=y[o],A=v._getVersion,A=A(v._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[v,A]:u.mutableSourceEagerHydrationData.push(v,A);return new Sp(u)},vi.render=function(o,u,v){if(!Ap(u))throw Error(r(200));return Pp(null,o,u,!1,v)},vi.unmountComponentAtNode=function(o){if(!Ap(o))throw Error(r(40));return o._reactRootContainer?(du(function(){Pp(null,null,o,!1,function(){o._reactRootContainer=null,o[Kn]=null})}),!0):!1},vi.unstable_batchedUpdates=qv,vi.unstable_renderSubtreeIntoContainer=function(o,u,v,y){if(!Ap(v))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Pp(o,u,v,!1,y)},vi.version="18.3.1-next-f1338f8080-20240426",vi}var Kw;function PS(){if(Kw)return eg.exports;Kw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),eg.exports=OO(),eg.exports}var Gw;function IO(){if(Gw)return _p;Gw=1;var e=PS();return _p.createRoot=e.createRoot,_p.hydrateRoot=e.hydrateRoot,_p}var EO=IO();const LO=Mo(EO),DO=()=>s.jsx("div",{className:"flex items-center justify-center py-8 border-b w-full overflow-hidden",children:s.jsx("img",{src:"/logo.svg",alt:"CWS - Slovakia",className:"h-auto object-contain scale-[1.5] translate-x-14"})}),TO=()=>s.jsxs("button",{type:"button",className:"items-center bg-white caret-transparent gap-x-2 flex shrink-0 justify-between gap-y-2 text-left w-full border border-[var(--border)] mb-2 p-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-[15px] w-[15px]"}),s.jsx("span",{className:"box-border caret-transparent block basis-[0%] grow text-ellipsis text-nowrap overflow-hidden",children:"CWS - Slovakia"}),s.jsx("div",{className:"self-stretch bg-zinc-200 box-border caret-transparent shrink-0 w-px"}),s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-3.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-5 w-5"})})]}),Yw=()=>s.jsxs("div",{className:"box-border caret-transparent grid shrink-0 gap-y-2 mb-3",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(DO,{})}),s.jsx("div",{className:"hidden lg:hidden flex items-center justify-center mb-2",children:s.jsx("img",{alt:"CWS - Slovakia",src:"/public/logo.svg",className:"box-border caret-transparent shrink-0 h-8 w-8 rounded"})}),s.jsx("div",{className:"absolute box-border caret-transparent hidden shrink-0 border border-solid border-transparent right-4",children:s.jsx("button",{type:"button",className:"items-center bg-zinc-200 caret-transparent flex fill-slate-500 shrink-0 h-8 justify-center opacity-50 text-center w-8 z-[1] rounded-bl rounded-br rounded-tl rounded-tr",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-1.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-6 w-6"})})}),s.jsx("div",{className:"hidden lg:flex items-center box-border caret-transparent basis-[0%] grow max-w-full -mb-2 py-2",children:s.jsx(TO,{})})]}),Xw="procedures_v1";let ng;const CS={load(){try{const e=localStorage.getItem(Xw);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Failed to load procedures",e),[]}},save(e){try{localStorage.setItem(Xw,JSON.stringify(e))}catch(t){console.error("Failed to save procedures",t)}},saveDebounced(e,t=250){ng&&window.clearTimeout(ng),ng=window.setTimeout(()=>{this.save(e)},t)}},Op=()=>crypto.randomUUID();let rr=CS.load();const sh=new Set;function MO(){const[e,t]=P.useState(rr.length);return P.useEffect(()=>{const r=()=>t(rr.length);return sh.add(r),()=>{sh.delete(r)}},[]),e}const gi=()=>{sh.forEach(e=>e()),CS.saveDebounced(rr)};function Ph(){const[e,t]=P.useState(rr);P.useEffect(()=>{const I=()=>t([...rr]);return sh.add(I),()=>{sh.delete(I)}},[]);const r=I=>{const M=["TextInput","NumberInput","MultipleChoice","YesNoNA","Inspection","Date","Photo","File","Signature","MeterReading"];return I.sections.reduce((F,R)=>F+R.items.filter(U=>M.includes(U.kind)).length,0)},n=P.useCallback(I=>{const M=new Date().toISOString(),F={id:Op(),name:I||"Untitled Procedure",description:"",createdAt:M,updatedAt:M,meta:{version:1,fieldCount:0},sections:[{id:Op(),title:"",orderIndex:0,items:[]}]};return F.meta.fieldCount=r(F),rr=[...rr,F],gi(),F},[]),a=P.useCallback((I,M)=>{rr=rr.map(F=>{var U;if(F.id!==I)return F;const R={...F,...M,updatedAt:new Date().toISOString(),meta:{...F.meta,version:(((U=F.meta)==null?void 0:U.version)||0)+1}};return R.meta.fieldCount=r(R),R}),gi()},[]),i=P.useCallback(I=>{rr=rr.filter(M=>M.id!==I),gi()},[]),l=P.useCallback(I=>rr.find(M=>M.id===I),[]),c=P.useCallback((I,M)=>{rr=rr.map(F=>{if(F.id!==I)return F;const R=F.sections.length,U={...F,updatedAt:new Date().toISOString(),sections:[...F.sections,{id:Op(),title:M||"",orderIndex:R,items:[]}]};return U.meta.fieldCount=r(U),U}),gi()},[]),d=P.useCallback((I,M,F)=>{rr=rr.map(R=>{if(R.id!==I)return R;const U={...R,updatedAt:new Date().toISOString(),sections:R.sections.map(B=>B.id===M?{...B,...F}:B)};return U.meta.fieldCount=r(U),U}),gi()},[]),f=P.useCallback((I,M)=>{rr=rr.map(F=>{if(F.id!==I)return F;const R={...F,updatedAt:new Date().toISOString(),sections:F.sections.filter(U=>U.id!==M).map((U,B)=>({...U,orderIndex:B}))};return R.meta.fieldCount=r(R),R}),gi()},[]),h=P.useCallback((I,M,F)=>{rr=rr.map(R=>{if(R.id!==I)return R;const U=[...R.sections],[B]=U.splice(M,1);return U.splice(F,0,B),{...R,updatedAt:new Date().toISOString(),sections:U.map((Y,C)=>({...Y,orderIndex:C}))}}),gi()},[]),m=P.useCallback((I,M,F)=>{rr=rr.map(R=>{if(R.id!==I)return R;const U={...R,updatedAt:new Date().toISOString(),sections:R.sections.map(B=>{if(B.id!==M)return B;const Y=B.items.length;return{...B,items:[...B.items,{...F,id:Op(),orderIndex:Y}]}})};return U.meta.fieldCount=r(U),U}),gi()},[]),g=P.useCallback((I,M,F,R)=>{rr=rr.map(U=>{if(U.id!==I)return U;const B={...U,updatedAt:new Date().toISOString(),sections:U.sections.map(Y=>Y.id!==M?Y:{...Y,items:Y.items.map(C=>C.id===F?{...C,...R}:C)})};return B.meta.fieldCount=r(B),B}),gi()},[]),p=P.useCallback((I,M,F)=>{rr=rr.map(R=>{if(R.id!==I)return R;const U={...R,updatedAt:new Date().toISOString(),sections:R.sections.map(B=>{if(B.id!==M)return B;const Y=B.items.filter(C=>C.id!==F).map((C,T)=>({...C,orderIndex:T}));return{...B,items:Y}})};return U.meta.fieldCount=r(U),U}),gi()},[]),b=P.useCallback((I,M,F,R)=>{rr=rr.map(U=>U.id!==I?U:{...U,updatedAt:new Date().toISOString(),sections:U.sections.map(B=>{if(B.id!==M)return B;const Y=[...B.items],[C]=Y.splice(F,1);return Y.splice(R,0,C),{...B,items:Y.map((T,H)=>({...T,orderIndex:H}))}})}),gi()},[]),w=P.useCallback(I=>{const M=I.trim().toLowerCase();return M?e.filter(F=>F.name.toLowerCase().includes(M)):e},[e]),N=P.useMemo(()=>[...e].sort((I,M)=>I.name.localeCompare(M.name)),[e]),k=P.useCallback(()=>{rr=[],gi()},[]),L=P.useCallback(I=>{rr=[...rr,...I],gi()},[]),E=P.useCallback(I=>{rr=rr.map(M=>M.id===I.id?{...I,updatedAt:new Date().toISOString()}:M),gi()},[]);return{procedures:N,addProcedure:n,updateProcedure:a,saveProcedure:E,deleteProcedure:i,getProcedureById:l,addSection:c,removeSection:f,reorderSections:h,updateSection:d,addItem:m,updateItem:g,removeItem:p,reorderItems:b,search:w,clearProcedures:k,importProcedures:L}}const Zw=({className:e})=>{const t=MO();return t===0?null:s.jsx("div",{className:e,children:t})},Qw=({currentView:e})=>{const[t,r]=P.useState(!1);return s.jsxs("ul",{className:"[mask-image:linear-gradient(rgb(252,252,253)_calc(100%_-_16px),rgba(0,0,0,0)_100%)] relative box-border caret-transparent flex basis-[0%] flex-col grow list-none overflow-x-hidden overflow-y-auto gap-y-2 lg:-mr-3 pl-0 lg:pr-1.5 pb-2",children:[s.jsx("li",{title:"Work Orders",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/workorders",onClick:n=>{n.preventDefault(),window.location.hash=""},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="workorders"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-4.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="workorders"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Work Orders"})]})}),s.jsx("li",{title:"Reporting",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/reporting",onClick:n=>{n.preventDefault(),window.location.hash="reporting"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="reporting"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-5.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="reporting"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Reporting"})]})}),s.jsx("li",{title:"Assets",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/assets",onClick:n=>{n.preventDefault(),window.location.hash="assets"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="assets"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-7.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="assets"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Assets"})]})}),s.jsx("li",{className:"box-border caret-transparent shrink-0",children:s.jsx("hr",{className:"text-zinc-500 bg-zinc-200 caret-transparent shrink-0 h-px w-full"})}),s.jsx("li",{title:"Categories",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/categories",onClick:n=>{n.preventDefault(),window.location.hash="categories"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="categories"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-9.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="categories"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Categories"})]})}),s.jsx("li",{title:"Parts",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/parts",onClick:n=>{n.preventDefault(),window.location.hash="parts"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="parts"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-10.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="parts"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Parts"})]})}),s.jsx("li",{title:"Procedures",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/procedures",onClick:n=>{n.preventDefault(),window.location.hash="procedures"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="procedures"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-12.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="procedures"?"opacity-100":""}`}),s.jsx(Zw,{className:"lg:hidden absolute -top-1 -right-1 text-white text-[8px] font-semibold items-center bg-accent box-border caret-transparent flex shrink-0 h-3 w-3 justify-center rounded-full"})]}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Procedures"}),s.jsx(Zw,{className:"hidden lg:flex text-white text-[10.0002px] font-semibold items-center bg-accent box-border caret-transparent shrink-0 h-4 justify-center leading-[12.0002px] min-w-4 px-1 py-0.5 rounded-bl rounded-br rounded-tl rounded-tr"})]})}),s.jsx("li",{title:"Meters",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/meters",onClick:n=>{n.preventDefault(),window.location.hash="meters"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="meters"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-13.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="meters"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Meters"})]})}),s.jsx("li",{title:"Locations",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/locations",onClick:n=>{n.preventDefault(),window.location.hash="locations"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="locations"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-15.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="locations"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Locations"})]})}),s.jsx("li",{title:"Users",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/users",onClick:n=>{n.preventDefault(),window.location.hash="users"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="users"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-16.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="users"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Users"})]})}),s.jsx("li",{title:"Vendors",className:"box-border caret-transparent shrink-0",children:s.jsxs("a",{href:"/vendors",onClick:n=>{n.preventDefault(),window.location.hash="vendors"},className:`relative items-center box-border caret-transparent gap-x-2 flex shrink-0 break-words lg:px-2 py-1.5 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${e==="vendors"?"text-[var(--accent)] bg-[var(--panel)] opacity-100":"hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-17.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] ${e==="vendors"?"opacity-100":""}`}),s.jsx("span",{className:"hidden lg:block box-border caret-transparent basis-[0%] grow tracking-[-0.3px] leading-[19.6px] break-words text-ellipsis text-nowrap overflow-hidden",children:"Vendors"})]})})]})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_S=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...c},d)=>P.createElement("svg",{ref:d,...FO,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_S("lucide",a),...c},[...l.map(([f,h])=>P.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=(e,t)=>{const r=P.forwardRef(({className:n,...a},i)=>P.createElement(zO,{ref:i,iconNode:t,className:_S(`lucide-${RO(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Dr("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=Dr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Dr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Dr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Dr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Dr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Dr("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Dr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Dr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Dr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Dr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=Dr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Dr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Dr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Dr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Dr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=Dr("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Dr("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Dr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Dr("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Dr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Dr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Dr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Dr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=Dr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Dr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ES="users_v1",Pb="active_user_id_v1",ag={id:"admin-001",fullName:"Admin",role:"Administrator",pin:"1234",lastVisit:new Date().toISOString(),createdAt:new Date().toISOString(),isActive:!0,avatarUrl:"https://app.getmaintainx.com/img/static/user_placeholders/RandomPicture4.png"};let kn=[],So=null;const Cb=new Set,t5=localStorage.getItem(ES);if(t5)try{const e=JSON.parse(t5);Array.isArray(e)&&e.length>0?kn=e:kn=[ag]}catch(e){console.error("Failed to parse saved users",e),kn=[ag]}else kn=[ag];const ig=localStorage.getItem(Pb);var kS;ig&&kn.find(e=>e.id===ig)?So=ig:So=((kS=kn[0])==null?void 0:kS.id)||null;const Rf=()=>{Cb.forEach(e=>e()),localStorage.setItem(ES,JSON.stringify(kn)),So?localStorage.setItem(Pb,So):localStorage.removeItem(Pb)},xs=()=>{const[e,t]=P.useState(kn),[r,n]=P.useState(So);P.useEffect(()=>{const g=()=>{t([...kn]),n(So)};return Cb.add(g),()=>{Cb.delete(g)}},[]);const a=P.useCallback(g=>{if(kn.some(b=>b.pin===g.pin))throw new Error("PIN already in use. Each user must have a unique PIN.");const p={...g,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return kn=[...kn,p],Rf(),p},[]),i=P.useCallback((g,p)=>{kn=kn.map(b=>b.id===g?{...b,...p}:b),Rf()},[]),l=P.useCallback(g=>{g!=="admin-001"&&(kn=kn.filter(p=>p.id!==g),So===g&&(So="admin-001"),Rf())},[]),c=P.useCallback(g=>{const p=kn.find(b=>b.pin===g&&b.isActive);return p?(So=p.id,kn=kn.map(b=>b.id===p.id?{...b,lastVisit:new Date().toISOString()}:b),Rf(),p):null},[]),d=P.useCallback(g=>{kn.find(b=>b.id===g&&b.isActive)&&(So=g,Rf())},[]),f=P.useMemo(()=>e.find(g=>g.id===r)||e[0]||null,[e,r]),h=e,m=P.useCallback(g=>kn.find(p=>p.id===g),[]);return{users:e,allUsers:h,activeUser:f,activeUserId:r,addUser:a,updateUser:i,deleteUser:l,authenticateByPin:c,setActiveUser:d,getUserById:m}},nI=({isOpen:e,onClose:t})=>{const{authenticateByPin:r}=xs(),[n,a]=P.useState(""),[i,l]=P.useState("");if(!e)return null;const c=d=>{d.preventDefault(),r(n)?(a(""),l(""),t()):l("Invalid PIN. Please try again.")};return s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in duration-200",children:[s.jsxs("header",{className:"px-6 py-4 border-b border-[var(--border)] flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Switch User"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("form",{onSubmit:c,className:"p-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Enter your PIN to switch to your profile."}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("input",{type:"password",autoFocus:!0,className:`w-32 text-center text-2xl tracking-[0.5em] border ${i?"border-red-500":"border-[var(--border)]"} rounded p-2 focus:outline-none focus:border-blue-500`,value:n,onChange:d=>{a(d.target.value.replace(/\D/g,"").slice(0,6)),i&&l("")},placeholder:""}),i&&s.jsx("p",{className:"text-red-500 text-xs mt-3 font-medium",children:i})]}),s.jsxs("div",{className:"mt-8 flex flex-col gap-2",children:[s.jsx("button",{type:"submit",disabled:n.length<4,className:`w-full py-2.5 text-sm font-bold text-white rounded-md transition-colors ${n.length<4?"bg-gray-300 cursor-not-allowed":"bg-accent hover:bg-accent-hover"}`,children:"Confirm"}),s.jsx("button",{type:"button",onClick:t,className:"w-full py-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Cancel"})]})]})]})})},aI=()=>{const{activeUser:e}=xs(),[t,r]=P.useState(!1),n=window.location.hash==="#settings",a=i=>{i.stopPropagation(),localStorage.removeItem("omp-auth"),window.location.reload()};return s.jsxs("div",{className:"box-border caret-transparent shrink-0 w-full group/profile",children:[s.jsxs("div",{onClick:()=>r(!0),className:`relative items-center cursor-pointer caret-transparent flex fill-gray-600 shrink-0 stroke-gray-600 text-center w-full mt-2 rounded-bl rounded-br rounded-tl rounded-tr justify-center lg:justify-start ${n?"bg-[var(--panel)] text-[var(--accent)] opacity-100":"bg-transparent hover:bg-[var(--panel)] opacity-65 hover:opacity-100"}`,title:"Switch User",children:[s.jsx("div",{className:"items-center bg-[var(--panel)] bg-cover box-border caret-transparent flex fill-gray-600 shrink-0 h-8 justify-center stroke-gray-600 w-8 bg-center rounded-[50%]",style:{backgroundImage:`url('${(e==null?void 0:e.avatarUrl)||"https://app.getmaintainx.com/img/static/user_placeholders/RandomPicture4.png"}')`}}),s.jsxs("div",{className:"hidden lg:block box-border caret-transparent fill-gray-600 grow leading-[18.9px] stroke-gray-600 overflow-hidden ml-2",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex fill-gray-600 shrink-0 stroke-gray-600",children:s.jsx("div",{className:"font-medium box-border caret-transparent fill-gray-600 stroke-gray-600 text-left text-ellipsis text-nowrap overflow-hidden",children:(e==null?void 0:e.fullName)||"Admin"})}),s.jsxs("div",{className:"text-gray-600 items-center box-border caret-transparent flex fill-gray-600 shrink-0 stroke-gray-600",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-18.svg",alt:"Icon",className:`text-accent box-border caret-transparent shrink-0 h-3.5 w-3.5 mr-1 ${n?"opacity-100":""}`}),s.jsx("div",{className:"box-border caret-transparent fill-gray-600 shrink-0 stroke-gray-600",children:"Switch User"})]})]}),s.jsx("button",{onClick:a,title:"Log Out",className:"hidden lg:flex absolute right-2 top-1/2 -translate-y-1/2 items-center justify-center p-1.5 rounded-md text-[#9AA4B2] hover:text-red-500 hover:bg-red-500/10 opacity-0 group-hover/profile:opacity-100 transition-all",children:s.jsx(YO,{className:"h-4 w-4"})}),s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-19.svg",alt:"Icon",className:`hidden lg:block text-accent box-border caret-transparent shrink-0 h-5 w-5 group-hover/profile:opacity-0 transition-opacity ${n?"opacity-100":""}`})]}),s.jsx(nI,{isOpen:t,onClose:()=>r(!1)})]})},r5=()=>s.jsx("div",{className:"box-border caret-transparent shrink-0 border-t border-[var(--border)] opacity-85 mt-2",children:s.jsx("div",{className:"relative text-[12.6px] box-border caret-transparent flex shrink-0 leading-[15.12px]",children:s.jsx(aI,{})})}),iI=({currentView:e})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"hidden lg:flex relative omp-panel-secondary box-border caret-transparent flex-col shrink-0 w-[210px] z-[1] pt-6 h-screen sticky top-0 border-r border-[var(--border)]",children:[s.jsx(Yw,{}),s.jsxs("div",{className:"px-4 flex-col flex grow",children:[s.jsx(Qw,{currentView:e}),s.jsx("div",{className:"mt-auto pb-2",children:s.jsx(r5,{})})]})]}),s.jsxs("div",{className:"flex lg:hidden relative omp-panel-secondary box-border caret-transparent flex-col shrink-0 w-[50px] z-[1] pt-6 px-2 h-screen sticky top-0 overflow-hidden border-r border-[var(--border)]",children:[s.jsx(Yw,{}),s.jsx(Qw,{currentView:e}),s.jsx("div",{className:"mt-auto pb-2",children:s.jsx(r5,{})})]})]}),sI=()=>{const[e,t]=P.useState("list");P.useEffect(()=>{const i=l=>{var c;(c=l.detail)!=null&&c.viewMode&&t(l.detail.viewMode)};return window.addEventListener("change-work-order-view",i),()=>window.removeEventListener("change-work-order-view",i)},[]);const r=i=>{t(i),window.dispatchEvent(new CustomEvent("change-work-order-view",{detail:{viewMode:i}}))},[n,a]=P.useState(!1);return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onClick:()=>a(!n),className:"items-start bg-transparent caret-transparent gap-x-1 flex shrink-0 justify-between gap-y-1 text-center p-2 rounded hover:bg-gray-100",children:[s.jsxs("div",{className:"items-center box-border caret-transparent flex h-full text-ellipsis text-nowrap overflow-hidden",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-20.svg",alt:"Icon",className:"text-slate-500 box-border caret-transparent shrink-0 h-5 text-nowrap w-5 mr-1.5"}),s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:s.jsx("p",{className:"box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[20.0004px] text-nowrap font-medium",children:e==="list"?"To Do View":"Calendar View"})})]}),s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-21.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[7px] w-3 transition-transform ${n?"rotate-180":""}`})})]}),n&&s.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-[var(--border)] shadow-lg rounded-md z-50 min-w-[160px] py-1",children:[s.jsx("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 ${e==="list"?"text-blue-500 font-semibold":"text-gray-700"}`,onClick:()=>{r("list"),a(!1)},children:"To Do View"}),s.jsx("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 ${e==="calendar"?"text-blue-500 font-semibold":"text-gray-700"}`,onClick:()=>{r("calendar"),a(!1)},children:"Calendar View"})]})]})};let mu={search:"",assignedTo:"",location:"",locationId:"",priority:"",dueDate:""};const _b=new Set,sg=()=>_b.forEach(e=>e()),ym=()=>{const[e,t]=P.useState(mu);P.useEffect(()=>{const i=()=>t({...mu});return _b.add(i),()=>{_b.delete(i)}},[]);const r=P.useCallback(i=>{mu={...mu,search:i},sg()},[]),n=P.useCallback((i,l)=>{mu={...mu,[i]:l},sg()},[]),a=P.useCallback(()=>{mu={search:"",assignedTo:"",location:"",locationId:"",priority:"",dueDate:""},sg()},[]);return{...e,setSearch:r,setFilter:n,clearFilters:a}},oI=()=>{const{search:e,setSearch:t}=ym();return s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 lg:gap-x-4 flex basis-[0%] grow gap-y-4 flex-wrap lg:flex-nowrap",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 lg:gap-x-4 flex shrink-0 gap-y-4",children:[s.jsx("h2",{className:"text-2xl lg:text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-tight lg:leading-[39.9997px]",children:"Work Orders"}),s.jsx("div",{className:"hidden md:block box-border caret-transparent shrink-0 pt-2",children:s.jsx(sI,{})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 lg:gap-x-4 flex basis-[0%] grow justify-end gap-y-4 w-full lg:w-auto",children:[s.jsx("div",{className:"hidden md:flex box-border caret-transparent basis-[0%] grow max-w-[400px]",children:s.jsx("form",{className:"box-border caret-transparent basis-[0%] grow",onSubmit:r=>r.preventDefault(),children:s.jsx("input",{type:"search",placeholder:"Search Work Orders",value:e,onChange:r=>t(r.target.value),className:"bg-gray-50 bg-[url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2711%27%20height=%2712%27%3E%3Cg%20fill=%27none%27%20fill-rule=%27evenodd%27%20stroke=%27%23868686%27%20stroke-width=%271.25%27%20transform=%27translate%281%201.5)] bg-no-repeat box-border caret-transparent shrink-0 leading-5 min-h-10 -outline-offset-2 w-full border border-[var(--border)] bg-[position:10px_50%] pl-[30px] pr-2 py-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid"})})}),s.jsx("div",{className:"relative box-border caret-transparent flex shrink-0",children:s.jsxs("button",{type:"button",className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-3 lg:px-4 rounded-md border-solid hover:bg-accent-hover hover:border-accent-hover",onClick:()=>window.dispatchEvent(new CustomEvent("trigger-new-work-order")),children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-22.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"}),s.jsx("span",{className:"hidden sm:flex box-border caret-transparent shrink-0 text-nowrap",children:"New Work Order"})]})})]})]})},lI=()=>s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 z-10 px-2 lg:px-4 py-2 lg:py-4",children:s.jsx(oI,{})}),cI=()=>{var i;const{assignedTo:e,setFilter:t}=ym(),{allUsers:r}=xs(),[n,a]=P.useState(!1);return s.jsx("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 gap-y-2 relative",children:s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0",children:[s.jsxs("button",{type:"button",onClick:()=>a(!n),className:`items-center bg-transparent caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border ${e?"border-[var(--accent)] bg-[var(--panel-2)]":"border-[var(--border)]"} overflow-hidden px-1 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300`,children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-center px-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-24.svg",alt:"Icon",className:"text-blue-500 text-[8px] box-border caret-transparent shrink-0 h-4 leading-[11.4288px] w-4"})}),s.jsx("div",{title:"Assigned To",className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:e&&((i=r.find(l=>l.id===e))==null?void 0:i.fullName)||"Assigned To"})]}),n&&s.jsxs("div",{className:"absolute top-10 left-0 z-50 omp-panel shadow-none min-w-[150px] py-1",children:[s.jsx("div",{className:"px-3 py-2 hover:bg-[var(--panel-2)] cursor-pointer text-sm",onClick:()=>{t("assignedTo",""),a(!1)},children:"All Users"}),r.map(l=>s.jsxs("div",{className:"px-3 py-2 hover:bg-[var(--panel-2)] cursor-pointer text-sm border-t border-[var(--border)] flex items-center gap-2",onClick:()=>{t("assignedTo",l.id),a(!1)},children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-[var(--accent)]"}),l.fullName]},l.id))]})]})})},uI=()=>s.jsx("div",{className:"box-border caret-transparent shrink-0 mb-4 mx-2 lg:mx-4",children:s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 flex-wrap lg:flex-nowrap gap-2",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow",children:s.jsx(cI,{})})})}),LS="categories_v1",Ob="selected_category_id_v1",og=[{id:"3993435",name:"Annual Service",icon:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23D9F5F1'/%3e%3cpath%20d='M29.552%2010.121a1.21%201.21%200%2000-1.017-.242%209.689%209.689%200%2001-7.532-1.538%201.21%201.21%200%2000-1.38%200%209.688%209.688%200%2001-7.533%201.538%201.21%201.21%200%2000-1.465%201.187v9.021a10.9%2010.9%200%20004.565%208.876l4.42%203.149a1.21%201.21%200%20001.405%200l4.42-3.149A10.9%2010.9%200%200030%2020.087v-9.021a1.21%201.21%200%2000-.448-.945zm-1.974%209.966a8.476%208.476%200%2001-3.548%206.902l-3.718%202.652-3.717-2.652a8.476%208.476%200%2001-3.548-6.902v-7.629a12.11%2012.11%200%20007.265-1.683%2012.11%2012.11%200%20007.266%201.683v7.63zm-5.4-2.773l-3.258%203.27-1.078-1.09a1.216%201.216%200%2000-1.72%201.72l1.938%201.937a1.211%201.211%200%20001.72%200l4.165-4.13a1.216%201.216%200%2000-1.72-1.72l-.048.013z'%20fill='%233FCBBB'/%3e%3c/svg%3e",color:"bg-teal-50",isActive:!0,createdAt:new Date().toISOString(),createdByUserId:"admin-001",updatedAt:new Date().toISOString(),updatedByUserId:"admin-001"},{id:"3399962",name:"Corrective Action",icon:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23FFE4D0'/%3e%3cpath%20d='M29.585%2024.71l-2.42-2.42a1.002%201.002%200%2000-1.42%200l-3.58%203.58a1%201%200%2000-.29.71V29a1%201%200%20001%201h2.42a1.002%201.002%200%2000.71-.29l3.58-3.58a1.002%201.002%200%20000-1.42zM24.875%2028h-1v-1l2.58-2.58%201%201-2.58%202.58zm-6%200h-4a1%201%200%2001-1-1V13a1%201%200%20011-1h5v3a3%203%200%20003%203h3v1a1%201%200%20102%200v-2-.06a1.306%201.306%200%2000-.06-.27v-.09a1.071%201.071%200%2000-.19-.28l-6-6a1.071%201.071%200%2000-.28-.19.323.323%200%2000-.09%200l-.32-.11h-6.06a3%203%200%2000-3%203v14a3%203%200%20003%203h4a1%201%200%20000-2zm3-14.59l2.59%202.59h-1.59a1%201%200%2001-1-1v-1.59zm-5%208.59h6a1%201%200%20000-2h-6a1%201%200%20100%202zm0-4h1a1%201%200%20000-2h-1a1%201%200%20000%202zm2%206h-2a1%201%200%20100%202h2a1%201%200%20000-2z'%20fill='%23FF7439'/%3e%3c/svg%3e",color:"bg-orange-50",isActive:!0,createdAt:new Date().toISOString(),createdByUserId:"admin-001",updatedAt:new Date().toISOString(),updatedByUserId:"admin-001"},{id:"3399963",name:"Damage",icon:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23FFE5DF'/%3e%3cpath%20d='M19.977%2023.34a.904.904%200%20100%201.807.904.904%200%20000-1.807zm9.644%201.329l-7.276-12.653a2.71%202.71%200%2000-4.735%200l-7.23%2012.653a2.712%202.712%200%20002.313%204.094h14.569a2.711%202.711%200%20002.359-4.094zm-1.564%201.807a.902.902%200%2001-.795.461h-14.57a.903.903%200%2001-.794-.46.904.904%200%20010-.905l7.23-12.653a.904.904%200%20011.609%200l7.275%2012.653a.904.904%200%2001.045.922v-.018zm-8.08-10.366a.904.904%200%2000-.903.904v3.615a.904.904%200%20101.807%200v-3.616a.904.904%200%2000-.904-.903z'%20fill='%23FF7C60'/%3e%3c/svg%3e",color:"bg-red-50",isActive:!0,createdAt:new Date().toISOString(),createdByUserId:"admin-001",updatedAt:new Date().toISOString(),updatedByUserId:"admin-001"},{id:"3399964",name:"Electrical",icon:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M32%2064a32%2032%200%201%200%200-64%2032%2032%200%200%200%200%2064Z'%20fill='%23FFF5CC'/%3e%3cpath%20d='M45.36%2026.56a1.6%201.6%200%200%200-1.39-.96h-7.32l2.03-7.58A1.6%201.6%200%200%200%2037.14%2016h-11.2a1.6%201.6%200%200%200-1.6%201.18l-4.28%2016a1.6%201.6%200%200%200%201.55%202.02h6.19l-2.9%2010.78a1.6%201.6%200%200%200%202.74%201.49l17.44-19.2a1.6%201.6%200%200%200%20.28-1.71ZM29.7%2040.44l1.71-6.4a1.6%201.6%200%200%200-1.53-2.01h-6.14l3.42-12.83h7.89L33%2026.78a1.6%201.6%200%200%200%201.6%202.02h5.71L29.7%2040.44Z'%20fill='%23FC0'/%3e%3c/svg%3e",color:"bg-yellow-50",isActive:!0,createdAt:new Date().toISOString(),createdByUserId:"admin-001",updatedAt:new Date().toISOString(),updatedByUserId:"admin-001"},{id:"3399966",name:"Mechanical",icon:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23FCEBFF'/%3e%3cpath%20d='M29.667%2023.55l-4.51-4.501c.093-.46.14-.928.139-1.397a7.652%207.652%200%2000-10.887-6.936.998.998%200%2000-.29%201.617l4.341%204.33-1.796%201.797-4.33-4.34a.998.998%200%2000-.88-.27%201%201%200%2000-.738.559%207.653%207.653%200%20006.986%2010.887c.469.001.937-.046%201.397-.14l4.5%204.51a.997.997%200%20001.417%200%20.996.996%200%20000-1.416l-4.89-4.89a.997.997%200%2000-.947-.26%205.865%205.865%200%2001-1.477.2%205.657%205.657%200%2001-5.708-5.648%205.988%205.988%200%2001.08-.998l3.911%203.922a1%201%200%20001.417%200l3.174-3.204a.998.998%200%20000-1.387l-3.882-3.911c.33-.054.664-.081.998-.08a5.658%205.658%200%20015.648%205.658c-.004.499-.07.995-.2%201.477a.998.998%200%2000.26.948l4.89%204.89a1.002%201.002%200%20001.416-1.418h-.04z'%20fill='%23EA7BFF'/%3e%3c/svg%3e",color:"bg-purple-50",isActive:!0,createdAt:new Date().toISOString(),createdByUserId:"admin-001",updatedAt:new Date().toISOString(),updatedByUserId:"admin-001"},{id:"3399970",name:"Safety",icon:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23D9F5F1'/%3e%3cpath%20d='M29.552%2010.121a1.21%201.21%200%2000-1.017-.242%209.689%209.689%200%2001-7.532-1.538%201.21%201.21%200%2000-1.38%200%209.688%209.688%200%2001-7.533%201.538%201.21%201.21%200%2000-1.465%201.187v9.021a10.9%2010.9%200%20004.565%208.876l4.42%203.149a1.21%201.21%200%20001.405%200l4.42-3.149A10.9%2010.9%200%200030%2020.087v-9.021a1.21%201.21%200%2000-.448-.945zm-1.974%209.966a8.476%208.476%200%2001-3.548%206.902l-3.718%202.652-3.717-2.652a8.476%208.476%200%2001-3.548-6.902v-7.629a12.11%2012.11%200%20007.265-1.683%2012.11%2012.11%200%20007.266%201.683v7.63zm-5.4-2.773l-3.258%203.27-1.078-1.09a1.216%201.216%200%2000-1.72%201.72l1.938%201.937a1.211%201.211%200%20001.72%200l4.165-4.13a1.216%201.216%200%2000-1.72-1.72l-.048.013z'%20fill='%233FCBBB'/%3e%3c/svg%3e",color:"bg-teal-50",isActive:!0,createdAt:new Date().toISOString(),createdByUserId:"admin-001",updatedAt:new Date().toISOString(),updatedByUserId:"admin-001"}];let Hr=[],Bs=null;const Ib=new Set,n5=localStorage.getItem(LS);if(n5)try{const e=JSON.parse(n5);Array.isArray(e)&&e.length>0?Hr=e:Hr=og}catch(e){console.error("Failed to parse saved categories",e),Hr=og}else Hr=og;const lg=localStorage.getItem(Ob);var SS;lg&&Hr.find(e=>e.id===lg)?Bs=lg:Bs=((SS=Hr[0])==null?void 0:SS.id)||null;const Nd=()=>{Ib.forEach(e=>e()),localStorage.setItem(LS,JSON.stringify(Hr)),Bs?localStorage.setItem(Ob,Bs):localStorage.removeItem(Ob)},wm=()=>{const[e,t]=P.useState(Hr),[r,n]=P.useState(Bs);P.useEffect(()=>{const p=()=>{t([...Hr]),n(Bs)};return Ib.add(p),()=>{Ib.delete(p)}},[]);const a=P.useCallback((p,b="admin-001")=>{if(Hr.some(k=>k.name.toLowerCase()===p.name.toLowerCase()&&k.isActive))throw new Error("A category with this name already exists.");const w=new Date().toISOString(),N={id:crypto.randomUUID(),name:p.name,icon:p.icon,color:p.color,description:p.description,isActive:!0,createdAt:w,createdByUserId:b,updatedAt:w,updatedByUserId:b};return Hr=[...Hr,N],Nd(),N},[]),i=P.useCallback((p,b,w="admin-001")=>{if(b.name&&Hr.find(k=>k.name.toLowerCase()===b.name.toLowerCase()&&k.id!==p&&k.isActive))throw new Error("A category with this name already exists.");Hr=Hr.map(N=>N.id===p?{...N,...b,updatedAt:new Date().toISOString(),updatedByUserId:w}:N),Nd()},[]),l=P.useCallback((p,b="admin-001")=>{var w;Hr=Hr.map(N=>N.id===p?{...N,isActive:!1,updatedAt:new Date().toISOString(),updatedByUserId:b}:N),Bs===p&&(Bs=((w=Hr.filter(k=>k.isActive)[0])==null?void 0:w.id)||null),Nd()},[]),c=P.useCallback((p,b="admin-001")=>{Hr=Hr.map(w=>w.id===p?{...w,isActive:!0,updatedAt:new Date().toISOString(),updatedByUserId:b}:w),Nd()},[]),d=P.useCallback(p=>{var b;Hr=Hr.filter(w=>w.id!==p),Bs===p&&(Bs=((b=Hr[0])==null?void 0:b.id)||null),Nd()},[]),f=P.useCallback(p=>{Bs=p,Nd()},[]),h=P.useCallback(p=>Hr.find(b=>b.id===p),[]),m=P.useMemo(()=>e.filter(p=>p.isActive).sort((p,b)=>p.name.localeCompare(b.name)),[e]),g=P.useMemo(()=>e.filter(p=>!p.isActive).sort((p,b)=>p.name.localeCompare(b.name)),[e]);return{categories:e,selectedCategoryId:r,activeCategories:m,archivedCategories:g,createCategory:a,updateCategory:i,archiveCategory:l,restoreCategory:c,deleteCategoryHard:d,selectCategory:f,getCategoryById:h}},DS="vendors_v1",Eb="selected_vendor_id_v1",cg=[];let mn=[],Us=null;const Lb=new Set,a5=localStorage.getItem(DS);if(a5)try{const e=JSON.parse(a5);Array.isArray(e)?mn=e:mn=cg}catch(e){console.error("Failed to parse saved vendors",e),mn=cg}else mn=cg;const ug=localStorage.getItem(Eb);var AS;ug&&mn.find(e=>e.id===ug)?Us=ug:Us=((AS=mn[0])==null?void 0:AS.id)||null;const Ff=()=>{Lb.forEach(e=>e()),localStorage.setItem(DS,JSON.stringify(mn)),Us?localStorage.setItem(Eb,Us):localStorage.removeItem(Eb)},Z1=()=>{const[e,t]=P.useState(mn),[r,n]=P.useState(Us);P.useEffect(()=>{const g=()=>{t([...mn]),n(Us)};return Lb.add(g),()=>{Lb.delete(g)}},[]);const a=P.useCallback((g,p="admin-001")=>{if(mn.some(N=>N.name.toLowerCase()===g.name.toLowerCase()&&N.isActive))throw new Error("A vendor with this name already exists.");const b=new Date().toISOString(),w={id:crypto.randomUUID(),name:g.name,trade:g.trade,contactName:g.contactName,phone:g.phone,email:g.email,address:g.address,notes:g.notes,isActive:!0,createdAt:b,createdByUserId:p,updatedAt:b,updatedByUserId:p};return mn=[...mn,w],Ff(),w},[]),i=P.useCallback((g,p,b="admin-001")=>{if(p.name&&mn.find(N=>N.name.toLowerCase()===p.name.toLowerCase()&&N.id!==g&&N.isActive))throw new Error("A vendor with this name already exists.");mn=mn.map(w=>w.id===g?{...w,...p,updatedAt:new Date().toISOString(),updatedByUserId:b}:w),Ff()},[]),l=P.useCallback((g,p="admin-001")=>{var b;mn=mn.map(w=>w.id===g?{...w,isActive:!1,updatedAt:new Date().toISOString(),updatedByUserId:p}:w),Us===g&&(Us=((b=mn.filter(N=>N.isActive)[0])==null?void 0:b.id)||null),Ff()},[]),c=P.useCallback(g=>{var p;mn=mn.filter(b=>b.id!==g),Us===g&&(Us=((p=mn[0])==null?void 0:p.id)||null),Ff()},[]),d=P.useCallback(g=>{Us=g,Ff()},[]),f=P.useCallback(g=>mn.find(p=>p.id===g),[]),h=P.useMemo(()=>e.filter(g=>g.isActive).sort((g,p)=>g.name.localeCompare(p.name)),[e]),m=P.useMemo(()=>e.filter(g=>!g.isActive).sort((g,p)=>g.name.localeCompare(p.name)),[e]);return{vendors:e,selectedVendorId:r,activeVendors:h,archivedVendors:m,createVendor:a,updateVendor:i,archiveVendor:l,deleteVendorHard:c,selectVendor:d,getVendorById:f}},i5="assets_store",s5=1;let Ip;const Q1={load:(e=[])=>{try{const t=localStorage.getItem(i5);if(!t)return e;const r=JSON.parse(t);if(Array.isArray(r))return r;if(r&&typeof r=="object"){const n=r;return!n.version||n.version!==s5,n.data||e}return e}catch(t){return console.warn("assetPersistence.load: failed to parse, using seed",t),e}},save:e=>{const t={version:s5,data:e};try{localStorage.setItem(i5,JSON.stringify(t))}catch(r){console.warn("assetPersistence.save: failed to write",r)}},saveDebounced:(e,t=250)=>{Ip&&window.clearTimeout(Ip),Ip=window.setTimeout(()=>{Q1.save(e),Ip=void 0},t)}},o5="meters_store_v1",l5=()=>({meters:[],readings:[]});let Ep;const J1={load:()=>{try{const e=localStorage.getItem(o5);if(!e)return l5();const t=JSON.parse(e);if(Array.isArray(t))return{meters:t,readings:[]};const r=Array.isArray(t==null?void 0:t.meters)?t.meters:[],n=Array.isArray(t==null?void 0:t.readings)?t.readings:[];return{meters:r,readings:n}}catch(e){return console.warn("meterPersistence.load failed, using empty",e),l5()}},save:e=>{try{localStorage.setItem(o5,JSON.stringify(e))}catch(t){console.warn("meterPersistence.save failed",t)}},saveDebounced:(e,t=250)=>{Ep&&window.clearTimeout(Ep),Ep=window.setTimeout(()=>{J1.save(e),Ep=void 0},t)}},dI=()=>{const e=new Date,t="seed-meter-generator-1",r=[{id:t,name:"Generator Hours",unit:"hrs",description:"Main backup generator runtime",assetId:"2",locationName:"Generator Room",active:!0,lastReading:40,lastReadingAt:e.toISOString(),createdAt:new Date(e.getTime()-95*24*60*60*1e3).toISOString(),updatedAt:e.toISOString()}],n=[],a=40,i=90,l=e.getTime()-i*24*60*60*1e3;let c=0;for(let d=0;d<60;d++){const f=new Date(l+d*(i/60)*24*60*60*1e3),h=Math.random()*1.35;if(c=Math.min(a,c+h),n.push({id:`seed-reading-${d}`,meterId:t,value:Number(c.toFixed(2)),unit:"hrs",source:"workorder",recordedAt:f.toISOString(),createdAt:f.toISOString()}),c>=a)break}return c<a&&n.push({id:"seed-reading-final",meterId:t,value:40,unit:"hrs",source:"manual",recordedAt:e.toISOString(),createdAt:e.toISOString()}),{meters:r,readings:n.reverse()}};let{meters:nn,readings:Un}=J1.load();if(nn.length===0&&Un.length===0){const e=dI();nn=e.meters,Un=e.readings}const Db=new Set,TS=()=>{Db.forEach(e=>e()),J1.saveDebounced({meters:nn,readings:Un})},gu=TS,fI=e=>{let t=!1;nn=nn.map(r=>r.assetId===e?(t=!0,{...r,assetId:void 0,updatedAt:new Date().toISOString()}):r),t&&gu()},MS=(e,t)=>!e||!t?!1:Un.some(r=>r.meterId===e&&r.workOrderId===t),Ch=()=>{const[e,t]=P.useState(nn),[r,n]=P.useState(Un);P.useEffect(()=>{const g=()=>{t([...nn]),n([...Un])};return Db.add(g),()=>Db.delete(g)},[]);const a=P.useCallback(g=>{const p=new Date().toISOString(),b={id:crypto.randomUUID(),active:!0,...g,createdAt:p,updatedAt:p};return nn=[...nn,b],gu(),b},[]),i=P.useCallback((g,p)=>{const b=new Date().toISOString();nn=nn.map(w=>w.id===g?{...w,...p,updatedAt:b}:w),gu()},[]),l=P.useCallback(g=>{nn=nn.filter(p=>p.id!==g),gu()},[]),c=P.useCallback((g,p)=>{const b=new Date().toISOString();let w;if(Un=Un.map(N=>N.id===g?(w=N.meterId,{...N,...p}):N),w){const N=Un.filter(k=>k.meterId===w).sort((k,L)=>new Date(L.recordedAt||L.createdAt).getTime()-new Date(k.recordedAt||k.createdAt).getTime());if(N.length>0){const k=N[0];nn=nn.map(L=>L.id===w?{...L,lastReading:k.value,lastReadingAt:k.recordedAt||k.createdAt,updatedAt:b}:L)}}gu()},[]),d=P.useCallback(g=>{const p=new Date().toISOString();let b;const w=Un.find(N=>N.id===g);if(w){if(b=w.meterId,Un=Un.filter(N=>N.id!==g),b){const N=Un.filter(k=>k.meterId===b).sort((k,L)=>new Date(L.recordedAt||L.createdAt).getTime()-new Date(k.recordedAt||k.createdAt).getTime());if(N.length>0){const k=N[0];nn=nn.map(L=>L.id===b?{...L,lastReading:k.value,lastReadingAt:k.recordedAt||k.createdAt,updatedAt:p}:L)}else nn=nn.map(k=>k.id===b?{...k,lastReading:void 0,lastReadingAt:void 0,updatedAt:p}:k)}gu()}},[]),f=P.useCallback(g=>{if(g.workOrderId&&MS(g.meterId,g.workOrderId))return Un.find(N=>N.meterId===g.meterId&&N.workOrderId===g.workOrderId);const p=new Date().toISOString(),b={id:crypto.randomUUID(),...g,createdAt:p};Un=[b,...Un];const w=nn.find(N=>N.id===g.meterId);return w&&(w.lastReading=g.value,w.lastReadingAt=g.recordedAt||p,w.updatedAt=p),gu(),b},[]),h=P.useCallback(g=>nn.find(p=>p.id===g),[]),m=P.useCallback(g=>Un.filter(p=>p.meterId===g).sort((p,b)=>(b.recordedAt||b.createdAt||"").localeCompare(p.recordedAt||p.createdAt||"")),[]);return{meters:e,readings:r,addMeter:a,updateMeter:i,deleteMeter:l,addReading:f,updateReading:c,deleteReading:d,getMeterById:h,getReadingsByMeter:m}},hI={addReadingFromWO:(e,t,r,n,a)=>{if(!e||typeof t!="number"||isNaN(t)||n&&MS(e,n))return null;const i=new Date().toISOString(),l={id:crypto.randomUUID(),meterId:e,value:t,unit:r,workOrderId:n,recordedByUserId:a,source:"work_order",recordedAt:i,createdAt:i};Un=[l,...Un];const c=nn.find(d=>d.id===e);return c&&(c.lastReading=t,c.lastReadingAt=i,c.updatedAt=i),TS(),l},getMeterSync:e=>nn.find(t=>t.id===e)},pI=[{id:"1",assetTag:"ASSET-001",name:"HVAC Unit 01",description:"Main floor HVAC unit",status:"Active",criticality:"High",locationName:"Main Building",manufacturer:"Carrier",model:"X-400",serialNumber:"SN-12345",installDate:"2023-01-15",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),attachments:[],meters:[]},{id:"2",assetTag:"ASSET-002",name:"Backup Generator",description:"Emergency power backup",status:"Active",criticality:"High",locationName:"Generator Room",manufacturer:"Cummins",model:"DG-100",serialNumber:"SN-98765",installDate:"2022-06-20",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),attachments:[],meters:[]},{id:"3",assetTag:"ASSET-003",name:"Elevator A",description:"Main passenger elevator",status:"Out of Service",criticality:"Medium",locationName:"Lobby",manufacturer:"Otis",model:"GEN2",serialNumber:"SN-55555",installDate:"2021-03-10",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),attachments:[],meters:[]}];let jo=Q1.load(pI);const Tb=new Set,dg=()=>{Tb.forEach(e=>e()),Q1.saveDebounced(jo)},Ro=()=>{const[e,t]=P.useState(jo);P.useEffect(()=>{const l=()=>t([...jo]);return Tb.add(l),()=>{Tb.delete(l)}},[]);const r=P.useCallback(l=>{const c={...l,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return jo=[...jo,c],dg(),c},[]),n=P.useCallback((l,c)=>{jo=jo.map(d=>d.id===l?{...d,...c,updatedAt:new Date().toISOString()}:d),dg()},[]),a=P.useCallback(l=>{try{fI(l)}catch{}jo=jo.filter(c=>c.id!==l),dg()},[]),i=P.useCallback(l=>jo.find(c=>c.id===l),[]);return{assets:e,addAsset:r,updateAsset:n,deleteAsset:a,getAssetById:i}},RS="locations_v1",c5=[{id:"2687779",name:"General",description:"This is the default location. When you create assets without assigning a location they will be placed here.",address:"",parentLocationId:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3368477",name:"General Storage",description:"",address:"",parentLocationId:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2698783",name:"Slovakia",description:"",address:"Airbase CSA 1, Sliac, 96231, Slovakia",parentLocationId:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2698784",name:"Main Building",description:"Main building complex",address:"",parentLocationId:"2698783",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2698785",name:"Generator Room",description:"Emergency power equipment room",address:"",parentLocationId:"2698783",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2698786",name:"Lobby",description:"Main entrance lobby",address:"",parentLocationId:"2698783",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];let ta=[];const Mb=new Set,u5=localStorage.getItem(RS);if(u5)try{ta=JSON.parse(u5)}catch{ta=c5}else ta=c5;const fg=()=>{Mb.forEach(e=>e()),localStorage.setItem(RS,JSON.stringify(ta))},FS=e=>{const t=[],r=[e];for(;r.length>0;){const n=r.shift(),a=ta.filter(i=>i.parentLocationId===n);for(const i of a)t.push(i.id),r.push(i.id)}return t},e2=e=>ta.find(t=>t.id===e),Eu=()=>{const[e,t]=P.useState(ta);P.useEffect(()=>{const d=()=>t([...ta]);return Mb.add(d),()=>{Mb.delete(d)}},[]);const r=P.useCallback(d=>{const f=new Date().toISOString(),h={...d,id:crypto.randomUUID(),createdAt:f,updatedAt:f};return ta=[...ta,h],fg(),h},[]),n=P.useCallback((d,f)=>{ta=ta.map(h=>h.id===d?{...h,...f,updatedAt:new Date().toISOString()}:h),fg()},[]),a=P.useCallback(d=>{const f=ta.filter(h=>h.parentLocationId===d);return f.length>0?{ok:!1,reason:`Cannot delete: ${f.length} sub-location(s) exist. Reassign or delete them first.`}:(ta=ta.filter(h=>h.id!==d),fg(),{ok:!0})},[]),i=P.useCallback(d=>ta.find(f=>f.id===d),[]),l=P.useCallback(d=>ta.filter(f=>f.parentLocationId===d),[]),c=P.useCallback(()=>ta.filter(d=>!d.parentLocationId),[]);return{locations:e,addLocation:r,updateLocation:n,deleteLocation:a,getLocationById:i,getChildLocations:l,getRootLocations:c}},_h=({value:e,onChange:t,disabled:r=!1,label:n,className:a=""})=>{const{locations:i}=Eu(),[l,c]=P.useState(!1),[d,f]=P.useState(""),h=P.useRef(null);P.useEffect(()=>{if(!l)return;const w=N=>{h.current&&!h.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[l]);const m=P.useMemo(()=>{const w=[],N=(k,L)=>{const E=i.filter(I=>k===null?!I.parentLocationId:I.parentLocationId===k);for(const I of E){const M=i.filter(F=>F.parentLocationId===I.id);w.push({...I,depth:L,childCount:M.length}),N(I.id,L+1)}};return N(null,0),w},[i]),g=P.useMemo(()=>{if(!d.trim())return m;const w=d.toLowerCase();return m.filter(N=>N.name.toLowerCase().includes(w))},[m,d]),p=i.find(w=>w.id===e),b=(p==null?void 0:p.name)||(e?"Unknown":"No Location");return s.jsxs("div",{ref:h,className:`relative ${a}`,children:[n&&s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:n}),s.jsxs("button",{type:"button",disabled:r,onClick:()=>c(w=>!w),className:`w-full border rounded px-2 py-1 text-sm text-left flex items-center justify-between gap-1 ${r?"bg-gray-100 text-gray-400 border-[var(--border)] cursor-not-allowed":"border-[var(--border)] hover:border-blue-400 cursor-pointer"}`,children:[s.jsx("span",{className:"truncate",children:b}),s.jsx("svg",{className:`w-3 h-3 shrink-0 transition-transform ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white border border-[var(--border)] rounded shadow-lg max-h-64 overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-2 border-b border-[var(--border)]",children:s.jsx("input",{type:"text",placeholder:"Search locations...",value:d,onChange:w=>f(w.target.value),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",autoFocus:!0})}),s.jsxs("div",{className:"overflow-y-auto flex-1",children:[s.jsx("button",{type:"button",onClick:()=>{t(null,""),c(!1),f("")},className:`w-full text-left px-3 py-2 text-sm hover:bg-blue-50 ${e?"text-gray-500 italic":"bg-blue-50 text-blue-600 font-medium"}`,children:"No Location"}),g.map(w=>s.jsxs("button",{type:"button",onClick:()=>{t(w.id,w.name),c(!1),f("")},className:`w-full text-left px-3 py-2 text-sm hover:bg-blue-50 flex items-center gap-1 ${e===w.id?"bg-blue-50 text-blue-600 font-medium":""}`,style:{paddingLeft:`${12+w.depth*20}px`},children:[w.depth>0&&s.jsx("span",{className:"text-gray-300 text-xs mr-1",children:""}),s.jsx("span",{className:"truncate",children:w.name}),w.childCount>0&&s.jsxs("span",{className:"text-[10px] text-gray-400 ml-auto shrink-0",children:[w.childCount," sub"]})]},w.id)),g.length===0&&s.jsx("div",{className:"px-3 py-4 text-sm text-gray-400 text-center italic",children:"No locations found"})]})]})]})},Oh=e=>e.inventory.reduce((t,r)=>t+r.quantity,0),g0=e=>e.inventory.some(t=>t.quantity<=t.minQuantity),zS="parts_v1",d5=[{id:"11131762",name:"CANIMEX INC Counterbalance Assembly",description:"Counterbalance spring assembly for overhead sliding door",partType:"Spare Part",unit:"unit",minStock:1,inventory:[{locationId:"3368477",locationName:"General Storage",quantity:1,minQuantity:1}],compatibleAssetIds:[],createdAt:new Date("2025-01-08").toISOString(),updatedAt:new Date("2025-09-12").toISOString()},{id:"13650391",name:"Filter, HVAC",description:"Replacement HVAC air filter",partType:"Consumable",unit:"unit",minStock:2,inventory:[{locationId:"3368477",locationName:"General Storage",quantity:1,minQuantity:2}],compatibleAssetIds:["1"],imageUrl:"https://app.getmaintainx.com/img/9f9fdbd5-f2d1-4812-a1dc-3ef3a1a82e64_75198044-FBEF-4161-90A6-76667875E21D.HEIC?w=96&h=96&rmode=crop",createdAt:new Date("2025-01-08").toISOString(),updatedAt:new Date("2025-09-12").toISOString()},{id:"11131767",name:"FSTRONIC IRC-F1-4A Model 074 Control Panel",description:"Replacement control panel for horizontal sliding door",partType:"Spare Part",unit:"unit",minStock:1,inventory:[{locationId:"3368477",locationName:"General Storage",quantity:1,minQuantity:1}],compatibleAssetIds:[],createdAt:new Date("2025-01-08").toISOString(),updatedAt:new Date("2025-09-12").toISOString()},{id:"10078392",name:"Generator Annual Service Kit",description:"Complete annual service kit for generator",partType:"Consumable",unit:"unit",minStock:1,inventory:[{locationId:"3368477",locationName:"General Storage",quantity:1,minQuantity:1}],compatibleAssetIds:["2"],createdAt:new Date("2025-01-08").toISOString(),updatedAt:new Date("2025-09-12").toISOString()},{id:"11131761",name:"GfA ELEKTROMATEN TS 970 Motor",description:"Replacement motor for overhead sliding door",partType:"Spare Part",unit:"unit",minStock:1,inventory:[{locationId:"3368477",locationName:"General Storage",quantity:1,minQuantity:1}],compatibleAssetIds:[],createdAt:new Date("2025-01-08").toISOString(),updatedAt:new Date("2025-09-12").toISOString()},{id:"12901637",name:"PSN50W036T2",description:"General purpose power supply unit",partType:"Spare Part",unit:"unit",minStock:1,inventory:[{locationId:"3368477",locationName:"General Storage",quantity:3,minQuantity:1}],compatibleAssetIds:[],createdAt:new Date("2025-01-08").toISOString(),updatedAt:new Date("2025-09-12").toISOString()}];let Er=[];const Rb=new Set,f5=localStorage.getItem(zS);if(f5)try{Er=JSON.parse(f5)}catch{Er=d5}else Er=d5;const xu=()=>{Rb.forEach(e=>e()),localStorage.setItem(zS,JSON.stringify(Er))},mI=e=>{for(const t of e){if(t.consumed)continue;const r=Er.find(a=>a.id===t.partId);if(!r)continue;const n=r.inventory.find(a=>a.locationId===t.locationId);if(!n)return{ok:!1,reason:`Part "${t.partName}" is not stocked at location "${t.locationName}".`};if(n.quantity<t.quantityUsed)return{ok:!1,reason:`Insufficient stock: "${t.partName}" at ${t.locationName} has ${n.quantity} ${r.unit||"unit(s)"} but ${t.quantityUsed} required.`}}return Er=Er.map(t=>{const r=e.filter(a=>!a.consumed&&a.partId===t.id);if(r.length===0)return t;const n=t.inventory.map(a=>{const i=r.find(l=>l.locationId===a.locationId);return i?{...a,quantity:Math.max(0,a.quantity-i.quantityUsed)}:a});return{...t,inventory:n,updatedAt:new Date().toISOString()}}),xu(),{ok:!0}},Ih=()=>{const[e,t]=P.useState(Er);P.useEffect(()=>{const g=()=>t([...Er]);return Rb.add(g),()=>{Rb.delete(g)}},[]);const r=P.useCallback(g=>{const p=new Date().toISOString(),b={...g,id:crypto.randomUUID(),createdAt:p,updatedAt:p};return Er=[...Er,b],xu(),b},[]),n=P.useCallback((g,p)=>{Er=Er.map(b=>b.id===g?{...b,...p,updatedAt:new Date().toISOString()}:b),xu()},[]),a=P.useCallback(g=>(Er=Er.filter(p=>p.id!==g),xu(),{ok:!0}),[]),i=P.useCallback(g=>Er.find(p=>p.id===g),[]),l=P.useCallback((g,p)=>{Er=Er.map(b=>{if(b.id!==g)return b;const w=b.inventory.findIndex(k=>k.locationId===p.locationId),N=w>=0?b.inventory.map((k,L)=>L===w?p:k):[...b.inventory,p];return{...b,inventory:N,updatedAt:new Date().toISOString()}}),xu()},[]),c=P.useCallback((g,p)=>{const b=Er.find(N=>N.id===g);if(!b)return{ok:!1,reason:"Part not found."};const w=b.inventory.find(N=>N.locationId===p);return w&&w.quantity>0?{ok:!1,reason:`Cannot remove location: ${w.quantity} unit(s) still in stock. Set quantity to 0 first.`}:(Er=Er.map(N=>N.id!==g?N:{...N,inventory:N.inventory.filter(k=>k.locationId!==p),updatedAt:new Date().toISOString()}),xu(),{ok:!0})},[]),d=P.useCallback((g,p,b,w)=>{Er=Er.map(N=>{if(N.id!==g)return N;const L=N.inventory.find(E=>E.locationId===p)?N.inventory.map(E=>E.locationId===p?{...E,quantity:E.quantity+w}:E):[...N.inventory,{locationId:p,locationName:b,quantity:w,minQuantity:N.minStock}];return{...N,inventory:L,updatedAt:new Date().toISOString()}}),xu()},[]),f=P.useCallback(()=>Er.filter(g=>g.inventory.some(p=>p.quantity<=p.minQuantity)),[]),h=P.useCallback(g=>Er.filter(p=>p.compatibleAssetIds.includes(g)),[]),m=P.useCallback(g=>Er.filter(p=>p.inventory.some(b=>b.locationId===g)),[]);return{parts:e,addPart:r,updatePart:n,deletePart:a,getPartById:i,setInventoryAtLocation:l,removeInventoryAtLocation:c,restock:d,getPartsNeedingRestock:f,getPartsByAsset:h,getPartsByLocation:m,getTotalStock:Oh}},vI=({value:e,onChange:t,onCancel:r,onCreate:n})=>{var R,U,B,Y;const{activeCategories:a}=wm(),{activeVendors:i}=Z1(),{assets:l}=Ro(),{parts:c}=Ih(),[d,f]=P.useState(""),[h,m]=P.useState(""),[g,p]=P.useState(1),[b,w]=P.useState(null),N=c.find(C=>C.id===d),k=N?N.inventory:[],L=()=>{if(!d){w("Select a part.");return}if(!h){w("Select a location.");return}if(g<=0){w("Quantity must be > 0.");return}const C=c.find(W=>W.id===d);if(!C)return;const T=C.inventory.find(W=>W.locationId===h);if(!T){w("Part not stocked at this location.");return}if(T.quantity<g){w(`Only ${T.quantity} ${C.unit||"unit(s)"} available at this location.`);return}const H={partId:C.id,partName:C.name,locationId:T.locationId,locationName:T.locationName,quantityUsed:g,consumed:!1},V=e.parts||[];if(V.some(W=>W.partId===H.partId&&W.locationId===H.locationId)){w("This part from this location is already added.");return}t({parts:[...V,H]}),f(""),m(""),p(1),w(null)},E=(C,T)=>{t({parts:(e.parts||[]).filter(H=>!(H.partId===C&&H.locationId===T))})},I=!!e.assetId,M=P.useMemo(()=>!!(e.title&&e.title.trim().length>0&&e.dueDate&&e.workType&&e.priority&&e.status),[e]),F=(C,T)=>t({[C]:T});return s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-x-hidden overflow-y-auto w-full",children:s.jsxs("div",{className:"relative box-border caret-transparent flex flex-col grow w-full",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("header",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] box-border caret-transparent gap-x-2 flex flex-col shrink-0 gap-y-2 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap justify-between gap-y-2 px-4",children:[s.jsxs("div",{className:"box-border caret-transparent",children:[s.jsx("h3",{className:"text-[20.0004px] font-semibold box-border caret-transparent tracking-[-0.2px] leading-[28.0006px]",children:"New Work Order"}),s.jsx("div",{className:"text-gray-600 text-[11.9994px]",children:"Create a new work order inline"})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsx("button",{type:"button",onClick:r,className:"items-center bg-white caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-3 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:"Cancel"}),s.jsx("button",{type:"button",disabled:!M,onClick:()=>n(e),className:`relative font-bold items-center caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] text-center text-nowrap border px-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid transition-colors ${M?"text-white bg-accent border-accent hover:bg-accent-hover hover:border-accent-hover cursor-pointer":"text-gray-400 bg-gray-200 border-[var(--border)] cursor-not-allowed"}`,children:"Create"})]})]})})}),s.jsx("div",{className:"relative box-border caret-transparent flex flex-col grow scroll-smooth overflow-auto scroll-pt-4",children:s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-6",children:s.jsx("div",{className:"box-border caret-transparent flex shrink-0 justify-start max-w-[816px] mr-4 mt-3",children:s.jsxs("div",{className:"box-border caret-transparent basis-[0%] grow ml-6 my-3",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Title"})}),s.jsx("input",{className:`w-full border rounded p-2 text-sm ${(R=e.title)!=null&&R.trim()?"border-[var(--border)]":"border-red-300"}`,placeholder:"Enter a descriptive title",value:e.title,onChange:C=>F("title",C.target.value)}),s.jsx("div",{className:"box-border caret-transparent shrink-0 mt-6 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Description"})}),s.jsx("textarea",{className:"w-full border border-[var(--border)] rounded p-2 text-sm min-h-[100px]",placeholder:"Describe the task...",value:e.description,onChange:C=>F("description",C.target.value)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Work Type"})}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:e.workType,onChange:C=>F("workType",C.target.value),children:[s.jsx("option",{value:"Preventive",children:"Preventive"}),s.jsx("option",{value:"Corrective",children:"Corrective"}),s.jsx("option",{value:"Inspection",children:"Inspection"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Priority"})}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:e.priority,onChange:C=>F("priority",C.target.value),children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Start Date"})}),s.jsx("input",{type:"date",className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:e.startDate||"",onChange:C=>F("startDate",C.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Due Date"})}),s.jsx("input",{type:"date",className:`w-full border rounded p-2 text-sm ${e.dueDate?"border-[var(--border)]":"border-red-300"}`,value:e.dueDate,onChange:C=>F("dueDate",C.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Status"})}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:e.status,onChange:C=>F("status",C.target.value),children:[s.jsx("option",{value:"Open",children:"Open"}),s.jsx("option",{value:"On Hold",children:"On Hold"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Done",children:"Done"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Assigned To"})}),s.jsx("input",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:e.assignedTo,onChange:C=>F("assignedTo",C.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Asset"})}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:e.assetId||"",onChange:C=>{const T=l.find(H=>H.id===C.target.value);if(T){const H=T.locationId?e2(T.locationId):void 0;t({assetId:T.id,asset:T.name,locationId:T.locationId||null,location:(H==null?void 0:H.name)||T.locationName||""})}else t({assetId:void 0,asset:""})},children:[s.jsx("option",{value:"",children:"No Asset"}),l.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0 pb-2",children:[s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Location"}),I&&s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"(synced from asset)"})]}),s.jsx(_h,{value:e.locationId||null,disabled:I,onChange:(C,T)=>{t({locationId:C,location:T})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Category"})}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:e.categoryId||"",onChange:C=>F("categoryId",C.target.value||null),children:[s.jsx("option",{value:"",children:"No Category"}),a.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0 pb-2",children:[s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Vendor"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(optional - for external contractor work)"})]}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:e.vendorId||"",onChange:C=>F("vendorId",C.target.value||null),children:[s.jsx("option",{value:"",children:"Internal Work (No Vendor)"}),i.map(C=>s.jsxs("option",{value:C.id,children:[C.name,C.trade?` - ${C.trade}`:""]},C.id))]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between pb-2",children:[s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Parts"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Inventory will be deducted on completion"})]}),(e.parts||[]).length>0&&s.jsx("div",{className:"border border-[var(--border)] rounded overflow-hidden mb-3",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-[var(--panel-2)] border-b border-[var(--border)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Part"}),s.jsx("th",{className:"text-left px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Location"}),s.jsx("th",{className:"text-center px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Qty"}),s.jsx("th",{className:"px-2 py-1"})]})}),s.jsx("tbody",{children:(e.parts||[]).map(C=>{const T=c.find(W=>W.id===C.partId),H=T==null?void 0:T.inventory.find(W=>W.locationId===C.locationId),V=H?H.quantity<C.quantityUsed:!1;return s.jsxs("tr",{className:`border-b border-[var(--border)] last:border-0 ${V?"bg-red-50":""}`,children:[s.jsx("td",{className:"px-2 py-1.5 font-medium",children:C.partName}),s.jsx("td",{className:"px-2 py-1.5 text-gray-500",children:C.locationName}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:V?s.jsxs("span",{className:"text-red-600 font-bold",children:[C.quantityUsed," "]}):C.quantityUsed}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:s.jsx("button",{type:"button",onClick:()=>E(C.partId,C.locationId),className:"text-red-400 hover:text-red-600 text-xs",children:""})})]},`${C.partId}-${C.locationId}`)})})]})}),s.jsxs("div",{className:"border border-dashed border-[var(--border)] rounded p-3 space-y-2",children:[s.jsx("div",{className:"text-[10px] text-[var(--muted)] uppercase font-semibold",children:"Add Part"}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:d,onChange:C=>{f(C.target.value),m(""),w(null)},children:[s.jsx("option",{value:"",children:"Select a part"}),c.map(C=>{const T=Oh(C);return s.jsxs("option",{value:C.id,children:[C.name," (",T," ",C.unit||"unit",T!==1?"s":""," available)"]},C.id)})]}),N&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-[var(--muted)] block mb-0.5",children:"Location"}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-1.5 text-sm",value:h,onChange:C=>m(C.target.value),children:[s.jsx("option",{value:"",children:"Select location"}),k.map(C=>s.jsxs("option",{value:C.locationId,children:[C.locationName," (",C.quantity," in stock)"]},C.locationId))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-[var(--muted)] block mb-0.5",children:"Quantity"}),s.jsx("input",{type:"number",min:1,max:h?((U=k.find(C=>C.locationId===h))==null?void 0:U.quantity)??999:999,className:"w-full border border-[var(--border)] rounded p-1.5 text-sm",value:g,onChange:C=>p(Math.max(1,Number(C.target.value)))})]})]}),b&&s.jsx("div",{className:"text-xs text-red-600 bg-red-50 border border-red-100 rounded px-2 py-1",children:b}),N&&s.jsx("button",{type:"button",onClick:L,className:"text-blue-500 text-xs font-bold uppercase tracking-widest hover:text-blue-400",children:"+ Add Part"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"font-semibold box-border caret-transparent shrink-0",children:"Tags"})}),s.jsx("input",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",placeholder:"Comma separated tags",value:(e.categories||[]).join(", "),onChange:C=>F("categories",C.target.value.split(",").map(T=>T.trim()).filter(Boolean))})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"isRepeating",type:"checkbox",className:"h-4 w-4",checked:!!e.isRepeating,onChange:C=>{const T=C.target.checked;t({isRepeating:T,schedule:T?{frequency:"weekly",startDate:e.startDate||new Date().toISOString().split("T")[0]}:void 0})}}),s.jsx("label",{htmlFor:"isRepeating",className:"text-sm font-semibold",children:"Repeating schedule"})]}),e.isRepeating&&s.jsxs("div",{className:"mt-3 pl-6 border-l-2 border-blue-500",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"text-xs font-semibold box-border caret-transparent shrink-0",children:"Frequency"})}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:((B=e.schedule)==null?void 0:B.frequency)||"weekly",onChange:C=>{const T=C.target.value;F("schedule",{...e.schedule,frequency:T})},children:[s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"text-xs font-semibold box-border caret-transparent shrink-0",children:"Schedule Start Date"})}),s.jsx("input",{type:"date",className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:((Y=e.schedule)==null?void 0:Y.startDate)||e.startDate||"",onChange:C=>{F("schedule",{...e.schedule,startDate:C.target.value}),F("startDate",C.target.value)}})]})]})]}),s.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"Sections are preloaded and can be completed after creation."})]})})})})]})})},gI=e=>({title:"",description:"",status:"Open",priority:"Medium",startDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],assignedTo:"Admin",assignedUsers:[{name:"Admin",imageUrl:"https://app.getmaintainx.com/img/static/user_placeholders/RandomPicture4.png"}],asset:"",locationId:null,location:"",categories:["Maintenance"],workType:"Corrective",sections:[],attachments:[],isRepeating:!1,procedureInstances:[],parts:[],...e}),xI=({activeTab:e,onTabChange:t})=>s.jsxs("div",{className:"flex shrink-0 border-b border-[var(--border)] bg-white",children:[s.jsx("button",{type:"button",onClick:()=>t("todo"),className:`flex-1 text-center py-3 text-sm font-semibold border-b-2 transition-colors ${e==="todo"?"text-accent border-accent":"text-gray-500 border-transparent hover:text-gray-700 hover:bg-gray-50"}`,children:"To Do"}),s.jsx("button",{type:"button",onClick:()=>t("done"),className:`flex-1 text-center py-3 text-sm font-semibold border-b-2 transition-colors ${e==="done"?"text-accent border-accent":"text-gray-500 border-transparent hover:text-gray-700 hover:bg-gray-50"}`,children:"Done"})]}),bI=()=>s.jsxs("div",{className:"relative items-center border-b-zinc-200 border-l-neutral-800 border-r-neutral-800 border-t-neutral-800 box-border caret-transparent flex shrink-0 h-12 justify-between z-[1] border-b",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow p-3",children:s.jsx("div",{className:"relative text-[12.6px] box-border caret-transparent flex basis-[0%] grow leading-[15.12px]",children:s.jsx("div",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsxs("button",{type:"button",className:"text-gray-600 text-sm items-center bg-transparent caret-transparent flex shrink-0 leading-[16.8px] max-w-full text-center",children:["Sort By:",s.jsxs("div",{className:"text-accent items-center box-border caret-transparent flex basis-[0%] grow stroke-accent",children:[s.jsxs("span",{className:"box-border caret-transparent block basis-[0%] grow stroke-accent text-ellipsis text-nowrap overflow-hidden ml-1",children:[s.jsx("span",{className:"font-semibold box-border caret-transparent shrink-0 stroke-accent text-nowrap",children:"Priority"}),": Highest First"]}),s.jsx("div",{className:"box-border caret-transparent shrink-0 stroke-accent ml-1 mb-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-27.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-[5px] w-2 -scale-100"})})]})]})})})}),s.jsx("button",{type:"button",className:"text-slate-500 bg-transparent caret-transparent block shrink-0 text-center mr-3 px-0 hover:text-gray-600",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-28.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 w-5"})})]}),Oo=({imageUrl:e,fallbackIcon:t,alt:r,className:n="h-12 w-12"})=>s.jsxs("div",{className:`relative flex-shrink-0 overflow-hidden rounded-lg border border-[var(--border)] bg-[var(--panel-2)] flex items-center justify-center ${n} group transition-all hover:ring-2 hover:ring-accent/30`,children:[e?s.jsx("img",{src:e,alt:r,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",onError:a=>{var i;a.target.style.display="none",(i=a.target.parentElement)==null||i.classList.add("show-fallback")}}):null,s.jsx("div",{className:`flex items-center justify-center h-full w-full ${e?"hidden group-[.show-fallback]:flex":"flex"}`,children:t})]}),h5=({id:e,title:t,workOrderNumber:r,assetName:n,assetImageUrl:a,status:i,priority:l,startDate:c,dueDate:d,isOverdue:f,isRecurring:h,assignedUsers:m,onClick:g,isActive:p})=>s.jsxs("div",{onClick:g,className:`relative items-center bg-transparent border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[98px] hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] cursor-pointer pl-3 py-3 transition-colors ${p?"bg-[var(--panel-2)] border-l-2 border-l-accent":"border-l-2 border-l-transparent"}`,children:[s.jsx(Oo,{imageUrl:a,alt:n,fallbackIcon:s.jsx("span",{className:"text-accent",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-7.svg",alt:"Asset",className:"h-6 w-6"})}),className:"h-12 w-12 mr-3"}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center min-w-0 z-0",children:[s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 mb-1",children:[h&&s.jsx("div",{className:"text-slate-500 box-border caret-transparent shrink-0 mr-1.5",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-30.svg",alt:"Recurring",className:"box-border caret-transparent shrink-0 h-[18px] w-[18px]"})}),s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2 min-w-0",children:s.jsx("div",{title:t,className:"font-semibold text-base text-neutral-800 box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:t})}),s.jsx("div",{className:"box-border caret-transparent shrink-0 flex items-center mr-4",children:s.jsx("div",{className:"flex -space-x-2",children:m==null?void 0:m.map((b,w)=>s.jsx("div",{className:"relative z-10 rounded-full border-2 border-[var(--border)]",children:s.jsx("img",{src:b.imageUrl,alt:b.name,className:"h-6 w-6 rounded-full object-cover"})},`user-${w}`))})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between mb-1.5",children:[s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent basis-[0%] grow text-ellipsis text-nowrap w-full overflow-hidden opacity-80",children:n}),s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent shrink-0 mr-4 opacity-70",children:r})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 gap-2",children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0",children:s.jsxs("div",{className:`text-[11px] font-medium items-center flex shrink-0 leading-none px-2 py-1 rounded ${i==="Open"?"bg-accent-muted text-accent":i==="Done"?"bg-teal-100 text-teal-600":i==="In Progress"?"bg-accent-muted text-accent":i==="On Hold"?"bg-yellow-100 text-yellow-600":"bg-gray-100 text-gray-600"}`,children:[s.jsxs("div",{className:"mr-1.5 flex items-center",children:[i==="Open"&&s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-41.svg",alt:"Open",className:"h-3 w-3 opacity-100"}),i==="On Hold"&&s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-42.svg",alt:"On Hold",className:"h-3 w-3 opacity-100"}),i==="In Progress"&&s.jsx("img",{src:"/public/inprogress.svg",alt:"In Progress",className:"h-3 w-3 opacity-100"}),i==="Done"&&s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-44.svg",alt:"Done",className:"h-3 w-3 opacity-100"})]}),i]})}),s.jsxs("div",{className:"text-[11px] font-medium items-center text-teal-600 border border-[var(--border)] bg-white flex shrink-0 leading-none px-2 py-1 rounded",children:[s.jsx("div",{className:"mr-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-34.svg",alt:"Priority",className:`h-3.5 w-3.5 ${l==="Low"?"text-teal-500":"text-orange-500"}`})}),l]}),f&&i!=="Done"&&s.jsx("div",{className:"flex items-center text-[13px] ml-auto mr-4 text-[var(--muted)] opacity-80",children:s.jsxs("span",{className:"text-red-600 font-medium flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Overdue"]})})]})]})]}),yI=[{id:"site-info",title:"Site Information",type:"text",fields:[{id:"site-notes",label:"Notes",type:"textarea",placeholder:"Enter site specific information..."}]},{id:"issues",title:"Issues / Problems",type:"mixed",fields:[{id:"problem-desc",label:"Description of Issue",type:"textarea",required:!0},{id:"issue-photos",label:"Photos of Issue",type:"photo"}]},{id:"work-accomplished",title:"Work Accomplished",type:"checklist",required:!0,fields:[{id:"check-filters",label:"Check filters",type:"checkbox",required:!0},{id:"check-belts",label:"Check belts",type:"checkbox",required:!0}]},{id:"meters",title:"Meters & Readings",type:"meters",fields:[{id:"runtime-hours",label:"Runtime Hours",type:"meter",unit:"hrs",required:!0}]},{id:"completion",title:"Completion",type:"mixed",required:!0,fields:[{id:"completion-notes",label:"Final Comments",type:"textarea"},{id:"signature",label:"Signature",type:"signature",required:!0},{id:"completion-timestamp",label:"Completed At",type:"timestamp",required:!0}]}],Fb=(e,t)=>({title:e.title,description:e.description,status:"Open",priority:e.priority,startDate:t,dueDate:t,assignedTo:e.assignedTo,assignedUsers:e.assignedUsers?JSON.parse(JSON.stringify(e.assignedUsers)):[],assetId:e.assetId,assetImageUrl:e.assetImageUrl,location:e.location,categories:e.categories?[...e.categories]:[],categoryId:e.categoryId,vendorId:e.vendorId,workType:e.workType,sections:[],procedureInstances:e.procedureInstances?JSON.parse(JSON.stringify(e.procedureInstances)):[],attachments:[],isRepeating:!1,parentWorkOrderId:e.id,occurrenceDate:t,totalTimeHours:0,totalCost:0}),BS="workorders_v3",p5=[{id:"86733636",title:"Weekly Maintenance Service",description:"Perform routine weekly maintenance on HVAC system.",workOrderNumber:"#411",asset:"0-GENERAL PURPOSE",assetImageUrl:"https://app.getmaintainx.com/img/fbfb6507-4423-4d18-bf98-55359a5e8f7b_processed_image10.png?w=96&h=96&rmode=crop",status:"Open",priority:"Low",startDate:"2026-06-01",dueDate:"2026-06-02",assignedTo:"Admin",assignedUsers:[{name:"Admin",imageUrl:"https://app.getmaintainx.com/img/static/user_placeholders/RandomPicture4.png"}],location:"Main Building",categories:["Maintenance"],workType:"Preventive",sections:yI,attachments:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isRepeating:!0,createdByUserId:"admin-001",assignedToUserId:"admin-001",schedule:{frequency:"weekly",startDate:"2026-02-01"}},{id:"86733637",title:"Monthly Fire Extinguisher Inspection",description:"Check all fire extinguishers on floor 1.",workOrderNumber:"#412",asset:"Fire Safety Equipment",status:"Open",priority:"Medium",startDate:"2026-02-14",dueDate:"2026-02-15",assignedTo:"Admin",location:"Floor 1",categories:["Safety"],workType:"Inspection",sections:[],attachments:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isRepeating:!0,createdByUserId:"admin-001",assignedToUserId:"admin-001",schedule:{frequency:"monthly",startDate:"2026-01-15"}}];let Ir=[];const zb=new Set,hg=e=>[...e].sort((t,r)=>new Date(t.createdAt).getTime()-new Date(r.createdAt).getTime()).map((t,r)=>({...t,workOrderNumber:`#${r+1}`})),m5=localStorage.getItem(BS);if(m5)try{let e=JSON.parse(m5);Ir=hg(e)}catch(e){console.error("Failed to parse saved work orders",e),Ir=hg(p5)}else Ir=hg(p5);const pg=()=>{if(Ir.length===0)return"#1";const e=Ir.map(r=>parseInt(r.workOrderNumber.replace("#",""),10)).filter(r=>!isNaN(r));return`#${Math.max(0,...e)+1}`},Lp=()=>{zb.forEach(e=>e()),localStorage.setItem(BS,JSON.stringify(Ir))},Gs=()=>{const[e,t]=P.useState(Ir),{activeUserId:r}=xs();P.useEffect(()=>{const f=()=>t([...Ir]);return zb.add(f),()=>{zb.delete(f)}},[]);const n=P.useCallback(f=>{const h={...f,id:crypto.randomUUID(),workOrderNumber:pg(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdByUserId:r||"admin-001"};return Ir=[...Ir,h],Lp(),h},[r]),a=P.useCallback((f,h)=>{let m=null;if(Ir=Ir.map(g=>{if(g.id===f){const p=g.status;let b={...g,...h,updatedAt:new Date().toISOString()};if((h.status==="Done"||h.status==="Completed")&&p!==h.status){try{const k=[];(b.sections||[]).forEach(L=>{(L.fields||[]).forEach(E=>{if((E==null?void 0:E.type)==="meter"){const I=E.value,M=E.meterId||I&&typeof I=="object"&&I.meterId,F=typeof I=="number"?I:I&&typeof I=="object"?I.value:void 0;M&&typeof F=="number"&&k.push({meterId:M,value:F,unit:E.unit})}})}),(b.procedureInstances||[]).forEach(L=>{const E={};(L.procedureSchemaSnapshot||[]).forEach(M=>(M.fields||[]).forEach(F=>{E[F.id]=F}));const I=L.responses||{};Object.keys(I).forEach(M=>{const F=E[M];if((F==null?void 0:F.type)==="meter"){const R=I[M],U=F.meterId||R&&typeof R=="object"&&R.meterId,B=typeof R=="number"?R:R&&typeof R=="object"?R.value:void 0;U&&typeof B=="number"&&k.push({meterId:U,value:B,unit:F.unit})}})}),k.forEach(L=>hI.addReadingFromWO(L.meterId,L.value,L.unit,b.id,r||void 0))}catch(k){console.warn("Failed to record meter readings on completion",k)}const N=(b.parts||[]).filter(k=>!k.consumed);if(N.length>0){const k=mI(N);if(!k.ok){try{window.dispatchEvent(new CustomEvent("work-order-parts-error",{detail:{reason:k.reason}}))}catch{}return{...g,updatedAt:new Date().toISOString()}}b={...b,parts:(b.parts||[]).map(L=>({...L,consumed:!0}))}}}if(h.status==="Done"&&g.status!=="Done"&&g.parentWorkOrderId&&g.occurrenceDate){const N=Ir.find(k=>k.id===g.parentWorkOrderId&&k.isRepeating);if(N&&N.schedule){const k=new Date(g.occurrenceDate+"T00:00:00Z"),L=new Date(k.getTime()),E=N.schedule.frequency;E==="weekly"?L.setUTCDate(L.getUTCDate()+7):E==="monthly"?L.setUTCMonth(L.getUTCMonth()+1):E==="quarterly"&&L.setUTCMonth(L.getUTCMonth()+3);const I=L.toISOString().split("T")[0];Ir.some(F=>F.parentWorkOrderId===N.id&&F.occurrenceDate===I)||(m=Fb(N,I))}}return b}return g}),m){const g={...m,id:crypto.randomUUID(),workOrderNumber:pg(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdByUserId:r||"admin-001"};Ir=[...Ir,g]}Lp()},[r]),i=P.useCallback(f=>{Ir=Ir.filter(h=>h.id!==f),Lp()},[]),l=P.useCallback(f=>Ir.find(h=>h.id===f),[]),c=P.useCallback(f=>Ir.filter(h=>h.vendorId===f),[]),d=P.useCallback(()=>{let f=!1;Ir.filter(m=>!!(m.isRepeating&&m.schedule)).forEach(m=>{if(!Ir.find(p=>p.parentWorkOrderId===m.id&&p.status!=="Done")){const p=Ir.filter(N=>N.parentWorkOrderId===m.id&&N.occurrenceDate).sort((N,k)=>(k.occurrenceDate||"").localeCompare(N.occurrenceDate||""));let b;if(p.length>0&&p[0].occurrenceDate){const N=new Date(p[0].occurrenceDate+"T00:00:00Z"),k=new Date(N.getTime()),L=m.schedule.frequency;L==="weekly"?k.setUTCDate(k.getUTCDate()+7):L==="monthly"?k.setUTCMonth(k.getUTCMonth()+1):L==="quarterly"&&k.setUTCMonth(k.getUTCMonth()+3),b=k.toISOString().split("T")[0]}else b=m.schedule.startDate;if(!Ir.some(N=>N.parentWorkOrderId===m.id&&N.occurrenceDate===b)){const k={...Fb(m,b),id:crypto.randomUUID(),workOrderNumber:pg(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdByUserId:m.createdByUserId||"admin-001"};Ir=[...Ir,k],f=!0}}}),f&&Lp()},[]);return{workOrders:e,addWorkOrder:n,updateWorkOrder:a,deleteWorkOrder:i,getWorkOrderById:l,getWorkOrdersByVendor:c,ensureActiveRecurringInstances:d}},US=e=>{const t=[];for(const r of e.sections){const n=[];for(const a of r.items){const i=wI(a);i&&n.push(i)}n.length>0&&t.push({id:`proc-${e.id}-${r.id}`,title:r.title,type:"mixed",required:!1,fields:n,isCollapsed:!1})}return t},wI=e=>{switch(e.kind){case"TextInput":return{id:e.id,label:e.label||"Text",type:e.multiline?"textarea":"text",required:e.required,placeholder:e.placeholder};case"NumberInput":return{id:e.id,label:e.label||"Number",type:"meter",required:e.required,unit:e.unit};case"MultipleChoice":return{id:e.id,label:e.label||"Multiple Choice",type:"select",required:e.required,options:[...e.options||[],e.otherOption?"Other":void 0].filter(Boolean)};case"YesNoNA":return{id:e.id,label:e.label||"Yes / No / N/A",type:"yesno_na",required:e.required};case"Inspection":return{id:e.id,label:e.label||"Inspection",type:"inspection",required:e.required};case"Date":return{id:e.id,label:e.label||"Date",type:"date",required:e.required};case"Photo":return{id:e.id,label:e.label||"Photos",type:"photo",required:e.required};case"File":return{id:e.id,label:e.label||"Files",type:"file",required:e.required};case"Signature":return{id:e.id,label:e.label||"Signature",type:"signature",required:e.required};case"MeterReading":return{id:e.id,label:e.label||"Meter Reading",type:"meter",required:e.required,unit:e.unit,meterId:e.meterId,allowedMeterIds:e.allowedMeterIds,value:e.meterId?{meterId:e.meterId}:void 0};case"Heading":case"TextBlock":default:return null}},qS={uploadFile:async e=>new Promise(t=>{const r=new FileReader;r.onloadend=()=>{const n={id:crypto.randomUUID(),name:e.name,type:e.type,url:r.result,size:e.size,createdAt:new Date().toISOString()};t(n)},r.readAsDataURL(e)}),formatSize:e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]}},NI=({field:e,onUpdate:t,disabled:r})=>{const n=async c=>{if(c.target.files&&c.target.files.length>0){const d=[];for(let f=0;f<c.target.files.length;f++){const h=await qS.uploadFile(c.target.files[f]);d.push(h)}t({attachments:[...e.attachments||[],...d]})}},a=c=>{t({attachments:(e.attachments||[]).filter(d=>d.id!==c)})},{getMeterById:i}=Ch(),l=()=>{switch(e.type){case"checkbox":return s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:!!e.value,onChange:c=>t({value:c.target.checked}),disabled:r,className:"h-4 w-4 text-blue-600 rounded border-[var(--border)] focus:ring-blue-500"}),s.jsxs("span",{className:`text-sm ${e.required&&!e.value?"text-red-500":"text-gray-700"}`,children:[e.label," ",e.required&&"*"]})]});case"text":return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("input",{type:"text",value:e.value||"",onChange:c=>t({value:c.target.value}),placeholder:e.placeholder,disabled:r,className:"w-full border border-[var(--border)] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-accent"})})]});case"meter":{const c=e.meterId?i(e.meterId):void 0,d=typeof e.value=="object"?e.value.value:e.value,f=e.unit||(c==null?void 0:c.unit)||"";return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),c&&s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:c.name}),f?s.jsxs("span",{children:["  ",f]}):null]})]}),c?s.jsxs("div",{className:"text-xs text-gray-500",children:["Last: ",typeof c.lastReading=="number"?`${c.lastReading}${f?` ${f}`:""}`:"",c.lastReadingAt?`  ${new Date(c.lastReadingAt).toLocaleString()}`:""]}):s.jsx("div",{className:"text-xs text-amber-600",children:"No meter selected"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",value:d??"",onChange:h=>{const m=h.target.value,g=m===""?"":Number(m);e.meterId?t({value:{meterId:e.meterId,value:g}}):t({value:g})},placeholder:f?`Enter ${f}`:"Enter value",disabled:r,className:"w-full border border-[var(--border)] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-accent"}),f&&s.jsx("span",{className:"text-sm text-gray-500 font-medium",children:f})]})]})}case"textarea":return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsx("textarea",{value:e.value||"",onChange:c=>t({value:c.target.value}),placeholder:e.placeholder,disabled:r,className:"w-full border border-[var(--border)] rounded px-3 py-2 text-sm min-h-[80px] focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-accent"})]});case"select":return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsx("div",{className:"flex flex-col gap-1",children:(e.options||[]).map(c=>s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("input",{type:"radio",name:e.id,checked:e.value===c,onChange:()=>t({value:c}),disabled:r}),s.jsx("span",{children:c})]},c))})]});case"photo":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.attachments||[]).map(c=>s.jsxs("div",{className:"relative group w-20 h-20",children:[s.jsx("img",{src:c.url,alt:c.name,className:"w-full h-full object-cover rounded border border-[var(--border)]"}),!r&&s.jsx("button",{onClick:()=>a(c.id),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(th,{size:12})})]},c.id)),!r&&s.jsxs("label",{className:"w-20 h-20 flex flex-col items-center justify-center border-2 border-dashed border-[var(--border)] rounded hover:border-accent hover:bg-blue-50 cursor-pointer transition-colors text-gray-400 hover:text-accent",children:[s.jsx(BO,{size:20}),s.jsx("span",{className:"text-[10px] mt-1",children:"Add Photo"}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:n,className:"hidden"})]})]})]});case"signature":return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),e.value?s.jsxs("div",{className:"border border-[var(--border)] rounded p-4 bg-gray-50 italic text-gray-600 text-center relative group",children:["Signed by: ",e.value,!r&&s.jsx("button",{onClick:()=>t({value:""}),className:"absolute top-1 right-1 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(th,{size:14})})]}):s.jsx("button",{disabled:r,onClick:()=>{const c=window.prompt("Type your full name to sign:");c&&t({value:c})},className:"w-full border-2 border-dashed border-[var(--border)] rounded py-4 text-sm text-gray-400 hover:border-accent hover:text-accent hover:bg-blue-50 transition-all",children:"Click to Sign"})]});case"timestamp":return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded border border-[var(--border)]",children:[s.jsx($O,{size:14,className:"mr-2"}),e.value?new Date(e.value).toLocaleString():"Not recorded",!e.value&&!r&&s.jsx("button",{onClick:()=>t({value:new Date().toISOString()}),className:"ml-auto text-accent font-semibold hover:underline",children:"Record Now"})]})]});case"date":return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsx("input",{type:"date",disabled:r,value:e.value?String(e.value).substring(0,10):"",onChange:c=>t({value:c.target.value}),className:"w-full border border-[var(--border)] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-accent"})]});case"yesno_na":{const c=["Yes","No","N/A"];return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.map(d=>s.jsx("button",{type:"button",disabled:r,onClick:()=>t({value:d}),className:`border px-3 py-2 rounded text-sm ${e.value===d?"bg-accent text-white border-accent":"border-[var(--border)] text-gray-700"}`,children:d},d))})]})}case"inspection":{const c=["Pass","Flag","Fail"];return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.map(d=>s.jsx("button",{type:"button",disabled:r,onClick:()=>t({value:d}),className:`border px-3 py-2 rounded text-sm ${e.value===d?"bg-accent text-white border-accent":"border-[var(--border)] text-gray-700"}`,children:d},d))})]})}case"file":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.label," ",e.required&&"*"]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[(e.attachments||[]).map(c=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-[var(--border)] rounded px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx(e5,{size:14}),s.jsx("span",{className:"truncate max-w-[260px]",children:c.name})]}),!r&&s.jsx("button",{onClick:()=>a(c.id),className:"text-red-500 hover:text-red-400",children:s.jsx(th,{size:14})})]},c.id)),!r&&s.jsxs("label",{className:"w-full flex items-center justify-center border-2 border-dashed border-[var(--border)] rounded py-3 text-sm text-gray-400 hover:border-accent hover:text-accent hover:bg-blue-50 cursor-pointer transition-colors",children:[s.jsx(e5,{size:16,className:"mr-1"})," Add File",s.jsx("input",{type:"file",multiple:!0,onChange:n,className:"hidden"})]})]})]});default:return s.jsxs("div",{className:"text-red-500 text-xs",children:["Unsupported field type: ",e.type]})}};return s.jsx("div",{className:"field-renderer py-2",children:l()})},x0=({section:e,onUpdate:t,disabled:r})=>{const[n,a]=P.useState(e.isCollapsed||!1),i=(d,f)=>{if(!Array.isArray(e.fields))return;const h=e.fields.map(m=>m.id===d?{...m,...f}:m);t({fields:h})},l=Array.isArray(e.fields)&&e.fields.length>0&&e.fields.every(d=>d.required?d.type==="photo"?Array.isArray(d.attachments)&&d.attachments.length>0:!!d.value:!0),c=Array.isArray(e.fields)&&e.fields.some(d=>d.required&&(d.type==="photo"?!Array.isArray(d.attachments)||d.attachments.length===0:!d.value));return s.jsxs("div",{className:`border rounded-lg mb-4 overflow-hidden transition-all ${c?"border-amber-200":"border-[var(--border)]"}`,children:[s.jsxs("div",{className:`px-4 py-3 flex items-center justify-between cursor-pointer select-none ${c?"bg-amber-50":"bg-gray-50"}`,onClick:()=>a(!n),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[e.required&&(l?s.jsx(qO,{size:18,className:"text-teal-500"}):s.jsx(Sb,{size:18,className:"text-amber-500"})),s.jsxs("h3",{className:"font-semibold text-sm text-gray-800 uppercase tracking-tight",children:[e.title,e.required&&s.jsx("span",{className:"ml-1 text-red-500",children:"*"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:n?s.jsx(X1,{size:18,className:"text-gray-400"}):s.jsx(IS,{size:18,className:"text-gray-400"})})]}),!n&&s.jsx("div",{className:"px-4 py-2 divide-y divide-gray-100 bg-white",children:Array.isArray(e.fields)&&e.fields.map(d=>s.jsx(NI,{field:d,disabled:r,onUpdate:f=>i(d.id,f)},d.id))})]})},$S=({onSelect:e,onCancel:t})=>{const{search:r}=Ph(),[n,a]=P.useState(""),i=P.useMemo(()=>r(n),[r,n]);return s.jsxs("div",{className:"bg-white border border-[var(--border)] rounded-lg shadow-lg flex flex-col h-[500px] w-full max-w-md overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-[var(--border)] flex items-center justify-between bg-gray-50",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Attach Procedure"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(bm,{size:20})})]}),s.jsx("div",{className:"p-4 border-b border-[var(--border)]",children:s.jsxs("div",{className:"relative",children:[s.jsx(JO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search procedures...",className:"w-full pl-10 pr-4 py-2 border border-[var(--border)] rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",value:n,onChange:l=>a(l.target.value),autoFocus:!0})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:i.length>0?i.map(l=>s.jsxs("button",{onClick:()=>e(l.id),className:"w-full flex items-center p-3 text-left hover:bg-blue-50 rounded-md transition-colors group",children:[s.jsx("div",{className:"h-10 w-10 bg-sky-100 rounded-lg flex items-center justify-center text-blue-500 mr-3 group-hover:bg-blue-100 transition-colors",children:s.jsx(Ab,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm text-gray-800 truncate",children:l.name}),s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1",children:[s.jsxs("span",{children:["v",l.meta.version]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[l.meta.fieldCount," fields"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Updated ",new Date(l.updatedAt).toLocaleDateString()]})]})]})]},l.id)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ab,{className:"mx-auto mb-2 opacity-20",size:48}),s.jsx("p",{className:"text-sm",children:"No procedures found"})]})})]})},jI={title:"",description:"",status:"Open",priority:"Medium",dueDate:new Date().toISOString().split("T")[0],assignedTo:"Admin",asset:"",locationId:null,location:"",categories:[],workType:"Other",sections:[],attachments:[]},kI=({open:e,initial:t,onClose:r,onSubmit:n})=>{const{assets:a}=Ro(),{parts:i}=Ih(),l=P.useMemo(()=>({...jI,...t}),[t]),[c,d]=P.useState(l),[f,h]=P.useState({}),[m,g]=P.useState(""),[p,b]=P.useState(""),[w,N]=P.useState(1),[k,L]=P.useState(null),E=i.find(C=>C.id===m),I=()=>{if(!m){L("Select a part.");return}if(!p){L("Select a location.");return}if(w<=0){L("Quantity must be > 0.");return}const C=i.find(W=>W.id===m);if(!C)return;const T=C.inventory.find(W=>W.locationId===p);if(!T){L("Part not stocked at this location.");return}if(T.quantity<w){L(`Only ${T.quantity} ${C.unit||"unit(s)"} available.`);return}const H={partId:C.id,partName:C.name,locationId:T.locationId,locationName:T.locationName,quantityUsed:w,consumed:!1},V=c.parts||[];if(V.some(W=>W.partId===H.partId&&W.locationId===H.locationId)){L("Already added.");return}F({parts:[...V,H]}),g(""),b(""),N(1),L(null)},M=(C,T)=>{F({parts:(c.parts||[]).filter(H=>!(H.partId===C&&H.locationId===T))})};if(Ah.useEffect(()=>{d(l)},[l]),!e)return null;const F=C=>d(T=>({...T,...C})),R=!!c.assetId,U=()=>{var T;const C={};return(T=c.title)!=null&&T.trim()||(C.title="Title is required"),h(C),Object.keys(C).length===0},B=()=>{U()&&n({...c})},Y=C=>{const T=a.find(H=>H.id===C);if(T){const H=T.locationId?e2(T.locationId):void 0;F({assetId:T.id,asset:T.name,locationId:T.locationId||null,location:(H==null?void 0:H.name)||T.locationName||""})}else F({assetId:void 0,asset:""})};return s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/30 flex items-center justify-end",onClick:r,children:s.jsxs("div",{className:"bg-[var(--panel)] w-full max-w-xl h-full overflow-auto border-l border-[var(--border)]",onClick:C=>C.stopPropagation(),children:[s.jsxs("div",{className:"px-4 py-3 border-b border-[var(--border)] bg-[var(--panel-2)] flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-semibold",children:t!=null&&t.id?"Edit Work Order":"New Work Order"}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:r,children:""})]}),s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Title",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{value:c.title,onChange:C=>F({title:C.target.value}),className:`w-full border rounded px-2 py-1 text-sm ${f.title?"border-red-400":"border-[var(--border)]"}`}),f.title&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Status"}),s.jsxs("select",{value:c.status,onChange:C=>F({status:C.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"Open",children:"Open"}),s.jsx("option",{value:"On Hold",children:"On Hold"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Done",children:"Done"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Priority"}),s.jsxs("select",{value:c.priority,onChange:C=>F({priority:C.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Due Date"}),s.jsx("input",{type:"date",value:c.dueDate,onChange:C=>F({dueDate:C.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Asset"}),s.jsxs("select",{value:c.assetId||"",onChange:C=>Y(C.target.value),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"",children:"No Asset"}),a.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Location",R&&s.jsx("span",{className:"text-gray-400 ml-1",children:"(synced from asset)"})]}),s.jsx(_h,{value:c.locationId||null,disabled:R,onChange:(C,T)=>F({locationId:C,location:T})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Description"}),s.jsx("textarea",{value:c.description,onChange:C=>F({description:C.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm min-h-[100px]"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-2 font-semibold uppercase tracking-wide",children:"Parts"}),(c.parts||[]).length>0&&s.jsx("div",{className:"border border-[var(--border)] rounded overflow-hidden mb-2",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-[var(--panel-2)] border-b border-[var(--border)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Part"}),s.jsx("th",{className:"text-left px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Location"}),s.jsx("th",{className:"text-center px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Qty"}),s.jsx("th",{className:"px-2 py-1"})]})}),s.jsx("tbody",{children:(c.parts||[]).map(C=>s.jsxs("tr",{className:`border-b border-[var(--border)] last:border-0 ${C.consumed?"opacity-60":""}`,children:[s.jsx("td",{className:"px-2 py-1 font-medium",children:C.partName}),s.jsx("td",{className:"px-2 py-1 text-gray-500",children:C.locationName}),s.jsx("td",{className:"px-2 py-1 text-center",children:C.quantityUsed}),s.jsx("td",{className:"px-2 py-1 text-center",children:C.consumed?s.jsx("span",{className:"text-[9px] text-green-600 font-bold uppercase",children:"Consumed"}):s.jsx("button",{type:"button",onClick:()=>M(C.partId,C.locationId),className:"text-red-400 hover:text-red-600 text-xs",children:""})})]},`${C.partId}-${C.locationId}`))})]})}),s.jsxs("div",{className:"border border-dashed border-[var(--border)] rounded p-2 space-y-2",children:[s.jsxs("select",{className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",value:m,onChange:C=>{g(C.target.value),b(""),L(null)},children:[s.jsx("option",{value:"",children:"Add a part"}),i.map(C=>{const T=Oh(C);return s.jsxs("option",{value:C.id,children:[C.name," (",T," available)"]},C.id)})]}),E&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("select",{className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",value:p,onChange:C=>b(C.target.value),children:[s.jsx("option",{value:"",children:"Select location"}),E.inventory.map(C=>s.jsxs("option",{value:C.locationId,children:[C.locationName," (",C.quantity," in stock)"]},C.locationId))]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{type:"number",min:1,className:"flex-1 border border-[var(--border)] rounded px-2 py-1 text-sm",value:w,onChange:C=>N(Math.max(1,Number(C.target.value)))}),s.jsx("button",{type:"button",onClick:I,className:"text-blue-500 text-xs font-bold px-2 hover:text-blue-400 border border-blue-500 rounded",children:"Add"})]})]}),k&&s.jsx("div",{className:"text-xs text-red-600 bg-red-50 border border-red-100 rounded px-2 py-1",children:k})]})]})]})}),s.jsxs("div",{className:"px-4 py-3 border-t border-[var(--border)] bg-[var(--panel-2)] flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:r,children:"Cancel"}),s.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",onClick:B,children:"Save"})]})]})})},SI=()=>{var fe;const[e,t]=P.useState("todo"),[r,n]=P.useState(null),{workOrders:a,addWorkOrder:i,updateWorkOrder:l,deleteWorkOrder:c}=Gs(),{getUserById:d}=xs(),{assignedTo:f,search:h,locationId:m}=ym(),{getCategoryById:g}=wm(),[p,b]=P.useState("view"),[w,N]=P.useState(null),[k,L]=P.useState(null),[E,I]=P.useState(!1),[M,F]=P.useState(!1),[R,U]=P.useState(null),[B,Y]=P.useState(!1),[C,T]=P.useState(null),{getProcedureById:H}=Ph(),V=P.useMemo(()=>{if(!Array.isArray(a))return[];let Z=a;Z=Z.filter(ae=>!ae.isRepeating);const we=new Date().toISOString().split("T")[0];if(e==="done"?Z=Z.filter(ae=>ae&&ae.status==="Done"):Z=Z.filter(ae=>!(!ae||ae.status==="Done"||(ae.dueDate<we,ae.occurrenceDate&&ae.occurrenceDate>we))),f&&(Z=Z.filter(ae=>ae.assignedToUserId===f||ae.assignedTo===f)),h){const ae=h.toLowerCase();Z=Z.filter(ye=>ye.title.toLowerCase().includes(ae)||ye.workOrderNumber.toLowerCase().includes(ae))}if(m){const ae=FS(m),ye=new Set([m,...ae]);Z=Z.filter(_e=>_e.locationId&&ye.has(_e.locationId))}return Z},[a,e,f,h,m]),W=P.useMemo(()=>{try{if(!Array.isArray(a)||a.length===0)return null;const Z=a.find(de=>de&&de.id===r);return Z||(r?null:Array.isArray(V)&&V[0]||null)}catch(Z){return console.error("Error selecting work order",Z),null}},[r,a,V]),pe=(Z,de)=>{if(!W)return;if(Array.isArray(W.sections)&&W.sections.find(ye=>ye&&ye.id===Z)){const ye=W.sections.map(_e=>_e&&_e.id===Z?{..._e,...de}:_e);l(W.id,{sections:ye});return}const we=W.procedureInstances||[];for(let ae=0;ae<we.length;ae++){const _e=we[ae].procedureSchemaSnapshot.findIndex(ke=>ke.id===Z);if(_e>=0){const ke=we.map((qe,Ke)=>{if(Ke!==ae)return qe;const ne=qe.procedureSchemaSnapshot.map((ft,dt)=>dt===_e?{...ft,...de}:ft),He={...qe.responses};return de.fields&&de.fields.forEach(ft=>{He[ft.id]=ft.value}),{...qe,procedureSchemaSnapshot:ne,responses:He,updatedAt:new Date().toISOString()}});l(W.id,{procedureInstances:ke});return}}},ue=P.useMemo(()=>{if(!W)return!1;const Z=Array.isArray(W.sections)?W.sections:[],de=(W.procedureInstances||[]).flatMap(ae=>ae.procedureSchemaSnapshot||[]),we=[...Z,...de];try{return we.every(ae=>{if(!ae||!ae.required)return!0;const ye=ae.fields;return Array.isArray(ye)?ye.every(_e=>!_e||!_e.required?!0:_e.type==="photo"||_e.type==="file"?Array.isArray(_e.attachments)&&_e.attachments.length>0:_e.value!==void 0&&_e.value!==null&&_e.value!==""):!0})}catch(ae){return console.error("Error validating work order",ae),!1}},[W]),J=Z=>{if(!W)return;if(Z==="Done"&&!ue){L("Please complete all required fields before marking as Done.");return}else L(null);const de={status:Z};Z==="Done"&&W.status!=="Done"?de.completedAt=new Date().toISOString():Z!=="Done"&&W.status==="Done"&&(de.completedAt=void 0),l(W.id,de)},le=()=>{b("create"),N(Z=>Z??gI())},me=(Z,de)=>{const we=H(de);if(!we)return;const ae=US(we),ye={id:crypto.randomUUID(),procedureId:we.id,procedureNameSnapshot:we.name,procedureVersionSnapshot:we.meta.version,procedureSchemaSnapshot:ae,responses:{},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},_e=a.find(qe=>qe.id===Z),ke=(_e==null?void 0:_e.procedureInstances)||[];l(Z,{procedureInstances:[...ke,ye]})},ee=(Z,de,we)=>{const ae=a.find(qe=>qe.id===Z);if(!ae||!ae.procedureInstances)return;const ye=[...ae.procedureInstances],_e=we==="up"?de-1:de+1;if(_e<0||_e>=ye.length)return;const[ke]=ye.splice(de,1);ye.splice(_e,0,ke),l(Z,{procedureInstances:ye})},z=(Z,de)=>{const we=a.find(ye=>ye.id===Z);if(!we)return;const ae=we.procedureInstances||[];l(Z,{procedureInstances:ae.filter(ye=>ye.id!==de)}),T(null)};P.useEffect(()=>{const Z=()=>le();return window.addEventListener("trigger-new-work-order",Z),()=>window.removeEventListener("trigger-new-work-order",Z)},[]),P.useEffect(()=>{const Z=de=>{const{reason:we}=de.detail||{};we&&L(we)};return window.addEventListener("work-order-parts-error",Z),()=>window.removeEventListener("work-order-parts-error",Z)},[]),P.useEffect(()=>{I(!1)},[r,p]);const re=P.useMemo(()=>{if(!Array.isArray(a))return 0;const Z=new Date().toISOString().split("T")[0];return a.filter(de=>de&&de.status!=="Done"&&!de.isRepeating&&(!de.occurrenceDate||de.occurrenceDate<=Z)).length},[a]),ie=new Date().toISOString().split("T")[0];return s.jsx("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:s.jsxs("div",{className:"relative box-border caret-transparent flex basis-[0%] grow mx-2 lg:mx-4 flex-col lg:flex-row gap-4 lg:gap-0",children:[s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent flex flex-col shrink-0 w-full lg:max-w-[500px] lg:min-w-[300px] lg:w-2/5 border border-[var(--border)] lg:mr-4 rounded-tl rounded-tr border-solid bg-[var(--panel)]",children:[s.jsx(xI,{activeTab:e,onTabChange:t}),s.jsx(bI,{}),s.jsx("div",{className:"relative box-border caret-transparent basis-[0%] grow overflow-x-hidden overflow-y-auto pb-8 rounded-bl rounded-br rounded-tl rounded-tr",children:e==="todo"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[var(--accent)] text-[12.6px] font-medium box-border caret-transparent shrink-0 leading-[15.12px] px-4 py-2 opacity-[0.85]",children:s.jsxs("span",{className:"text-[var(--text)] box-border caret-transparent shrink-0 pr-1",children:["Assigned to Me (",re,")"]})}),V.map(Z=>{const de=Z.status!=="Done"&&Z.dueDate<ie;return s.jsx(h5,{...Z,isOverdue:de,startDate:Z.startDate,assetName:Z.asset,onClick:()=>n(Z.id),isActive:(W==null?void 0:W.id)===Z.id},Z.id)})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[var(--accent)] text-[12.6px] font-medium box-border caret-transparent shrink-0 leading-[15.12px] px-4 py-2 opacity-[0.85]",children:s.jsxs("span",{className:"text-[var(--text)] box-border caret-transparent shrink-0 pr-1",children:["Completed (",V.length,")"]})}),V.map(Z=>s.jsx(h5,{...Z,startDate:Z.startDate,assetName:Z.asset,onClick:()=>n(Z.id),isActive:(W==null?void 0:W.id)===Z.id},Z.id))]})})]}),s.jsx("div",{className:"box-border caret-transparent flex flex-col grow shrink-0 w-full lg:basis-[375px] lg:min-w-[200px] lg:pt-2 lg:px-2 border-l border-[var(--border)] bg-[var(--panel-2)]",children:s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid bg-[var(--panel)]",children:[p==="create"&&w&&s.jsx(vI,{value:w,onChange:Z=>N(de=>({...de,...Z})),onCancel:()=>b("view"),onCreate:Z=>{const de=i(Z);n(de.id),R&&(me(de.id,R),U(null)),b("view"),N(null),t("todo")}}),s.jsx("div",{className:p==="create"?"hidden w-full h-full":"block w-full h-full",children:W?s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-x-hidden overflow-y-auto w-full",children:[s.jsxs("div",{className:"relative box-border caret-transparent flex flex-col grow w-full",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("header",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] box-border caret-transparent gap-x-2 flex flex-col shrink-0 gap-y-2 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap justify-between gap-y-2 px-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-2 flex gap-y-2",children:s.jsxs("div",{className:"box-border caret-transparent",children:[s.jsxs("div",{className:"box-border caret-transparent gap-x-1 flex gap-y-1",children:[s.jsx("h3",{className:"text-[20.0004px] font-semibold box-border caret-transparent tracking-[-0.2px] leading-[28.0006px]",children:W.title}),s.jsx("button",{title:"Copy Link",type:"button",className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded-full hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex text-nowrap",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-35.svg",alt:"Icon",className:"box-border caret-transparent h-5 text-nowrap w-5 group-hover:brightness-0 group-hover:invert transition-all"})})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-1 flex h-[18px] gap-y-1",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-1 flex gap-y-1",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-36.svg",alt:"Icon",className:"text-accent box-border caret-transparent h-3.5 w-3.5"}),s.jsx("span",{className:"text-gray-600 text-[11.9994px] box-border caret-transparent block tracking-[-0.2px] leading-[14.3993px]",children:W.workType})]}),W.startDate&&s.jsx("div",{className:"items-center box-border caret-transparent gap-x-1 flex gap-y-1",children:s.jsxs("span",{className:"text-gray-600 text-[11.9994px] box-border caret-transparent block tracking-[-0.2px] leading-[14.3993px]",children:["- Start ",new Date(W.startDate).toLocaleDateString()]})}),s.jsx("div",{className:"items-center box-border caret-transparent gap-x-1 flex gap-y-1",children:s.jsx("span",{className:"box-border caret-transparent flex mr-px",children:s.jsxs("span",{className:"text-gray-600 text-[11.9994px] box-border caret-transparent block tracking-[-0.2px] leading-[14.3993px]",children:[W.startDate?"  ":" - ","Due ",new Date(W.dueDate).toLocaleDateString()]})})}),W.status!=="Done"&&new Date(W.dueDate)<new Date(new Date().toISOString().split("T")[0])&&s.jsx("div",{className:"items-center box-border caret-transparent gap-x-1 flex gap-y-1 ml-1",children:s.jsxs("span",{className:"text-red-600 text-[11.9994px] font-medium box-border caret-transparent block tracking-[-0.2px] leading-[14.3993px] flex items-center",children:[s.jsx("span",{className:"mr-1",children:""}),"Overdue"]})})]})]})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-start",children:s.jsx("button",{type:"button",onClick:()=>F(!0),className:"relative text-accent font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded-md border-solid hover:bg-accent hover:text-white transition-colors cursor-pointer",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Edit"})})}),s.jsxs("div",{className:"relative box-border caret-transparent flex shrink-0",children:[s.jsx("button",{type:"button",className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded-md border border-transparent hover:border-[var(--border)] hover:bg-gray-100 transition-all cursor-pointer group/delete",onClick:()=>I(Z=>!Z),children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:s.jsx("span",{className:"text-slate-500 box-border caret-transparent flex shrink-0 text-nowrap group-hover/delete:text-red-600 transition-colors",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),s.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),s.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),s.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})})}),E&&s.jsxs("div",{className:"flex items-center gap-2 ml-2 text-sm",children:[s.jsx("span",{className:"text-red-600",children:"Delete this work order?"}),s.jsx("button",{type:"button",className:"text-white bg-red-500 border border-red-500 px-2 py-0.5 rounded hover:bg-red-400",onClick:()=>{c(W.id),n(null),I(!1)},children:"Confirm"}),s.jsx("button",{type:"button",className:"text-gray-600 border border-[var(--border)] px-2 py-0.5 rounded hover:border-neutral-300",onClick:()=>I(!1),children:"Cancel"})]})]})]})]})})}),s.jsx("div",{className:"relative box-border caret-transparent flex flex-col grow scroll-smooth overflow-auto scroll-pt-4",children:s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-6 pt-4",children:s.jsx("div",{className:"box-border caret-transparent flex shrink-0 justify-start max-w-[816px] mr-4",children:s.jsxs("div",{className:"box-border caret-transparent basis-[0%] grow ml-6 mb-3",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 pb-2",children:s.jsx("strong",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold",children:"Status"})}),s.jsx("div",{className:"items-center box-border caret-transparent gap-x-1 flex shrink-0 flex-wrap-reverse gap-y-1",children:s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:["Open","On Hold","In Progress","Done"].map(Z=>s.jsxs("button",{type:"button",onClick:()=>J(Z),className:`${W.status===Z?"bg-accent-muted border-accent text-accent opacity-100":"bg-transparent border-[var(--border)] text-[var(--muted)] opacity-65"} text-[11.2px] items-center caret-transparent flex flex-col shrink-0 h-[50px] justify-center leading-[13.44px] text-center w-[71.25px] border mr-2 p-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid md:h-[60px] md:w-[90px] hover:bg-[var(--panel-2)] hover:opacity-100 transition-all`,children:[s.jsx("img",{src:Z==="Open"?"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-41.svg":Z==="On Hold"?"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-42.svg":Z==="In Progress"?"/inprogress.svg":"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-44.svg",alt:Z,className:`box-border caret-transparent shrink-0 h-4 w-4 md:h-6 md:w-6 ${W.status===Z?"opacity-100":"opacity-65"}`}),s.jsx("div",{className:"text-[12.6px] font-medium box-border caret-transparent shrink-0 leading-[15.12px] text-nowrap mt-1",children:Z})]},Z))})})}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mt-4 pt-4 border-t border-[var(--border)] text-[13px] text-[var(--muted)] space-y-1 italic opacity-80",children:[s.jsxs("div",{children:["Created by ",((fe=d(W.createdByUserId))==null?void 0:fe.fullName)||(W.createdByUserId?"Deleted User":"Admin")," on ",new Date(W.createdAt).toLocaleString()]}),W.updatedAt&&s.jsxs("div",{children:["Last updated on ",new Date(W.updatedAt).toLocaleString()]}),W.categoryId&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"uppercase font-bold tracking-tighter text-[11px]",children:"Category:"}),(()=>{const Z=g(W.categoryId);return Z?s.jsxs("span",{className:`text-accent text-[11px] font-bold uppercase tracking-tighter bg-accent-muted px-1 py-0.5 rounded border border-accent/20 ${Z.isActive?"":"opacity-60"}`,children:[Z.name,!Z.isActive&&" (Archived)"]}):s.jsx("span",{className:"text-[var(--muted)] text-[11px] bg-gray-50 px-1 py-0.5 rounded border border-[var(--border)]",children:"Unknown"})})()]})]}),k&&s.jsx("div",{className:"mt-2 text-xs font-bold uppercase tracking-tight text-red-600 bg-red-50 border border-red-100 rounded px-3 py-2",children:k}),s.jsx("div",{className:"box-border caret-transparent shrink-0 mt-6 pb-1",children:s.jsx("strong",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold",children:"Description"})}),s.jsx("div",{className:"box-border caret-transparent shrink-0 text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:W.description||"No description provided."}),(W.parts||[]).length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("strong",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-2",children:["Parts (",W.parts.length,")"]}),s.jsx("div",{className:"border border-[var(--border)] rounded overflow-hidden",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-[var(--panel-2)] border-b border-[var(--border)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Part"}),s.jsx("th",{className:"text-left px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Location"}),s.jsx("th",{className:"text-center px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Qty"}),s.jsx("th",{className:"text-center px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Status"})]})}),s.jsx("tbody",{children:W.parts.map(Z=>s.jsxs("tr",{className:"border-b border-[var(--border)] last:border-0",children:[s.jsx("td",{className:"px-2 py-1.5 font-medium",children:Z.partName}),s.jsx("td",{className:"px-2 py-1.5 text-gray-500",children:Z.locationName}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:Z.quantityUsed}),s.jsx("td",{className:"px-2 py-1.5 text-center",children:Z.consumed?s.jsx("span",{className:"bg-green-50 text-green-700 text-[9px] font-bold uppercase px-1.5 py-0.5 rounded",children:"Consumed"}):s.jsx("span",{className:"bg-gray-50 text-gray-500 text-[9px] font-bold uppercase px-1.5 py-0.5 rounded",children:"Pending"})})]},`${Z.partId}-${Z.locationId}`))})]})})]}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mt-6 pb-2 flex items-center justify-between border-b border-[var(--border)] mb-4",children:[s.jsx("strong",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold",children:"Procedures"}),s.jsxs("button",{type:"button",onClick:()=>Y(!0),className:"text-blue-500 text-[10px] font-bold uppercase tracking-widest flex items-center gap-1 hover:text-blue-400 transition-colors",children:[s.jsx(ZO,{size:14})," Add Procedure"]})]}),B&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",children:s.jsx($S,{onSelect:Z=>{me(W.id,Z),Y(!1)},onCancel:()=>Y(!1)})}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 space-y-6",children:[(W.procedureInstances||[]).length===0&&(W.sections||[]).length===0&&s.jsx("div",{className:"text-gray-400 text-sm italic py-4 border-2 border-dashed border-[var(--border)] rounded-lg text-center",children:"No procedures attached."}),(W.procedureInstances||[]).map((Z,de)=>{var we,ae;return s.jsxs("div",{className:"border border-[var(--border)] rounded-lg overflow-hidden bg-white shadow-sm",children:[s.jsxs("div",{className:"bg-accent px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsxs("div",{className:"flex flex-col gap-0.5 mr-1",children:[s.jsx("button",{disabled:de===0,onClick:()=>ee(W.id,de,"up"),className:`p-0.5 rounded hover:bg-white/20 transition-colors ${de===0?"opacity-30 cursor-not-allowed":""}`,children:s.jsx(IS,{size:14})}),s.jsx("button",{disabled:de===(((we=W.procedureInstances)==null?void 0:we.length)||0)-1,onClick:()=>ee(W.id,de,"down"),className:`p-0.5 rounded hover:bg-white/20 transition-colors ${de===(((ae=W.procedureInstances)==null?void 0:ae.length)||0)-1?"opacity-30 cursor-not-allowed":""}`,children:s.jsx(X1,{size:14})})]}),s.jsx(Ab,{size:18}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm leading-none",children:Z.procedureNameSnapshot}),s.jsxs("p",{className:"text-[10px] opacity-80 mt-1",children:["Version ",Z.procedureVersionSnapshot,"  Attached ",new Date(Z.createdAt).toLocaleDateString()]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:C===Z.id?s.jsxs("div",{className:"flex items-center gap-2 bg-white rounded p-1 shadow-sm border border-red-100",children:[s.jsx("span",{className:"text-[10px] text-red-600 px-1 font-medium",children:Object.keys(Z.responses).length>0?"Has responses! Delete?":"Remove procedure?"}),s.jsx("button",{onClick:()=>z(W.id,Z.id),className:"bg-red-500 text-white text-[10px] px-2 py-1 rounded hover:bg-red-600",children:"Confirm"}),s.jsx("button",{onClick:()=>T(null),className:"text-gray-500 text-[10px] px-2 py-1 hover:bg-gray-50 rounded",children:"Cancel"})]}):s.jsx("button",{onClick:()=>T(Z.id),className:"text-white/60 hover:text-white transition-colors",title:"Remove Procedure",children:s.jsx(th,{size:16})})})]}),s.jsx("div",{className:"p-4 space-y-4",children:Z.procedureSchemaSnapshot.map(ye=>s.jsx(x0,{section:ye,onUpdate:_e=>pe(ye.id,_e),disabled:W.status==="Done"},ye.id))})]},Z.id)}),(W.sections||[]).length>0&&s.jsxs("div",{className:"border border-amber-100 rounded-lg overflow-hidden bg-white shadow-sm",children:[s.jsxs("div",{className:"bg-amber-50 px-4 py-2 border-b border-amber-100 flex items-center gap-2 text-amber-800",children:[s.jsx(eI,{size:16}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Legacy Form Data"})]}),s.jsx("div",{className:"p-4 space-y-4",children:W.sections.map(Z=>s.jsx(x0,{section:Z,onUpdate:de=>pe(Z.id,de),disabled:W.status==="Done"},Z.id))})]})]})]})})})})]}),s.jsx(kI,{open:M,initial:W,onClose:()=>F(!1),onSubmit:Z=>{l(W.id,Z),F(!1)}})]}):s.jsx("div",{className:"flex items-center justify-center w-full h-full text-[var(--muted)] bg-[var(--panel-2)]",children:"Select a work order to view details"})})]})})]})})},AI=({workOrderId:e,onClose:t})=>{var m,g;const{workOrders:r,updateWorkOrder:n}=Gs(),a=P.useMemo(()=>r.find(p=>p.id===e),[r,e]),[i,l]=P.useState(!1),{getProcedureById:c}=Ph();if(!a)return null;const d=p=>n(a.id,p),f=(p,b)=>{if(!a)return;if(Array.isArray(a.sections)){const N=a.sections.findIndex(k=>k.id===p);if(N>=0){const k=a.sections.map((L,E)=>E===N?{...L,...b}:L);n(a.id,{sections:k});return}}const w=a.procedureInstances||[];for(let N=0;N<w.length;N++){const L=w[N].procedureSchemaSnapshot.findIndex(E=>E.id===p);if(L>=0){const E=w.map((I,M)=>{if(M!==N)return I;const F=I.procedureSchemaSnapshot.map((U,B)=>B===L?{...U,...b}:U),R={...I.responses};return b.fields&&b.fields.forEach(U=>{R[U.id]=U.value}),{...I,procedureSchemaSnapshot:F,responses:R,updatedAt:new Date().toISOString()}});n(a.id,{procedureInstances:E});return}}},h=p=>{const b=c(p);if(!b)return;const w=US(b),N={id:crypto.randomUUID(),procedureId:b.id,procedureNameSnapshot:b.name,procedureVersionSnapshot:b.meta.version,procedureSchemaSnapshot:w,responses:{},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},k=a.procedureInstances||[];n(a.id,{procedureInstances:[...k,N]}),l(!1)};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:[s.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-hidden rounded-lg shadow-lg border border-[var(--border)]",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-[var(--border)] flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:a.title}),s.jsxs("div",{className:"text-xs text-gray-500",children:[a.asset,"  ",a.startDate?`Starts ${new Date(a.startDate).toLocaleDateString()}  `:"","Due ",new Date(a.dueDate).toLocaleDateString()]})]}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:t,children:""})]}),s.jsxs("div",{className:"p-4 overflow-y-auto max-h-[70vh] space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Status"}),s.jsxs("select",{value:a.status,onChange:p=>d({status:p.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"Open",children:"Open"}),s.jsx("option",{value:"On Hold",children:"On Hold"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Done",children:"Done"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Priority"}),s.jsxs("select",{value:a.priority,onChange:p=>d({priority:p.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Assigned To"}),s.jsx("input",{value:a.assignedTo,onChange:p=>d({assignedTo:p.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",value:a.startDate||"",onChange:p=>d({startDate:p.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Due Date"}),s.jsx("input",{type:"date",value:a.dueDate,onChange:p=>d({dueDate:p.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]})]}),s.jsxs("div",{className:"border-t border-[var(--border)] pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{id:"modalIsRepeating",type:"checkbox",className:"h-4 w-4",checked:!!a.isRepeating,onChange:p=>{const b=p.target.checked;d({isRepeating:b,schedule:b?{frequency:"weekly",startDate:a.startDate||new Date().toISOString().split("T")[0]}:void 0})}}),s.jsx("label",{htmlFor:"modalIsRepeating",className:"text-sm font-semibold text-gray-700",children:"Repeating Schedule"})]}),a.isRepeating&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 pl-6 border-l-2 border-blue-500",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Frequency"}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",value:((m=a.schedule)==null?void 0:m.frequency)||"weekly",onChange:p=>d({schedule:{...a.schedule,frequency:p.target.value}}),children:[s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Schedule Start Date"}),s.jsx("input",{type:"date",className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",value:((g=a.schedule)==null?void 0:g.startDate)||a.startDate||"",onChange:p=>{d({schedule:{...a.schedule,startDate:p.target.value},startDate:p.target.value})}})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("div",{className:"text-sm font-medium",children:"Procedures"}),s.jsx("button",{className:"text-blue-600 text-sm hover:text-blue-500",onClick:()=>l(!0),children:"Add Procedure"})]}),(a.procedureInstances||[]).map(p=>s.jsxs("div",{className:"border border-[var(--border)] rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"px-3 py-2 bg-gray-50 text-sm font-semibold",children:[p.procedureNameSnapshot," ",s.jsxs("span",{className:"text-gray-400",children:["v",p.procedureVersionSnapshot]})]}),s.jsx("div",{className:"p-3",children:(p.procedureSchemaSnapshot||[]).map(b=>s.jsx(x0,{section:b,onUpdate:w=>f(b.id,w)},b.id))})]},p.id)),Array.isArray(a.sections)&&a.sections.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Legacy Form Data"}),(a.sections||[]).map(p=>s.jsx(x0,{section:p,onUpdate:b=>f(p.id,b)},p.id))]})]}),s.jsx("div",{className:"px-4 py-3 border-t border-[var(--border)] bg-gray-50 flex items-center justify-end gap-2",children:s.jsx("button",{className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:t,children:"Close"})})]}),i&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",onClick:()=>l(!1),children:s.jsxs("div",{className:"bg-white w-full max-w-lg max-h-[80vh] overflow-auto rounded-lg shadow-lg border border-[var(--border)]",onClick:p=>p.stopPropagation(),children:[s.jsxs("div",{className:"px-4 py-3 border-b border-[var(--border)] flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Add Procedure"}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:()=>l(!1),children:""})]}),s.jsx($S,{onSelect:p=>h(p),onClose:()=>l(!1)})]})})]})},PI=e=>e.toISOString().split("T")[0],v5=e=>new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)),CI=e=>new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0)),mg=e=>{const t=e.getUTCDay(),r=(t===0?-6:1)-t,n=new Date(e);return n.setUTCDate(e.getUTCDate()+r),n},zf=(e,t)=>{const r=new Date(e);return r.setUTCDate(e.getUTCDate()+t),r},_I=(e,t)=>e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate(),OI=()=>{const{workOrders:e,addWorkOrder:t,updateWorkOrder:r}=Gs(),{search:n,assignedTo:a,location:i,priority:l,dueDate:c}=ym(),[d,f]=P.useState("month"),[h,m]=P.useState(()=>{const R=new Date;return new Date(Date.UTC(R.getFullYear(),R.getMonth(),R.getDate()))}),[g,p]=P.useState(null),[b,w]=P.useState({});P.useMemo(()=>{if(d==="month")return{start:v5(h),end:CI(h)};const R=mg(h),U=zf(R,6);return{start:R,end:U}},[d,h]);const N=P.useMemo(()=>{const U=(e||[]).filter(C=>!C.isRepeating).filter(C=>{if(a&&(!C.assignedTo||C.assignedTo!==a)||i&&C.location!==i||l&&C.priority!==l)return!1;if(n){const T=n.toLowerCase();if(![C.title,C.asset,C.assignedTo,C.location].filter(Boolean).join(" ").toLowerCase().includes(T))return!1}return!0}).map(C=>({id:C.id,workOrderId:C.id,occurrenceDate:(C.dueDate||"").split("T")[0],title:C.title,status:C.status,priority:C.priority,assignedTo:C.assignedTo})),B=c?U.filter(C=>C.occurrenceDate===c):U,Y={};for(const C of B)C.occurrenceDate&&(Y[C.occurrenceDate]||(Y[C.occurrenceDate]=[]),Y[C.occurrenceDate].push(C));return Object.keys(Y).forEach(C=>{Y[C].sort((T,H)=>{const V=pe=>pe.priority==="High"?0:pe.priority==="Medium"?1:2,W=V(T)-V(H);return W!==0?W:T.title.localeCompare(H.title)})}),Y},[e,a,i,l,n,c]),k=P.useMemo(()=>{if(d==="week"){const Y=mg(h);return Array.from({length:7}).map((C,T)=>zf(Y,T))}const R=v5(h),U=mg(R),B=[];for(let Y=0;Y<42;Y++)B.push(zf(U,Y));return B},[d,h]),L=P.useCallback((R,U)=>{var H;const B=(H=R.occurrenceInstances)==null?void 0:H[U];if(B){p(B);return}const Y=Fb(R,U),C=t(Y),T={...R.occurrenceInstances||{}};T[U]=C.id,r(R.id,{occurrenceInstances:T}),p(C.id)},[t,r]),E=()=>m(R=>d==="month"?new Date(Date.UTC(R.getUTCFullYear(),R.getUTCMonth()-1,1)):zf(R,-7)),I=()=>m(R=>d==="month"?new Date(Date.UTC(R.getUTCFullYear(),R.getUTCMonth()+1,1)):zf(R,7)),M=()=>{const R=new Date;m(new Date(Date.UTC(R.getFullYear(),R.getMonth(),R.getDate())))},F=(R,U)=>{const B=PI(R),Y=N[B]||[],C=3,T=d==="month"&&R.getUTCMonth()!==h.getUTCMonth(),H=!!b[B],V=(()=>{const W=new Date;return new Date(Date.UTC(W.getFullYear(),W.getMonth(),W.getDate()))})();return s.jsxs("div",{className:`border border-[var(--border)] p-1 min-h-[96px] ${T?"bg-gray-50 text-gray-400":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:`font-medium ${_I(R,V)?"text-blue-600":""}`,children:R.getUTCDate()}),d==="week"&&s.jsx("span",{className:"text-gray-400",children:R.toLocaleDateString(void 0,{weekday:"short",timeZone:"UTC"})})]}),(H?Y:Y.slice(0,C)).map((W,pe)=>s.jsxs("button",{onClick:()=>{const ue=(e||[]).find(J=>J.id===W.workOrderId);ue&&(ue.isRepeating&&ue.schedule?L(ue,W.occurrenceDate):p(ue.id))},className:`w-full text-left mb-1 px-1.5 py-0.5 rounded text-[11px] border ${W.priority==="High"?"bg-red-50 border-red-200 text-red-600":W.priority==="Medium"?"bg-amber-50 border-amber-200 text-amber-700":"bg-sky-50 border-sky-200 text-sky-700"}`,title:W.title,children:[s.jsx("span",{className:"font-semibold mr-1",children:W.title}),s.jsxs("span",{className:"opacity-70",children:[" ",W.assignedTo]})]},pe)),Y.length>C&&!H&&s.jsxs("button",{className:"text-[11px] text-blue-600 hover:text-blue-500",onClick:()=>w(W=>({...W,[B]:!0})),children:["+",Y.length-C," more"]}),H&&s.jsx("button",{className:"text-[11px] text-blue-600 hover:text-blue-500",onClick:()=>w(W=>({...W,[B]:!1})),children:"Show less"})]},U)};return s.jsxs("div",{className:"mx-2 lg:mx-4 bg-[var(--panel-2)]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-lg font-semibold",children:h.toLocaleDateString(void 0,{year:"numeric",month:"long",timeZone:"UTC"})}),s.jsxs("div",{className:"inline-flex border border-[var(--border)] rounded overflow-hidden",children:[s.jsx("button",{className:`px-3 py-1 text-sm ${d==="month"?"bg-blue-50 text-blue-600":""}`,onClick:()=>f("month"),children:"Month"}),s.jsx("button",{className:`px-3 py-1 text-sm border-l border-[var(--border)] ${d==="week"?"bg-blue-50 text-blue-600":""}`,onClick:()=>f("week"),children:"Week"})]}),s.jsxs("div",{className:"inline-flex border border-[var(--border)] rounded overflow-hidden ml-2",children:[s.jsx("button",{className:"px-2 py-1 text-sm",onClick:E,children:"Prev"}),s.jsx("button",{className:"px-2 py-1 text-sm border-l border-[var(--border)]",onClick:M,children:"Today"}),s.jsx("button",{className:"px-2 py-1 text-sm border-l border-[var(--border)]",onClick:I,children:"Next"})]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Recurring Work Orders"})]}),s.jsx("div",{className:"grid grid-cols-7 gap-0",children:k.map((R,U)=>F(R,U))}),g&&s.jsx(AI,{workOrderId:g,onClose:()=>p(null)})]})},II=()=>{const[e,t]=P.useState("list");return P.useEffect(()=>{const r=n=>{var a;(a=n.detail)!=null&&a.viewMode&&t(n.detail.viewMode)};return window.addEventListener("change-work-order-view",r),()=>window.removeEventListener("change-work-order-view",r)},[]),s.jsx("div",{className:"bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] grow isolate overflow-x-hidden overflow-y-auto",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow overflow-hidden",children:[s.jsx(lI,{}),s.jsx("div",{className:"box-border caret-transparent shrink-0"}),s.jsx(uI,{}),e==="list"?s.jsx(SI,{}):s.jsx(OI,{})]})})},EI=()=>{const[e,t]=P.useState(""),[r,n]=P.useState(""),[a,i]=P.useState(!1),[l,c]=P.useState(""),d=f=>{f.preventDefault(),e==="admin"&&r==="1234"?(localStorage.setItem("omp-auth","true"),window.location.reload()):c("Invalid username or password")};return s.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-[#0B0F14] overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#111826] to-[#0B0F14] z-0"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-blue-500/5 rounded-full blur-[120px] z-0 pointer-events-none"}),s.jsx("div",{className:"relative z-10 mb-8 flex flex-col items-center",children:s.jsxs("div",{className:"relative translate-x-16",children:[s.jsx("div",{className:"absolute inset-0 bg-blue-400/20 blur-xl rounded-full"}),s.jsx("img",{src:"/logo.svg",alt:"OMP Logo",className:"h-20 w-90 relative z-5"})]})}),s.jsxs("div",{className:"relative z-10 w-full max-w-[400px] bg-[#111826] border border-white/10 rounded-lg shadow-2xl p-8 mx-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-8",children:"Login"}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l&&s.jsx("div",{className:"text-red-500 text-sm bg-red-500/10 border border-red-500/20 px-3 py-2 rounded",children:l}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(rI,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#9AA4B2]"}),s.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:f=>t(f.target.value),className:"w-full bg-[#0B0F14] border border-white/10 rounded px-10 py-3 text-[#E6EAF2] placeholder-[#9AA4B2] focus:outline-none focus:border-[#2F6BFF] transition-colors",required:!0})]})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(GO,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#9AA4B2]"}),s.jsx("input",{type:a?"text":"password",placeholder:"Password",value:r,onChange:f=>n(f.target.value),className:"w-full bg-[#0B0F14] border border-white/10 rounded px-10 py-3 text-[#E6EAF2] placeholder-[#9AA4B2] focus:outline-none focus:border-[#2F6BFF] transition-colors",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#9AA4B2] hover:text-[#E6EAF2] transition-colors",children:a?s.jsx(HO,{className:"h-4 w-4"}):s.jsx(VO,{className:"h-4 w-4"})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 bg-[#0B0F14] border-white/10 rounded accent-[#2F6BFF]"}),s.jsx("span",{className:"text-sm text-[#9AA4B2] group-hover:text-[#E6EAF2] transition-colors",children:"Remember Me"})]}),s.jsx("button",{type:"button",className:"text-sm text-[#9AA4B2] hover:text-[#2F6BFF] transition-colors",children:"Forgot Password?"})]}),s.jsx("button",{type:"submit",className:"w-full bg-[#2F6BFF] hover:bg-[#4d82ff] text-white font-bold py-3 rounded transition-all shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:"Log In"})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-white/5 text-center",children:s.jsxs("p",{className:"text-sm text-[#9AA4B2]",children:["Don't have an account? ",s.jsx("button",{className:"text-[#2F6BFF] hover:underline",children:"Sign Up"})]})})]}),s.jsxs("div",{className:"relative z-10 mt-12 flex space-x-6",children:[s.jsx("button",{className:"text-xs text-[#9AA4B2] hover:text-[#E6EAF2] transition-colors",children:"Privacy Policy"}),s.jsx("button",{className:"text-xs text-[#9AA4B2] hover:text-[#E6EAF2] transition-colors",children:"Support"}),s.jsx("button",{className:"text-xs text-[#9AA4B2] hover:text-[#E6EAF2] transition-colors",children:"Terms of Service"})]}),s.jsxs("p",{className:"relative z-10 mt-4 text-[10px] text-[#9AA4B2]/50",children:[" ",new Date().getFullYear()," OMP. All rights reserved."]})]})},LI="modulepreload",DI=function(e){return"/"+e},g5={},vg=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=l(r.map(f=>{if(f=DI(f),f in g5)return;g5[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":LI,h||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((p,b)=>{g.addEventListener("load",p),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function xr(e){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(e)}var Vs=Uint8Array,qi=Uint16Array,t2=Int32Array,r2=new Vs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n2=new Vs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x5=new Vs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WS=function(e,t){for(var r=new qi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new t2(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},HS=WS(r2,2),TI=HS.b,Bb=HS.r;TI[28]=258,Bb[258]=28;var MI=WS(n2,0),b5=MI.r,Ub=new qi(32768);for(var Fr=0;Fr<32768;++Fr){var Ac=(Fr&43690)>>1|(Fr&21845)<<1;Ac=(Ac&52428)>>2|(Ac&13107)<<2,Ac=(Ac&61680)>>4|(Ac&3855)<<4,Ub[Fr]=((Ac&65280)>>8|(Ac&255)<<8)>>1}var rh=function(e,t,r){for(var n=e.length,a=0,i=new qi(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new qi(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var c;if(r){c=new qi(1<<t);var d=15-t;for(a=0;a<n;++a)if(e[a])for(var f=a<<4|e[a],h=t-e[a],m=l[e[a]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)c[Ub[m]>>d]=f}else for(c=new qi(n),a=0;a<n;++a)e[a]&&(c[a]=Ub[l[e[a]-1]++]>>15-e[a]);return c},Lu=new Vs(288);for(var Fr=0;Fr<144;++Fr)Lu[Fr]=8;for(var Fr=144;Fr<256;++Fr)Lu[Fr]=9;for(var Fr=256;Fr<280;++Fr)Lu[Fr]=7;for(var Fr=280;Fr<288;++Fr)Lu[Fr]=8;var b0=new Vs(32);for(var Fr=0;Fr<32;++Fr)b0[Fr]=5;var RI=rh(Lu,9,0),FI=rh(b0,5,0),VS=function(e){return(e+7)/8|0},zI=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Vs(e.subarray(t,r))},bl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Bf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},gg=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:GS,l:0};if(a==1){var l=new Vs(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(M,F){return M.f-F.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],f=0,h=1,m=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};h!=a-1;)c=r[r[f].f<r[m].f?f++:m++],d=r[f!=h&&r[f].f<r[m].f?f++:m++],r[h++]={s:-1,f:c.f+d.f,l:c,r:d};for(var g=i[0].s,n=1;n<a;++n)i[n].s>g&&(g=i[n].s);var p=new qi(g+1),b=qb(r[h-1],p,0);if(b>t){var n=0,w=0,N=b-t,k=1<<N;for(i.sort(function(F,R){return p[R.s]-p[F.s]||F.f-R.f});n<a;++n){var L=i[n].s;if(p[L]>t)w+=k-(1<<b-p[L]),p[L]=t;else break}for(w>>=N;w>0;){var E=i[n].s;p[E]<t?w-=1<<t-p[E]++-1:++n}for(;n>=0&&w;--n){var I=i[n].s;p[I]==t&&(--p[I],++w)}b=t}return{t:new Vs(p),l:b}},qb=function(e,t,r){return e.s==-1?Math.max(qb(e.l,t,r+1),qb(e.r,t,r+1)):t[e.s]=r},y5=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new qi(++t),n=0,a=e[0],i=1,l=function(d){r[n++]=d},c=1;c<=t;++c)if(e[c]==a&&c!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[c]}return{c:r.subarray(0,n),n:t}},Uf=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},KS=function(e,t,r){var n=r.length,a=VS(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},w5=function(e,t,r,n,a,i,l,c,d,f,h){bl(t,h++,r),++a[256];for(var m=gg(a,15),g=m.t,p=m.l,b=gg(i,15),w=b.t,N=b.l,k=y5(g),L=k.c,E=k.n,I=y5(w),M=I.c,F=I.n,R=new qi(19),U=0;U<L.length;++U)++R[L[U]&31];for(var U=0;U<M.length;++U)++R[M[U]&31];for(var B=gg(R,7),Y=B.t,C=B.l,T=19;T>4&&!Y[x5[T-1]];--T);var H=f+5<<3,V=Uf(a,Lu)+Uf(i,b0)+l,W=Uf(a,g)+Uf(i,w)+l+14+3*T+Uf(R,Y)+2*R[16]+3*R[17]+7*R[18];if(d>=0&&H<=V&&H<=W)return KS(t,h,e.subarray(d,d+f));var pe,ue,J,le;if(bl(t,h,1+(W<V)),h+=2,W<V){pe=rh(g,p,0),ue=g,J=rh(w,N,0),le=w;var me=rh(Y,C,0);bl(t,h,E-257),bl(t,h+5,F-1),bl(t,h+10,T-4),h+=14;for(var U=0;U<T;++U)bl(t,h+3*U,Y[x5[U]]);h+=3*T;for(var ee=[L,M],z=0;z<2;++z)for(var re=ee[z],U=0;U<re.length;++U){var ie=re[U]&31;bl(t,h,me[ie]),h+=Y[ie],ie>15&&(bl(t,h,re[U]>>5&127),h+=re[U]>>12)}}else pe=RI,ue=Lu,J=FI,le=b0;for(var U=0;U<c;++U){var fe=n[U];if(fe>255){var ie=fe>>18&31;Bf(t,h,pe[ie+257]),h+=ue[ie+257],ie>7&&(bl(t,h,fe>>23&31),h+=r2[ie]);var Z=fe&31;Bf(t,h,J[Z]),h+=le[Z],Z>3&&(Bf(t,h,fe>>5&8191),h+=n2[Z])}else Bf(t,h,pe[fe]),h+=ue[fe]}return Bf(t,h,pe[256]),h+ue[256]},BI=new t2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),GS=new Vs(0),UI=function(e,t,r,n,a,i){var l=i.z||e.length,c=new Vs(n+l+5*(1+Math.ceil(l/7e3))+a),d=c.subarray(n,c.length-a),f=i.l,h=(i.r||0)&7;if(t){h&&(d[0]=i.r>>3);for(var m=BI[t-1],g=m>>13,p=m&8191,b=(1<<r)-1,w=i.p||new qi(32768),N=i.h||new qi(b+1),k=Math.ceil(r/3),L=2*k,E=function(Ke){return(e[Ke]^e[Ke+1]<<k^e[Ke+2]<<L)&b},I=new t2(25e3),M=new qi(288),F=new qi(32),R=0,U=0,B=i.i||0,Y=0,C=i.w||0,T=0;B+2<l;++B){var H=E(B),V=B&32767,W=N[H];if(w[V]=W,N[H]=V,C<=B){var pe=l-B;if((R>7e3||Y>24576)&&(pe>423||!f)){h=w5(e,d,0,I,M,F,U,Y,T,B-T,h),Y=R=U=0,T=B;for(var ue=0;ue<286;++ue)M[ue]=0;for(var ue=0;ue<30;++ue)F[ue]=0}var J=2,le=0,me=p,ee=V-W&32767;if(pe>2&&H==E(B-ee))for(var z=Math.min(g,pe)-1,re=Math.min(32767,B),ie=Math.min(258,pe);ee<=re&&--me&&V!=W;){if(e[B+J]==e[B+J-ee]){for(var fe=0;fe<ie&&e[B+fe]==e[B+fe-ee];++fe);if(fe>J){if(J=fe,le=ee,fe>z)break;for(var Z=Math.min(ee,fe-2),de=0,ue=0;ue<Z;++ue){var we=B-ee+ue&32767,ae=w[we],ye=we-ae&32767;ye>de&&(de=ye,W=we)}}}V=W,W=w[V],ee+=V-W&32767}if(le){I[Y++]=268435456|Bb[J]<<18|b5[le];var _e=Bb[J]&31,ke=b5[le]&31;U+=r2[_e]+n2[ke],++M[257+_e],++F[ke],C=B+J,++R}else I[Y++]=e[B],++M[e[B]]}}for(B=Math.max(B,C);B<l;++B)I[Y++]=e[B],++M[e[B]];h=w5(e,d,f,I,M,F,U,Y,T,B-T,h),f||(i.r=h&7|d[h/8|0]<<3,h-=7,i.h=N,i.p=w,i.i=B,i.w=C)}else{for(var B=i.w||0;B<l+f;B+=65535){var qe=B+65535;qe>=l&&(d[h/8|0]=f,qe=l),h=KS(d,h+1,e.subarray(B,qe))}i.i=l}return zI(c,0,n+VS(h)+a)},YS=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,l=0;l!=i;){for(var c=Math.min(l+2655,i);l<c;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},qI=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new Vs(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return UI(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},XS=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},$I=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=YS();a.p(t.dictionary),XS(e,2,a.d())}};function $b(e,t){t||(t={});var r=YS();r.p(e);var n=qI(e,t,t.dictionary?6:2,4);return $I(n,t),XS(n,n.length-4,r.d()),n}var WI=typeof TextDecoder<"u"&&new TextDecoder,HI=0;try{WI.decode(GS,{stream:!0}),HI=1}catch{}function VI(e){if(Array.isArray(e))return e}function KI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return c}}function N5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function GI(e,t){if(e){if(typeof e=="string")return N5(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N5(e,t):void 0}}function YI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j5(e,t){return VI(e)||KI(e,t)||GI(e,t)||YI()}function k5(e,t="utf8"){return new TextDecoder(t).decode(e)}const XI=new TextEncoder;function ZI(e){return XI.encode(e)}const QI=1024*8,JI=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),xg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class a2{constructor(t=QI,r={}){lr(this,"buffer");lr(this,"byteLength");lr(this,"byteOffset");lr(this,"length");lr(this,"offset");lr(this,"lastWrittenByte");lr(this,"littleEndian");lr(this,"_data");lr(this,"_mark");lr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof a2)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=xg[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===JI&&r!=="uint8"&&r!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+n));c.reverse();const d=new xg[r](c.buffer);return this.offset+=n,d.reverse(),d}const l=new xg[r](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return k5(this.readBytes(t))}decodeText(t=1,r="utf8"){return k5(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(ZI(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xd(e){let t=e.length;for(;--t>=0;)e[t]=0}const e7=3,t7=258,ZS=29,r7=256,n7=r7+1+ZS,QS=30,a7=512,i7=new Array((n7+2)*2);Xd(i7);const s7=new Array(QS*2);Xd(s7);const o7=new Array(a7);Xd(o7);const l7=new Array(t7-e7+1);Xd(l7);const c7=new Array(ZS);Xd(c7);const u7=new Array(QS);Xd(u7);const d7=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var Wb=d7;const f7=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},h7=new Uint32Array(f7()),p7=(e,t,r,n)=>{const a=h7,i=n+r;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var bo=p7,Hb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},JS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const m7=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var v7=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)m7(r,n)&&(e[n]=r[n])}}return e},g7=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];r.set(l,a),a+=l.length}return r},e6={assign:v7,flattenChunks:g7};let t6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t6=!1}const oh=new Uint8Array(256);for(let e=0;e<256;e++)oh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;oh[254]=oh[254]=1;var x7=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,l=e.length,c=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(c),i=0,a=0;i<c;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const b7=(e,t)=>{if(t<65534&&e.subarray&&t6)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var y7=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){i[a++]=l;continue}let c=oh[l];if(c>4){i[a++]=65533,n+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&n<r;)l=l<<6|e[n++]&63,c--;if(c>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return b7(i,a)},w7=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+oh[e[r]]>t?r:t},Vb={string2buf:x7,buf2string:y7,utf8border:w7};function N7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var j7=N7;const Dp=16209,k7=16191;var S7=function(t,r){let n,a,i,l,c,d,f,h,m,g,p,b,w,N,k,L,E,I,M,F,R,U,B,Y;const C=t.state;n=t.next_in,B=t.input,a=n+(t.avail_in-5),i=t.next_out,Y=t.output,l=i-(r-t.avail_out),c=i+(t.avail_out-257),d=C.dmax,f=C.wsize,h=C.whave,m=C.wnext,g=C.window,p=C.hold,b=C.bits,w=C.lencode,N=C.distcode,k=(1<<C.lenbits)-1,L=(1<<C.distbits)-1;e:do{b<15&&(p+=B[n++]<<b,b+=8,p+=B[n++]<<b,b+=8),E=w[p&k];t:for(;;){if(I=E>>>24,p>>>=I,b-=I,I=E>>>16&255,I===0)Y[i++]=E&65535;else if(I&16){M=E&65535,I&=15,I&&(b<I&&(p+=B[n++]<<b,b+=8),M+=p&(1<<I)-1,p>>>=I,b-=I),b<15&&(p+=B[n++]<<b,b+=8,p+=B[n++]<<b,b+=8),E=N[p&L];r:for(;;){if(I=E>>>24,p>>>=I,b-=I,I=E>>>16&255,I&16){if(F=E&65535,I&=15,b<I&&(p+=B[n++]<<b,b+=8,b<I&&(p+=B[n++]<<b,b+=8)),F+=p&(1<<I)-1,F>d){t.msg="invalid distance too far back",C.mode=Dp;break e}if(p>>>=I,b-=I,I=i-l,F>I){if(I=F-I,I>h&&C.sane){t.msg="invalid distance too far back",C.mode=Dp;break e}if(R=0,U=g,m===0){if(R+=f-I,I<M){M-=I;do Y[i++]=g[R++];while(--I);R=i-F,U=Y}}else if(m<I){if(R+=f+m-I,I-=m,I<M){M-=I;do Y[i++]=g[R++];while(--I);if(R=0,m<M){I=m,M-=I;do Y[i++]=g[R++];while(--I);R=i-F,U=Y}}}else if(R+=m-I,I<M){M-=I;do Y[i++]=g[R++];while(--I);R=i-F,U=Y}for(;M>2;)Y[i++]=U[R++],Y[i++]=U[R++],Y[i++]=U[R++],M-=3;M&&(Y[i++]=U[R++],M>1&&(Y[i++]=U[R++]))}else{R=i-F;do Y[i++]=Y[R++],Y[i++]=Y[R++],Y[i++]=Y[R++],M-=3;while(M>2);M&&(Y[i++]=Y[R++],M>1&&(Y[i++]=Y[R++]))}}else if((I&64)===0){E=N[(E&65535)+(p&(1<<I)-1)];continue r}else{t.msg="invalid distance code",C.mode=Dp;break e}break}}else if((I&64)===0){E=w[(E&65535)+(p&(1<<I)-1)];continue t}else if(I&32){C.mode=k7;break e}else{t.msg="invalid literal/length code",C.mode=Dp;break e}break}}while(n<a&&i<c);M=b>>3,n-=M,b-=M<<3,p&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<c?257+(c-i):257-(i-c),C.hold=p,C.bits=b};const jd=15,S5=852,A5=592,P5=0,bg=1,C5=2,A7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),P7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),C7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),O7=(e,t,r,n,a,i,l,c)=>{const d=c.bits;let f=0,h=0,m=0,g=0,p=0,b=0,w=0,N=0,k=0,L=0,E,I,M,F,R,U=null,B;const Y=new Uint16Array(jd+1),C=new Uint16Array(jd+1);let T=null,H,V,W;for(f=0;f<=jd;f++)Y[f]=0;for(h=0;h<n;h++)Y[t[r+h]]++;for(p=d,g=jd;g>=1&&Y[g]===0;g--);if(p>g&&(p=g),g===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,c.bits=1,0;for(m=1;m<g&&Y[m]===0;m++);for(p<m&&(p=m),N=1,f=1;f<=jd;f++)if(N<<=1,N-=Y[f],N<0)return-1;if(N>0&&(e===P5||g!==1))return-1;for(C[1]=0,f=1;f<jd;f++)C[f+1]=C[f]+Y[f];for(h=0;h<n;h++)t[r+h]!==0&&(l[C[t[r+h]]++]=h);if(e===P5?(U=T=l,B=20):e===bg?(U=A7,T=P7,B=257):(U=C7,T=_7,B=0),L=0,h=0,f=m,R=i,b=p,w=0,M=-1,k=1<<p,F=k-1,e===bg&&k>S5||e===C5&&k>A5)return 1;for(;;){H=f-w,l[h]+1<B?(V=0,W=l[h]):l[h]>=B?(V=T[l[h]-B],W=U[l[h]-B]):(V=96,W=0),E=1<<f-w,I=1<<b,m=I;do I-=E,a[R+(L>>w)+I]=H<<24|V<<16|W|0;while(I!==0);for(E=1<<f-1;L&E;)E>>=1;if(E!==0?(L&=E-1,L+=E):L=0,h++,--Y[f]===0){if(f===g)break;f=t[r+l[h]]}if(f>p&&(L&F)!==M){for(w===0&&(w=p),R+=m,b=f-w,N=1<<b;b+w<g&&(N-=Y[b+w],!(N<=0));)b++,N<<=1;if(k+=1<<b,e===bg&&k>S5||e===C5&&k>A5)return 1;M=L&F,a[M]=p<<24|b<<16|R-i|0}}return L!==0&&(a[R+L]=f-w<<24|64<<16|0),c.bits=p,0};var nh=O7;const I7=0,r6=1,n6=2,{Z_FINISH:_5,Z_BLOCK:E7,Z_TREES:Tp,Z_OK:Du,Z_STREAM_END:L7,Z_NEED_DICT:D7,Z_STREAM_ERROR:ms,Z_DATA_ERROR:a6,Z_MEM_ERROR:i6,Z_BUF_ERROR:T7,Z_DEFLATED:O5}=JS,Nm=16180,I5=16181,E5=16182,L5=16183,D5=16184,T5=16185,M5=16186,R5=16187,F5=16188,z5=16189,y0=16190,yl=16191,yg=16192,B5=16193,wg=16194,U5=16195,q5=16196,$5=16197,W5=16198,Mp=16199,Rp=16200,H5=16201,V5=16202,K5=16203,G5=16204,Y5=16205,Ng=16206,X5=16207,Z5=16208,Wr=16209,s6=16210,o6=16211,M7=852,R7=592,F7=15,z7=F7,Q5=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function B7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $u=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Nm||t.mode>o6?1:0},l6=e=>{if($u(e))return ms;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Nm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(M7),t.distcode=t.distdyn=new Int32Array(R7),t.sane=1,t.back=-1,Du},c6=e=>{if($u(e))return ms;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,l6(e)},u6=(e,t)=>{let r;if($u(e))return ms;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ms:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,c6(e))},d6=(e,t)=>{if(!e)return ms;const r=new B7;e.state=r,r.strm=e,r.window=null,r.mode=Nm;const n=u6(e,t);return n!==Du&&(e.state=null),n},U7=e=>d6(e,z7);let J5=!0,jg,kg;const q7=e=>{if(J5){jg=new Int32Array(512),kg=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(nh(r6,e.lens,0,288,jg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;nh(n6,e.lens,0,32,kg,0,e.work,{bits:5}),J5=!1}e.lencode=jg,e.lenbits=9,e.distcode=kg,e.distbits=5},f6=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},$7=(e,t)=>{let r,n,a,i,l,c,d,f,h,m,g,p,b,w,N=0,k,L,E,I,M,F,R,U;const B=new Uint8Array(4);let Y,C;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($u(e)||!e.output||!e.input&&e.avail_in!==0)return ms;r=e.state,r.mode===yl&&(r.mode=yg),l=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,n=e.input,c=e.avail_in,f=r.hold,h=r.bits,m=c,g=d,U=Du;e:for(;;)switch(r.mode){case Nm:if(r.wrap===0){r.mode=yg;break}for(;h<16;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=f&255,B[1]=f>>>8&255,r.check=bo(r.check,B,2,0),f=0,h=0,r.mode=I5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=Wr;break}if((f&15)!==O5){e.msg="unknown compression method",r.mode=Wr;break}if(f>>>=4,h-=4,R=(f&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){e.msg="invalid window size",r.mode=Wr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?z5:yl,f=0,h=0;break;case I5:for(;h<16;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if(r.flags=f,(r.flags&255)!==O5){e.msg="unknown compression method",r.mode=Wr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Wr;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=bo(r.check,B,2,0)),f=0,h=0,r.mode=E5;case E5:for(;h<32;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,B[2]=f>>>16&255,B[3]=f>>>24&255,r.check=bo(r.check,B,4,0)),f=0,h=0,r.mode=L5;case L5:for(;h<16;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=bo(r.check,B,2,0)),f=0,h=0,r.mode=D5;case D5:if(r.flags&1024){for(;h<16;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=bo(r.check,B,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=T5;case T5:if(r.flags&1024&&(p=r.length,p>c&&(p=c),p&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),R)),r.flags&512&&r.wrap&4&&(r.check=bo(r.check,n,p,i)),c-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=M5;case M5:if(r.flags&2048){if(c===0)break e;p=0;do R=n[i+p++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&p<c);if(r.flags&512&&r.wrap&4&&(r.check=bo(r.check,n,p,i)),c-=p,i+=p,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=R5;case R5:if(r.flags&4096){if(c===0)break e;p=0;do R=n[i+p++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&p<c);if(r.flags&512&&r.wrap&4&&(r.check=bo(r.check,n,p,i)),c-=p,i+=p,R)break e}else r.head&&(r.head.comment=null);r.mode=F5;case F5:if(r.flags&512){for(;h<16;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Wr;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=yl;break;case z5:for(;h<32;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}e.adler=r.check=Q5(f),f=0,h=0,r.mode=y0;case y0:if(r.havedict===0)return e.next_out=l,e.avail_out=d,e.next_in=i,e.avail_in=c,r.hold=f,r.bits=h,D7;e.adler=r.check=1,r.mode=yl;case yl:if(t===E7||t===Tp)break e;case yg:if(r.last){f>>>=h&7,h-=h&7,r.mode=Ng;break}for(;h<3;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}switch(r.last=f&1,f>>>=1,h-=1,f&3){case 0:r.mode=B5;break;case 1:if(q7(r),r.mode=Mp,t===Tp){f>>>=2,h-=2;break e}break;case 2:r.mode=q5;break;case 3:e.msg="invalid block type",r.mode=Wr}f>>>=2,h-=2;break;case B5:for(f>>>=h&7,h-=h&7;h<32;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Wr;break}if(r.length=f&65535,f=0,h=0,r.mode=wg,t===Tp)break e;case wg:r.mode=U5;case U5:if(p=r.length,p){if(p>c&&(p=c),p>d&&(p=d),p===0)break e;a.set(n.subarray(i,i+p),l),c-=p,i+=p,d-=p,l+=p,r.length-=p;break}r.mode=yl;break;case q5:for(;h<14;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if(r.nlen=(f&31)+257,f>>>=5,h-=5,r.ndist=(f&31)+1,f>>>=5,h-=5,r.ncode=(f&15)+4,f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Wr;break}r.have=0,r.mode=$5;case $5:for(;r.have<r.ncode;){for(;h<3;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}r.lens[T[r.have++]]=f&7,f>>>=3,h-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Y={bits:r.lenbits},U=nh(I7,r.lens,0,19,r.lencode,0,r.work,Y),r.lenbits=Y.bits,U){e.msg="invalid code lengths set",r.mode=Wr;break}r.have=0,r.mode=W5;case W5:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[f&(1<<r.lenbits)-1],k=N>>>24,L=N>>>16&255,E=N&65535,!(k<=h);){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if(E<16)f>>>=k,h-=k,r.lens[r.have++]=E;else{if(E===16){for(C=k+2;h<C;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if(f>>>=k,h-=k,r.have===0){e.msg="invalid bit length repeat",r.mode=Wr;break}R=r.lens[r.have-1],p=3+(f&3),f>>>=2,h-=2}else if(E===17){for(C=k+3;h<C;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}f>>>=k,h-=k,R=0,p=3+(f&7),f>>>=3,h-=3}else{for(C=k+7;h<C;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}f>>>=k,h-=k,R=0,p=11+(f&127),f>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Wr;break}for(;p--;)r.lens[r.have++]=R}}if(r.mode===Wr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Wr;break}if(r.lenbits=9,Y={bits:r.lenbits},U=nh(r6,r.lens,0,r.nlen,r.lencode,0,r.work,Y),r.lenbits=Y.bits,U){e.msg="invalid literal/lengths set",r.mode=Wr;break}if(r.distbits=6,r.distcode=r.distdyn,Y={bits:r.distbits},U=nh(n6,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Y),r.distbits=Y.bits,U){e.msg="invalid distances set",r.mode=Wr;break}if(r.mode=Mp,t===Tp)break e;case Mp:r.mode=Rp;case Rp:if(c>=6&&d>=258){e.next_out=l,e.avail_out=d,e.next_in=i,e.avail_in=c,r.hold=f,r.bits=h,S7(e,g),l=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,n=e.input,c=e.avail_in,f=r.hold,h=r.bits,r.mode===yl&&(r.back=-1);break}for(r.back=0;N=r.lencode[f&(1<<r.lenbits)-1],k=N>>>24,L=N>>>16&255,E=N&65535,!(k<=h);){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if(L&&(L&240)===0){for(I=k,M=L,F=E;N=r.lencode[F+((f&(1<<I+M)-1)>>I)],k=N>>>24,L=N>>>16&255,E=N&65535,!(I+k<=h);){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}f>>>=I,h-=I,r.back+=I}if(f>>>=k,h-=k,r.back+=k,r.length=E,L===0){r.mode=Y5;break}if(L&32){r.back=-1,r.mode=yl;break}if(L&64){e.msg="invalid literal/length code",r.mode=Wr;break}r.extra=L&15,r.mode=H5;case H5:if(r.extra){for(C=r.extra;h<C;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=V5;case V5:for(;N=r.distcode[f&(1<<r.distbits)-1],k=N>>>24,L=N>>>16&255,E=N&65535,!(k<=h);){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if((L&240)===0){for(I=k,M=L,F=E;N=r.distcode[F+((f&(1<<I+M)-1)>>I)],k=N>>>24,L=N>>>16&255,E=N&65535,!(I+k<=h);){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}f>>>=I,h-=I,r.back+=I}if(f>>>=k,h-=k,r.back+=k,L&64){e.msg="invalid distance code",r.mode=Wr;break}r.offset=E,r.extra=L&15,r.mode=K5;case K5:if(r.extra){for(C=r.extra;h<C;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Wr;break}r.mode=G5;case G5:if(d===0)break e;if(p=g-d,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Wr;break}p>r.wnext?(p-=r.wnext,b=r.wsize-p):b=r.wnext-p,p>r.length&&(p=r.length),w=r.window}else w=a,b=l-r.offset,p=r.length;p>d&&(p=d),d-=p,r.length-=p;do a[l++]=w[b++];while(--p);r.length===0&&(r.mode=Rp);break;case Y5:if(d===0)break e;a[l++]=r.length,d--,r.mode=Rp;break;case Ng:if(r.wrap){for(;h<32;){if(c===0)break e;c--,f|=n[i++]<<h,h+=8}if(g-=d,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?bo(r.check,a,g,l-g):Wb(r.check,a,g,l-g)),g=d,r.wrap&4&&(r.flags?f:Q5(f))!==r.check){e.msg="incorrect data check",r.mode=Wr;break}f=0,h=0}r.mode=X5;case X5:if(r.wrap&&r.flags){for(;h<32;){if(c===0)break e;c--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Wr;break}f=0,h=0}r.mode=Z5;case Z5:U=L7;break e;case Wr:U=a6;break e;case s6:return i6;case o6:default:return ms}return e.next_out=l,e.avail_out=d,e.next_in=i,e.avail_in=c,r.hold=f,r.bits=h,(r.wsize||g!==e.avail_out&&r.mode<Wr&&(r.mode<Ng||t!==_5))&&f6(e,e.output,e.next_out,g-e.avail_out),m-=e.avail_in,g-=e.avail_out,e.total_in+=m,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?bo(r.check,a,g,e.next_out-g):Wb(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===yl?128:0)+(r.mode===Mp||r.mode===wg?256:0),(m===0&&g===0||t===_5)&&U===Du&&(U=T7),U},W7=e=>{if($u(e))return ms;let t=e.state;return t.window&&(t.window=null),e.state=null,Du},H7=(e,t)=>{if($u(e))return ms;const r=e.state;return(r.wrap&2)===0?ms:(r.head=t,t.done=!1,Du)},V7=(e,t)=>{const r=t.length;let n,a,i;return $u(e)||(n=e.state,n.wrap!==0&&n.mode!==y0)?ms:n.mode===y0&&(a=1,a=Wb(a,t,r,0),a!==n.check)?a6:(i=f6(e,t,r,r),i?(n.mode=s6,i6):(n.havedict=1,Du))};var K7=c6,G7=u6,Y7=l6,X7=U7,Z7=d6,Q7=$7,J7=W7,eE=H7,tE=V7,rE="pako inflate (from Nodeca project)",wl={inflateReset:K7,inflateReset2:G7,inflateResetKeep:Y7,inflateInit:X7,inflateInit2:Z7,inflate:Q7,inflateEnd:J7,inflateGetHeader:eE,inflateSetDictionary:tE,inflateInfo:rE};function nE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var aE=nE;const h6=Object.prototype.toString,{Z_NO_FLUSH:iE,Z_FINISH:sE,Z_OK:lh,Z_STREAM_END:Sg,Z_NEED_DICT:Ag,Z_STREAM_ERROR:oE,Z_DATA_ERROR:eN,Z_MEM_ERROR:lE}=JS;function Eh(e){this.options=e6.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j7,this.strm.avail_out=0;let r=wl.inflateInit2(this.strm,t.windowBits);if(r!==lh)throw new Error(Hb[r]);if(this.header=new aE,wl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Vb.string2buf(t.dictionary):h6.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=wl.inflateSetDictionary(this.strm,t.dictionary),r!==lh)))throw new Error(Hb[r])}Eh.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,c;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?sE:iE,h6.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=wl.inflate(r,l),i===Ag&&a&&(i=wl.inflateSetDictionary(r,a),i===lh?i=wl.inflate(r,l):i===eN&&(i=Ag));r.avail_in>0&&i===Sg&&r.state.wrap>0&&e[r.next_in]!==0;)wl.inflateReset(r),i=wl.inflate(r,l);switch(i){case oE:case eN:case Ag:case lE:return this.onEnd(i),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||i===Sg))if(this.options.to==="string"){let d=Vb.utf8border(r.output,r.next_out),f=r.next_out-d,h=Vb.buf2string(r.output,d);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(d,d+f),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===lh&&c===0)){if(i===Sg)return i=wl.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Eh.prototype.onData=function(e){this.chunks.push(e)};Eh.prototype.onEnd=function(e){e===lh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e6.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function cE(e,t){const r=new Eh(t);if(r.push(e),r.err)throw r.msg||Hb[r.err];return r.result}var uE=Eh,dE=cE,fE={Inflate:uE,inflate:dE};const{Inflate:hE,inflate:pE}=fE;var tN=hE,mE=pE;const p6=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;p6[e]=t}const rN=4294967295;function vE(e,t,r){let n=e;for(let a=0;a<r;a++)n=p6[(n^t[a])&255]^n>>>8;return n}function gE(e,t){return(vE(rN,e,t)^rN)>>>0}function nN(e,t,r){const n=e.readUint32(),a=gE(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function m6(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function v6(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function g6(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function x6(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function b6(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+xE(t[i-a],r[i],r[i-a])&255}}function xE(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-r);return a<=i&&a<=l?e:i<=l?t:r}function bE(e,t,r,n,a,i){switch(e){case 0:m6(t,r,a);break;case 1:v6(t,r,a,i);break;case 2:g6(t,r,n,a);break;case 3:x6(t,r,n,a,i);break;case 4:b6(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const yE=new Uint16Array([255]),wE=new Uint8Array(yE.buffer),NE=wE[0]===255;function jE(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(i/8)*a,d=new Uint8Array(n*r*c);let f=0;for(let h=0;h<7;h++){const m=l[h],g=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(g<=0||p<=0)continue;const b=g*c,w=new Uint8Array(b);for(let N=0;N<p;N++){const k=t[f++],L=t.subarray(f,f+b);f+=b;const E=new Uint8Array(b);bE(k,L,E,w,b,c),w.set(E);for(let I=0;I<g;I++){const M=m.x+I*m.xStep,F=m.y+N*m.yStep;if(!(M>=r||F>=n))for(let R=0;R<c;R++)d[(F*r+M)*c+R]=E[I*c+R]}}}if(i===16){const h=new Uint16Array(d.buffer);if(NE)for(let m=0;m<h.length;m++)h[m]=kE(h[m]);return h}else return d}function kE(e){return(e&255)<<8|e>>8&255}const SE=new Uint16Array([255]),AE=new Uint8Array(SE.buffer),PE=AE[0]===255,CE=new Uint8Array(0);function aN(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,c=Math.ceil(i/8*a*r),d=new Uint8Array(n*c);let f=CE,h=0,m,g;for(let p=0;p<n;p++){switch(m=t.subarray(h+1,h+1+c),g=d.subarray(p*c,(p+1)*c),t[h]){case 0:m6(m,g,c);break;case 1:v6(m,g,c,l);break;case 2:g6(m,g,f,c);break;case 3:x6(m,g,f,c,l);break;case 4:b6(m,g,f,c,l);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}f=g,h+=c+1}if(i===16){const p=new Uint16Array(d.buffer);if(PE)for(let b=0;b<p.length;b++)p[b]=_E(p[b]);return p}else return d}function _E(e){return(e&255)<<8|e>>8&255}const i0=Uint8Array.of(137,80,78,71,13,10,26,10);function iN(e){if(!OE(e.readBytes(i0.length)))throw new Error("wrong PNG signature")}function OE(e){if(e.length<i0.length)return!1;for(let t=0;t<i0.length;t++)if(e[t]!==i0[t])return!1;return!0}const IE="tEXt",EE=0,y6=new TextDecoder("latin1");function LE(e){if(TE(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const DE=/^[\u0000-\u00FF]*$/;function TE(e){if(!DE.test(e))throw new Error("invalid latin1 text")}function ME(e,t,r){const n=w6(t);e[n]=RE(t,r-n.length-1)}function w6(e){for(e.mark();e.readByte()!==EE;);const t=e.offset;e.reset();const r=y6.decode(e.readBytes(t-e.offset-1));return e.skip(1),LE(r),r}function RE(e,t){return y6.decode(e.readBytes(t))}const Bi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Pg={UNKNOWN:-1,DEFLATE:0},sN={UNKNOWN:-1,ADAPTIVE:0},Cg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Fp={NONE:0,BACKGROUND:1,PREVIOUS:2},_g={SOURCE:0,OVER:1};class FE extends a2{constructor(r,n={}){super(r);lr(this,"_checkCrc");lr(this,"_inflator");lr(this,"_png");lr(this,"_apng");lr(this,"_end");lr(this,"_hasPalette");lr(this,"_palette");lr(this,"_hasTransparency");lr(this,"_transparency");lr(this,"_compressionMethod");lr(this,"_filterMethod");lr(this,"_interlaceMethod");lr(this,"_colorType");lr(this,"_isAnimated");lr(this,"_numberOfFrames");lr(this,"_numberOfPlays");lr(this,"_frames");lr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new tN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Pg.UNKNOWN,this._filterMethod=sN.UNKNOWN,this._interlaceMethod=Cg.UNKNOWN,this._colorType=Bi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(iN(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(iN(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case IE:ME(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nN(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nN(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=zE(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Bi.GREYSCALE:a=1;break;case Bi.TRUECOLOUR:a=3;break;case Bi.INDEXED_COLOUR:a=1;break;case Bi.GREYSCALE_ALPHA:a=2;break;case Bi.TRUECOLOUR_ALPHA:a=4;break;case Bi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Pg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Bi.GREYSCALE:case Bi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Bi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Bi.UNKNOWN:case Bi.GREYSCALE_ALPHA:case Bi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=w6(this),a=this.readUint8();if(a!==Pg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:mE(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=aN({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Fp.NONE:break;case Fp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const c=(i*r.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[c+d]=0}break;case Fp.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(l,c)=>{const d=((l+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,f=(l*n.width+c)*this._png.channels;return{index:d,frameIndex:f}};switch(n.blendOp){case _g.SOURCE:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:f}=i(l,c);for(let h=0;h<this._png.channels;h++)r.data[d+h]=n.data[f+h]}break;case _g.OVER:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:f}=i(l,c);for(let h=0;h<this._png.channels;h++){const m=n.data[f+this._png.channels-1]/a,g=h%(this._png.channels-1)===0?1:n.data[f+h],p=Math.floor(m*g+(1-m)*r.data[d+h]);r.data[d+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==sN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Cg.NO_INTERLACE)this._png.data=aN({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Cg.ADAM7)this._png.data=jE({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Fp.NONE,blendOp:_g.SOURCE,data:r}),this._inflator=new tN,this._writingDataChunks=!1}}function zE(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var oN;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(oN||(oN={}));function BE(e,t){return new FE(e,t).decode()}var It=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Og(){It.console&&typeof It.console.log=="function"&&It.console.log.apply(It.console,arguments)}var Sr={log:Og,warn:function(e){It.console&&(typeof It.console.warn=="function"?It.console.warn.apply(It.console,arguments):Og.call(null,arguments))},error:function(e){It.console&&(typeof It.console.error=="function"?It.console.error.apply(It.console,arguments):Og(e))}};function Ig(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){bu(n.response,t,r)},n.onerror=function(){Sr.error("could not download file")},n.send()}function lN(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function zp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var bu=It.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==It?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=It.URL||It.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?lN(a.href)?Ig(e,t,r):zp(a,a.target="_blank"):zp(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){zp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(lN(e))Ig(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){zp(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:xr(i)!=="object"&&(Sr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Ig(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(It.HTMLElement)||It.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var h=c.result;h=l?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},c.readAsDataURL(e)}else{var d=It.URL||It.webkitURL,f=d.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function N6(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+c+d+f}}var s0=It.atob.bind(It),cN=It.btoa.bind(It);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Eg(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Oa(r,n,a,i,t[0],7,-680876936),i=Oa(i,r,n,a,t[1],12,-389564586),a=Oa(a,i,r,n,t[2],17,606105819),n=Oa(n,a,i,r,t[3],22,-1044525330),r=Oa(r,n,a,i,t[4],7,-176418897),i=Oa(i,r,n,a,t[5],12,1200080426),a=Oa(a,i,r,n,t[6],17,-1473231341),n=Oa(n,a,i,r,t[7],22,-45705983),r=Oa(r,n,a,i,t[8],7,1770035416),i=Oa(i,r,n,a,t[9],12,-1958414417),a=Oa(a,i,r,n,t[10],17,-42063),n=Oa(n,a,i,r,t[11],22,-1990404162),r=Oa(r,n,a,i,t[12],7,1804603682),i=Oa(i,r,n,a,t[13],12,-40341101),a=Oa(a,i,r,n,t[14],17,-1502002290),r=Ia(r,n=Oa(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ia(i,r,n,a,t[6],9,-1069501632),a=Ia(a,i,r,n,t[11],14,643717713),n=Ia(n,a,i,r,t[0],20,-373897302),r=Ia(r,n,a,i,t[5],5,-701558691),i=Ia(i,r,n,a,t[10],9,38016083),a=Ia(a,i,r,n,t[15],14,-660478335),n=Ia(n,a,i,r,t[4],20,-405537848),r=Ia(r,n,a,i,t[9],5,568446438),i=Ia(i,r,n,a,t[14],9,-1019803690),a=Ia(a,i,r,n,t[3],14,-187363961),n=Ia(n,a,i,r,t[8],20,1163531501),r=Ia(r,n,a,i,t[13],5,-1444681467),i=Ia(i,r,n,a,t[2],9,-51403784),a=Ia(a,i,r,n,t[7],14,1735328473),r=Ea(r,n=Ia(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ea(i,r,n,a,t[8],11,-2022574463),a=Ea(a,i,r,n,t[11],16,1839030562),n=Ea(n,a,i,r,t[14],23,-35309556),r=Ea(r,n,a,i,t[1],4,-1530992060),i=Ea(i,r,n,a,t[4],11,1272893353),a=Ea(a,i,r,n,t[7],16,-155497632),n=Ea(n,a,i,r,t[10],23,-1094730640),r=Ea(r,n,a,i,t[13],4,681279174),i=Ea(i,r,n,a,t[0],11,-358537222),a=Ea(a,i,r,n,t[3],16,-722521979),n=Ea(n,a,i,r,t[6],23,76029189),r=Ea(r,n,a,i,t[9],4,-640364487),i=Ea(i,r,n,a,t[12],11,-421815835),a=Ea(a,i,r,n,t[15],16,530742520),r=La(r,n=Ea(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=La(i,r,n,a,t[7],10,1126891415),a=La(a,i,r,n,t[14],15,-1416354905),n=La(n,a,i,r,t[5],21,-57434055),r=La(r,n,a,i,t[12],6,1700485571),i=La(i,r,n,a,t[3],10,-1894986606),a=La(a,i,r,n,t[10],15,-1051523),n=La(n,a,i,r,t[1],21,-2054922799),r=La(r,n,a,i,t[8],6,1873313359),i=La(i,r,n,a,t[15],10,-30611744),a=La(a,i,r,n,t[6],15,-1560198380),n=La(n,a,i,r,t[13],21,1309151649),r=La(r,n,a,i,t[4],6,-145523070),i=La(i,r,n,a,t[11],10,-1120210379),a=La(a,i,r,n,t[2],15,718787259),n=La(n,a,i,r,t[9],21,-343485551),e[0]=Ic(r,e[0]),e[1]=Ic(n,e[1]),e[2]=Ic(a,e[2]),e[3]=Ic(i,e[3])}function jm(e,t,r,n,a,i){return t=Ic(Ic(t,e),Ic(n,i)),Ic(t<<a|t>>>32-a,r)}function Oa(e,t,r,n,a,i,l){return jm(t&r|~t&n,e,t,a,i,l)}function Ia(e,t,r,n,a,i,l){return jm(t&n|r&~n,e,t,a,i,l)}function Ea(e,t,r,n,a,i,l){return jm(t^r^n,e,t,a,i,l)}function La(e,t,r,n,a,i,l){return jm(r^(t|~n),e,t,a,i,l)}function j6(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Eg(n,UE(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Eg(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Eg(n,a),n}function UE(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var uN="0123456789abcdef".split("");function qE(e){for(var t="",r=0;r<4;r++)t+=uN[e>>8*r+4&15]+uN[e>>8*r&15];return t}function $E(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Kb(e){return j6(e).map($E).join("")}var WE=function(e){for(var t=0;t<e.length;t++)e[t]=qE(e[t]);return e.join("")}(j6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ic(e,t){if(WE){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Gb(e,t){var r,n,a,i;if(e!==r){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),c=[],d=0;d<256;d++)c[d]=d;var f=0;for(d=0;d<256;d++){var h=c[d];f=(f+h+l.charCodeAt(d))%256,c[d]=c[f],c[f]=h}r=e,n=c}else c=n;var m=t.length,g=0,p=0,b="";for(d=0;d<m;d++)p=(p+(h=c[g=(g+1)%256]))%256,c[g]=c[p],c[p]=h,l=c[(c[g]+c[p])%256],b+=String.fromCharCode(t.charCodeAt(d)^l);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dN={print:4,modify:8,copy:16,"annot-forms":32};function Id(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(c){if(dN.perm!==void 0)throw new Error("Invalid permission: "+c);a+=dN[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=Kb(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Gb(this.encryptionKey,this.padding)}function Ed(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function fN(e){if(xr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var l=t[r][i];try{l[0].apply(e,n)}catch(c){It.console&&Sr.error("jsPDF PubSub Error",c.message,c)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function w0(e){if(!(this instanceof w0))return new w0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function k6(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ju(e,t,r,n,a){if(!(this instanceof ju))return new ju(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,k6.call(this,n,a)}function Dd(e,t,r,n,a){if(!(this instanceof Dd))return new Dd(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,k6.call(this,n,a)}function ht(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],c=1,d=16,f="S",h=null;xr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),f=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=fN;var b="1.3",w=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(S){b=S};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var k=p.__private__.getPageFormat=function(S){return N[S]};a=a||"a4";var L="compat",E="advanced",I=L;function M(){this.saveGraphicsState(),ne(new wt(Pt,0,0,-Pt,0,li()*Pt).toString()+" cm"),this.setFontSize(this.getFontSize()/Pt),f="n",I=E}function F(){this.restoreGraphicsState(),f="S",I=L}var R=p.__private__.combineFontStyleAndFontWeight=function(S,$){if(S=="bold"&&$=="normal"||S=="bold"&&$==400||S=="normal"&&$=="italic"||S=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(S=$==400||$==="normal"?S==="italic"?"italic":"normal":$!=700&&$!=="bold"||S!=="normal"?($==700?"bold":$)+""+S:"bold"),S};p.advancedAPI=function(S){var $=I===L;return $&&M.call(this),typeof S!="function"||(S(this),$&&F.call(this)),this},p.compatAPI=function(S){var $=I===E;return $&&F.call(this),typeof S!="function"||(S(this),$&&M.call(this)),this},p.isAdvancedAPI=function(){return I===E};var U,B=function(S){if(I!==E)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=p.roundToPrecision=p.__private__.roundToPrecision=function(S,$){var ce=t||$;if(isNaN(S)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ce).replace(/0+$/,"")};U=p.hpf=p.__private__.hpf=typeof d=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,d)}:d==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,16)};var C=p.f2=p.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return Y(S,2)},T=p.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return Y(S,3)},H=p.scale=p.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return I===L?S*Pt:I===E?S:void 0},V=function(S){return H(function($){return I===L?li()-$:I===E?$:void 0}(S))};p.__private__.setPrecision=p.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var W,pe="00000000000000000000000000000000",ue=p.__private__.getFileId=function(){return pe},J=p.__private__.setFileId=function(S){return pe=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(bn=new Id(h.userPermissions,h.userPassword,h.ownerPassword,pe)),pe};p.setFileId=function(S){return J(S),this},p.getFileId=function(){return ue()};var le=p.__private__.convertDateToPDFDate=function(S){var $=S.getTimezoneOffset(),ce=$<0?"+":"-",ve=Math.floor(Math.abs($/60)),je=Math.abs($%60),Me=[ce,ie(ve),"'",ie(je),"'"].join("");return["D:",S.getFullYear(),ie(S.getMonth()+1),ie(S.getDate()),ie(S.getHours()),ie(S.getMinutes()),ie(S.getSeconds()),Me].join("")},me=p.__private__.convertPDFDateToDate=function(S){var $=parseInt(S.substr(2,4),10),ce=parseInt(S.substr(6,2),10)-1,ve=parseInt(S.substr(8,2),10),je=parseInt(S.substr(10,2),10),Me=parseInt(S.substr(12,2),10),ze=parseInt(S.substr(14,2),10);return new Date($,ce,ve,je,Me,ze,0)},ee=p.__private__.setCreationDate=function(S){var $;if(S===void 0&&(S=new Date),S instanceof Date)$=le(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=S}return W=$},z=p.__private__.getCreationDate=function(S){var $=W;return S==="jsDate"&&($=me(W)),$};p.setCreationDate=function(S){return ee(S),this},p.getCreationDate=function(S){return z(S)};var re,ie=p.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},fe=p.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},Z=0,de=[],we=[],ae=0,ye=[],_e=[],ke=!1,qe=we;p.__private__.setCustomOutputDestination=function(S){ke=!0,qe=S};var Ke=function(S){ke||(qe=S)};p.__private__.resetCustomOutputDestination=function(){ke=!1,qe=we};var ne=p.__private__.out=function(S){return S=S.toString(),ae+=S.length+1,qe.push(S),qe},He=p.__private__.write=function(S){return ne(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},ft=p.__private__.getArrayBuffer=function(S){for(var $=S.length,ce=new ArrayBuffer($),ve=new Uint8Array(ce);$--;)ve[$]=S.charCodeAt($);return ce},dt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return dt};var Be=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(S){return Be=I===E?S/Pt:S,this};var pt,Ye=p.__private__.getFontSize=p.getFontSize=function(){return I===L?Be:Be*Pt},xt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(S){return xt=S,this},p.__private__.getR2L=p.getR2L=function(){return xt};var mt,Xt=p.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))pt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');pt=S}else pt=parseInt(S,10)};p.__private__.getZoomMode=function(){return pt};var Ut,Et=p.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');mt=S};p.__private__.getPageMode=function(){return mt};var qt=p.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ut=S};p.__private__.getLayoutMode=function(){return Ut},p.__private__.setDisplayMode=p.setDisplayMode=function(S,$,ce){return Xt(S),qt($),Et(ce),this};var zt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(S){if(Object.keys(zt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zt[S]},p.__private__.getDocumentProperties=function(){return zt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(S){for(var $ in zt)zt.hasOwnProperty($)&&S[$]&&(zt[$]=S[$]);return this},p.__private__.setDocumentProperty=function(S,$){if(Object.keys(zt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zt[S]=$};var st,Pt,it,Gr,Kt,Ft={},Bt={},br=[],vt={},cr={},bt={},_t={},sr=null,Dt=0,yt=[],Zt=new fN(p),Qs=e.hotfixes||[],Ln={},Vi={},ei=[],wt=function S($,ce,ve,je,Me,ze){if(!(this instanceof S))return new S($,ce,ve,je,Me,ze);isNaN($)&&($=1),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=0),isNaN(je)&&(je=1),isNaN(Me)&&(Me=0),isNaN(ze)&&(ze=0),this._matrix=[$,ce,ve,je,Me,ze]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(S)},wt.prototype.multiply=function(S){var $=S.sx*this.sx+S.shy*this.shx,ce=S.sx*this.shy+S.shy*this.sy,ve=S.shx*this.sx+S.sy*this.shx,je=S.shx*this.shy+S.sy*this.sy,Me=S.tx*this.sx+S.ty*this.shx+this.tx,ze=S.tx*this.shy+S.ty*this.sy+this.ty;return new wt($,ce,ve,je,Me,ze)},wt.prototype.decompose=function(){var S=this.sx,$=this.shy,ce=this.shx,ve=this.sy,je=this.tx,Me=this.ty,ze=Math.sqrt(S*S+$*$),tt=(S/=ze)*ce+($/=ze)*ve;ce-=S*tt,ve-=$*tt;var lt=Math.sqrt(ce*ce+ve*ve);return tt/=lt,S*(ve/=lt)<$*(ce/=lt)&&(S=-S,$=-$,tt=-tt,ze=-ze),{scale:new wt(ze,0,0,lt,0,0),translate:new wt(1,0,0,1,je,Me),rotate:new wt(S,$,-$,S,0,0),skew:new wt(1,0,tt,1,0,0)}},wt.prototype.toString=function(S){return this.join(" ")},wt.prototype.inversed=function(){var S=this.sx,$=this.shy,ce=this.shx,ve=this.sy,je=this.tx,Me=this.ty,ze=1/(S*ve-$*ce),tt=ve*ze,lt=-$*ze,Ct=-ce*ze,Lt=S*ze;return new wt(tt,lt,Ct,Lt,-tt*je-Ct*Me,-lt*je-Lt*Me)},wt.prototype.applyToPoint=function(S){var $=S.x*this.sx+S.y*this.shx+this.tx,ce=S.x*this.shy+S.y*this.sy+this.ty;return new ii($,ce)},wt.prototype.applyToRectangle=function(S){var $=this.applyToPoint(S),ce=this.applyToPoint(new ii(S.x+S.w,S.y+S.h));return new Xo($.x,$.y,ce.x-$.x,ce.y-$.y)},wt.prototype.clone=function(){var S=this.sx,$=this.shy,ce=this.shx,ve=this.sy,je=this.tx,Me=this.ty;return new wt(S,$,ce,ve,je,Me)},p.Matrix=wt;var Ma=p.matrixMult=function(S,$){return $.multiply(S)},Si=new wt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Si;var Hn=function(S,$){if(!cr[S]){var ce=($ instanceof ju?"Sh":"P")+(Object.keys(vt).length+1).toString(10);$.id=ce,cr[S]=ce,vt[ce]=$,Zt.publish("addPattern",$)}};p.ShadingPattern=ju,p.TilingPattern=Dd,p.addShadingPattern=function(S,$){return B("addShadingPattern()"),Hn(S,$),this},p.beginTilingPattern=function(S){B("beginTilingPattern()"),si(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},p.endTilingPattern=function(S,$){B("endTilingPattern()"),$.stream=_e[re].join(`
`),Hn(S,$),Zt.publish("endTilingPattern",$),ei.pop().restore()};var ti,yr=p.__private__.newObject=function(){var S=Yr();return sn(S,!0),S},Yr=p.__private__.newObjectDeferred=function(){return Z++,de[Z]=function(){return ae},Z},sn=function(S,$){return $=typeof $=="boolean"&&$,de[S]=ae,$&&ne(S+" 0 obj"),S},ys=p.__private__.newAdditionalObject=function(){var S={objId:Yr(),content:""};return ye.push(S),S},Js=Yr(),Ai=Yr(),Ki=p.__private__.decodeColorString=function(S){var $=S.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length!==5||$[4]!=="k"&&$[4]!=="K"||($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ce=parseFloat($[0]);$=[ce,ce,ce,"r"]}for(var ve="#",je=0;je<3;je++)ve+=("0"+Math.floor(255*parseFloat($[je])).toString(16)).slice(-2);return ve},Dn=p.__private__.encodeColorString=function(S){var $;typeof S=="string"&&(S={ch1:S});var ce=S.ch1,ve=S.ch2,je=S.ch3,Me=S.ch4,ze=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var tt=new N6(ce);if(tt.ok)ce=tt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var lt=parseInt(ce.substr(1),16);ce=lt>>16&255,ve=lt>>8&255,je=255&lt}if(ve===void 0||Me===void 0&&ce===ve&&ve===je)$=typeof ce=="string"?ce+" "+ze[0]:S.precision===2?C(ce/255)+" "+ze[0]:T(ce/255)+" "+ze[0];else if(Me===void 0||xr(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return["1.","1.","1.",ze[1]].join(" ");$=typeof ce=="string"?[ce,ve,je,ze[1]].join(" "):S.precision===2?[C(ce/255),C(ve/255),C(je/255),ze[1]].join(" "):[T(ce/255),T(ve/255),T(je/255),ze[1]].join(" ")}else $=typeof ce=="string"?[ce,ve,je,Me,ze[2]].join(" "):S.precision===2?[C(ce),C(ve),C(je),C(Me),ze[2]].join(" "):[T(ce),T(ve),T(je),T(Me),ze[2]].join(" ");return $},ri=p.__private__.getFilters=function(){return l},Ra=p.__private__.putStream=function(S){var $=(S=S||{}).data||"",ce=S.filters||ri(),ve=S.alreadyAppliedFilters||[],je=S.addLength1||!1,Me=$.length,ze=S.objectId,tt=function(yn){return yn};if(h!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(tt=bn.encryptor(ze,0));var lt={};ce===!0&&(ce=["FlateEncode"]);var Ct=S.additionalKeyValues||[],Lt=(lt=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters($,ce):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(lt.data.length!==0&&(Ct.push({key:"Length",value:lt.data.length}),je===!0&&Ct.push({key:"Length1",value:Me})),Lt.length!=0)if(Lt.split("/").length-1==1)Ct.push({key:"Filter",value:Lt});else{Ct.push({key:"Filter",value:"["+Lt+"]"});for(var Gt=0;Gt<Ct.length;Gt+=1)if(Ct[Gt].key==="DecodeParms"){for(var Tr=[],cn=0;cn<lt.reverseChain.split("/").length-1;cn+=1)Tr.push("null");Tr.push(Ct[Gt].value),Ct[Gt].value="["+Tr.join(" ")+"]"}}ne("<<");for(var wr=0;wr<Ct.length;wr++)ne("/"+Ct[wr].key+" "+Ct[wr].value);ne(">>"),lt.data.length!==0&&(ne("stream"),ne(tt(lt.data)),ne("endstream"))},zo=p.__private__.putPage=function(S){var $=S.number,ce=S.data,ve=S.objId,je=S.contentsObjId;sn(ve,!0),ne("<</Type /Page"),ne("/Parent "+S.rootDictionaryObjId+" 0 R"),ne("/Resources "+S.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(U(S.mediaBox.bottomLeftX))+" "+parseFloat(U(S.mediaBox.bottomLeftY))+" "+U(S.mediaBox.topRightX)+" "+U(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ne("/CropBox ["+U(S.cropBox.bottomLeftX)+" "+U(S.cropBox.bottomLeftY)+" "+U(S.cropBox.topRightX)+" "+U(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ne("/BleedBox ["+U(S.bleedBox.bottomLeftX)+" "+U(S.bleedBox.bottomLeftY)+" "+U(S.bleedBox.topRightX)+" "+U(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ne("/TrimBox ["+U(S.trimBox.bottomLeftX)+" "+U(S.trimBox.bottomLeftY)+" "+U(S.trimBox.topRightX)+" "+U(S.trimBox.topRightY)+"]"),S.artBox!==null&&ne("/ArtBox ["+U(S.artBox.bottomLeftX)+" "+U(S.artBox.bottomLeftY)+" "+U(S.artBox.topRightX)+" "+U(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ne("/UserUnit "+S.userUnit),Zt.publish("putPage",{objId:ve,pageContext:yt[$],pageNumber:$,page:ce}),ne("/Contents "+je+" 0 R"),ne(">>"),ne("endobj");var Me=ce.join(`
`);return I===E&&(Me+=`
Q`),sn(je,!0),Ra({data:Me,filters:ri(),objectId:je}),ne("endobj"),ve},Pi=p.__private__.putPages=function(){var S,$,ce=[];for(S=1;S<=Dt;S++)yt[S].objId=Yr(),yt[S].contentsObjId=Yr();for(S=1;S<=Dt;S++)ce.push(zo({number:S,data:_e[S],objId:yt[S].objId,contentsObjId:yt[S].contentsObjId,mediaBox:yt[S].mediaBox,cropBox:yt[S].cropBox,bleedBox:yt[S].bleedBox,trimBox:yt[S].trimBox,artBox:yt[S].artBox,userUnit:yt[S].userUnit,rootDictionaryObjId:Js,resourceDictionaryObjId:Ai}));sn(Js,!0),ne("<</Type /Pages");var ve="/Kids [";for($=0;$<Dt;$++)ve+=ce[$]+" 0 R ";ne(ve+"]"),ne("/Count "+Dt),ne(">>"),ne("endobj"),Zt.publish("postPutPages")},eo=function(S){Zt.publish("putFont",{font:S,out:ne,newObject:yr,putStream:Ra}),S.isAlreadyPutted!==!0&&(S.objectNumber=yr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Ed(S.postScriptName)),ne("/Subtype /Type1"),typeof S.encoding=="string"&&ne("/Encoding /"+S.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Bo=function(S){S.objectNumber=yr();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[U(S.x),U(S.y),U(S.x+S.width),U(S.y+S.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ce=S.pages[1].join(`
`);Ra({data:ce,additionalKeyValues:$,objectId:S.objectNumber}),ne("endobj")},Uo=function(S,$){$||($=21);var ce=yr(),ve=function(ze,tt){var lt,Ct=[],Lt=1/(tt-1);for(lt=0;lt<1;lt+=Lt)Ct.push(lt);if(Ct.push(1),ze[0].offset!=0){var Gt={offset:0,color:ze[0].color};ze.unshift(Gt)}if(ze[ze.length-1].offset!=1){var Tr={offset:1,color:ze[ze.length-1].color};ze.push(Tr)}for(var cn="",wr=0,yn=0;yn<Ct.length;yn++){for(lt=Ct[yn];lt>ze[wr+1].offset;)wr++;var Xr=ze[wr].offset,Tn=(lt-Xr)/(ze[wr+1].offset-Xr),js=ze[wr].color,Oi=ze[wr+1].color;cn+=fe(Math.round((1-Tn)*js[0]+Tn*Oi[0]).toString(16))+fe(Math.round((1-Tn)*js[1]+Tn*Oi[1]).toString(16))+fe(Math.round((1-Tn)*js[2]+Tn*Oi[2]).toString(16))}return cn.trim()}(S.colors,$),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+$+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ra({data:ve,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),ne("endobj"),S.objectNumber=yr(),ne("<< /ShadingType "+S.type),ne("/ColorSpace /DeviceRGB");var Me="/Coords ["+U(parseFloat(S.coords[0]))+" "+U(parseFloat(S.coords[1]))+" ";S.type===2?Me+=U(parseFloat(S.coords[2]))+" "+U(parseFloat(S.coords[3])):Me+=U(parseFloat(S.coords[2]))+" "+U(parseFloat(S.coords[3]))+" "+U(parseFloat(S.coords[4]))+" "+U(parseFloat(S.coords[5])),ne(Me+="]"),S.matrix&&ne("/Matrix ["+S.matrix.toString()+"]"),ne("/Function "+ce+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Hl=function(S,$){var ce=Yr(),ve=yr();$.push({resourcesOid:ce,objectOid:ve}),S.objectNumber=ve;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+S.boundingBox.map(U).join(" ")+"]"}),je.push({key:"XStep",value:U(S.xStep)}),je.push({key:"YStep",value:U(S.yStep)}),je.push({key:"Resources",value:ce+" 0 R"}),S.matrix&&je.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Ra({data:S.stream,additionalKeyValues:je,objectId:S.objectNumber}),ne("endobj")},cf=function(S){for(var $ in S.objectNumber=yr(),ne("<<"),S)switch($){case"opacity":ne("/ca "+C(S[$]));break;case"stroke-opacity":ne("/CA "+C(S[$]))}ne(">>"),ne("endobj")},jr=function(S){sn(S.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var $ in ne("/Font <<"),Ft)Ft.hasOwnProperty($)&&(m===!1||m===!0&&g.hasOwnProperty($))&&ne("/"+$+" "+Ft[$].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(vt).length>0){for(var $ in ne("/Shading <<"),vt)vt.hasOwnProperty($)&&vt[$]instanceof ju&&vt[$].objectNumber>=0&&ne("/"+$+" "+vt[$].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),ne(">>")}}(),function($){if(Object.keys(vt).length>0){for(var ce in ne("/Pattern <<"),vt)vt.hasOwnProperty(ce)&&vt[ce]instanceof p.TilingPattern&&vt[ce].objectNumber>=0&&vt[ce].objectNumber<$&&ne("/"+ce+" "+vt[ce].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),ne(">>")}}(S.objectOid),function(){if(Object.keys(bt).length>0){var $;for($ in ne("/ExtGState <<"),bt)bt.hasOwnProperty($)&&bt[$].objectNumber>=0&&ne("/"+$+" "+bt[$].objectNumber+" 0 R");Zt.publish("putGStateDict"),ne(">>")}}(),function(){for(var $ in ne("/XObject <<"),Ln)Ln.hasOwnProperty($)&&Ln[$].objectNumber>=0&&ne("/"+$+" "+Ln[$].objectNumber+" 0 R");Zt.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},Ku=function(S){Bt[S.fontName]=Bt[S.fontName]||{},Bt[S.fontName][S.fontStyle]=S.id},Vl=function(S,$,ce,ve,je){var Me={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:S,fontName:$,fontStyle:ce,encoding:ve,isStandardFont:je||!1,metadata:{}};return Zt.publish("addFont",{font:Me,instance:this}),Ft[Me.id]=Me,Ku(Me),Me.id},Fa=p.__private__.pdfEscape=p.pdfEscape=function(S,$){return function(ce,ve){var je,Me,ze,tt,lt,Ct,Lt,Gt,Tr;if(ze=(ve=ve||{}).sourceEncoding||"Unicode",lt=ve.outputEncoding,(ve.autoencode||lt)&&Ft[st].metadata&&Ft[st].metadata[ze]&&Ft[st].metadata[ze].encoding&&(tt=Ft[st].metadata[ze].encoding,!lt&&Ft[st].encoding&&(lt=Ft[st].encoding),!lt&&tt.codePages&&(lt=tt.codePages[0]),typeof lt=="string"&&(lt=tt[lt]),lt)){for(Lt=!1,Ct=[],je=0,Me=ce.length;je<Me;je++)(Gt=lt[ce.charCodeAt(je)])?Ct.push(String.fromCharCode(Gt)):Ct.push(ce[je]),Ct[je].charCodeAt(0)>>8&&(Lt=!0);ce=Ct.join("")}for(je=ce.length;Lt===void 0&&je!==0;)ce.charCodeAt(je-1)>>8&&(Lt=!0),je--;if(!Lt)return ce;for(Ct=ve.noBOM?[]:[254,255],je=0,Me=ce.length;je<Me;je++){if((Tr=(Gt=ce.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push(Tr),Ct.push(Gt-(Tr<<8))}return String.fromCharCode.apply(void 0,Ct)}(S,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},to=p.__private__.beginPage=function(S){_e[++Dt]=[],yt[Dt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},qo(Dt),Ke(_e[re])},Gu=function(S,$){var ce,ve,je;switch(r=$||r,typeof S=="string"&&(ce=k(S.toLowerCase()),Array.isArray(ce)&&(ve=ce[0],je=ce[1])),Array.isArray(S)&&(ve=S[0]*Pt,je=S[1]*Pt),isNaN(ve)&&(ve=a[0],je=a[1]),(ve>14400||je>14400)&&(Sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),je=Math.min(14400,je)),a=[ve,je],r.substr(0,1)){case"l":je>ve&&(a=[je,ve]);break;case"p":ve>je&&(a=[je,ve])}to(a),St(ai),ne(Go),Hc!==0&&ne(Hc+" J"),Vc!==0&&ne(Vc+" j"),Zt.publish("addPage",{pageNumber:Dt})},Kl=function(S){S>0&&S<=Dt&&(_e.splice(S,1),yt.splice(S,1),Dt--,re>Dt&&(re=Dt),this.setPage(re))},qo=function(S){S>0&&S<=Dt&&(re=S)},za=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return _e.length-1},Yu=function(S,$,ce){var ve,je=void 0;return ce=ce||{},S=S!==void 0?S:Ft[st].fontName,$=$!==void 0?$:Ft[st].fontStyle,ve=S.toLowerCase(),Bt[ve]!==void 0&&Bt[ve][$]!==void 0?je=Bt[ve][$]:Bt[S]!==void 0&&Bt[S][$]!==void 0?je=Bt[S][$]:ce.disableWarning===!1&&Sr.warn("Unable to look up font label for font '"+S+"', '"+$+"'. Refer to getFontList() for available fonts."),je||ce.noFallback||(je=Bt.times[$])==null&&(je=Bt.times.normal),je},on=p.__private__.putInfo=function(){var S=yr(),$=function(ve){return ve};for(var ce in h!==null&&($=bn.encryptor(S,0)),ne("<<"),ne("/Producer ("+Fa($("jsPDF "+ht.version))+")"),zt)zt.hasOwnProperty(ce)&&zt[ce]&&ne("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+Fa($(zt[ce]))+")");ne("/CreationDate ("+Fa($(W))+")"),ne(">>"),ne("endobj")},Gl=p.__private__.putCatalog=function(S){var $=(S=S||{}).rootDictionaryObjId||Js;switch(yr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+$+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+pt;ce.substr(ce.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+C(pt)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}mt&&ne("/PageMode /"+mt),Zt.publish("putCatalog"),ne(">>"),ne("endobj")},uf=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(Z+1)),ne("/Root "+Z+" 0 R"),ne("/Info "+(Z-1)+" 0 R"),h!==null&&ne("/Encrypt "+bn.oid+" 0 R"),ne("/ID [ <"+pe+"> <"+pe+"> ]"),ne(">>")},ln=p.__private__.putHeader=function(){ne("%PDF-"+b),ne("%")},$o=p.__private__.putXRef=function(){var S="0000000000";ne("xref"),ne("0 "+(Z+1)),ne("0000000000 65535 f ");for(var $=1;$<=Z;$++)typeof de[$]=="function"?ne((S+de[$]()).slice(-10)+" 00000 n "):de[$]!==void 0?ne((S+de[$]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Ba=p.__private__.buildDocument=function(){var S;Z=0,ae=0,we=[],de=[],ye=[],Js=Yr(),Ai=Yr(),Ke(we),Zt.publish("buildDocument"),ln(),Pi(),function(){Zt.publish("putAdditionalObjects");for(var ce=0;ce<ye.length;ce++){var ve=ye[ce];sn(ve.objId,!0),ne(ve.content),ne("endobj")}Zt.publish("postPutAdditionalObjects")}(),S=[],function(){for(var ce in Ft)Ft.hasOwnProperty(ce)&&(m===!1||m===!0&&g.hasOwnProperty(ce))&&eo(Ft[ce])}(),function(){var ce;for(ce in bt)bt.hasOwnProperty(ce)&&cf(bt[ce])}(),function(){for(var ce in Ln)Ln.hasOwnProperty(ce)&&Bo(Ln[ce])}(),function(ce){var ve;for(ve in vt)vt.hasOwnProperty(ve)&&(vt[ve]instanceof ju?Uo(vt[ve]):vt[ve]instanceof Dd&&Hl(vt[ve],ce))}(S),Zt.publish("putResources"),S.forEach(jr),jr({resourcesOid:Ai,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources"),h!==null&&(bn.oid=yr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+bn.v),ne("/R "+bn.r),ne("/U <"+bn.toHexString(bn.U)+">"),ne("/O <"+bn.toHexString(bn.O)+">"),ne("/P "+bn.P),ne(">>"),ne("endobj")),on(),Gl();var $=ae;return $o(),uf(),ne("startxref"),ne(""+$),ne("%%EOF"),Ke(_e[re]),we.join(`
`)},Gi=p.__private__.getBlob=function(S){return new Blob([ft(S)],{type:"application/pdf"})},Wo=p.output=p.__private__.output=(ti=function(S,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",S){case void 0:return Ba();case"save":p.save($.filename);break;case"arraybuffer":return ft(Ba());case"blob":return Gi(Ba());case"bloburi":case"bloburl":if(It.URL!==void 0&&typeof It.URL.createObjectURL=="function")return It.URL&&It.URL.createObjectURL(Gi(Ba()))||void 0;Sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ve=Ba();try{ce=cN(ve)}catch{ce=cN(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+$.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(je=$.pdfObjectUrl,Me="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",tt=It.open();return tt!==null&&tt.document.write(ze),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',Ct=It.open();if(Ct!==null){Ct.document.write(lt);var Lt=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=$.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(It)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',Tr=It.open();if(Tr!==null&&(Tr.document.write(Gt),Tr.document.title=$.filename),Tr||typeof safari>"u")return Tr;break;case"datauri":case"dataurl":return It.document.location.href=this.output("datauristring",$);default:return null}},ti.foo=function(){try{return ti.apply(this,arguments)}catch(ce){var S=ce.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var $="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ce.message;if(!It.console)throw new Error($);It.console.error($,ce),It.alert&&alert($)}},ti.foo.bar=ti,ti.foo),ni=function(S){return Array.isArray(Qs)===!0&&Qs.indexOf(S)>-1};switch(n){case"pt":Pt=1;break;case"mm":Pt=72/25.4;break;case"cm":Pt=72/2.54;break;case"in":Pt=72;break;case"px":Pt=ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pt=12;break;case"ex":Pt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Pt=n}var bn=null;ee(),J();var Ci=p.__private__.getPageInfo=p.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[S].objId,pageNumber:S,pageContext:yt[S]}},Uc=p.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in yt)if(yt[$].objId===S)break;return Ci($)},qc=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:yt[re].objId,pageNumber:re,pageContext:yt[re]}};p.addPage=function(){return Gu.apply(this,arguments),this},p.setPage=function(){return qo.apply(this,arguments),Ke.call(this,_e[re]),this},p.insertPage=function(S){return this.addPage(),this.movePage(re,S),this},p.movePage=function(S,$){var ce,ve;if(S>$){ce=_e[S],ve=yt[S];for(var je=S;je>$;je--)_e[je]=_e[je-1],yt[je]=yt[je-1];_e[$]=ce,yt[$]=ve,this.setPage($)}else if(S<$){ce=_e[S],ve=yt[S];for(var Me=S;Me<$;Me++)_e[Me]=_e[Me+1],yt[Me]=yt[Me+1];_e[$]=ce,yt[$]=ve,this.setPage($)}return this},p.deletePage=function(){return Kl.apply(this,arguments),this},p.__private__.text=p.text=function(S,$,ce,ve,je){var Me,ze,tt,lt,Ct,Lt,Gt,Tr,cn,wr=(ve=ve||{}).scope||this;if(typeof S=="number"&&typeof $=="number"&&(typeof ce=="string"||Array.isArray(ce))){var yn=ce;ce=$,$=S,S=yn}if(arguments[3]instanceof wt==0?(tt=arguments[4],lt=arguments[5],xr(Gt=arguments[3])==="object"&&Gt!==null||(typeof tt=="string"&&(lt=tt,tt=null),typeof Gt=="string"&&(lt=Gt,Gt=null),typeof Gt=="number"&&(tt=Gt,Gt=null),ve={flags:Gt,angle:tt,align:lt})):(B("The transform parameter of text() with a Matrix value"),cn=je),isNaN($)||isNaN(ce)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return wr;var Xr,Tn="",js=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:ya,Oi=wr.internal.scaleFactor;function ks(Qt){return Qt=Qt.split("	").join(Array(ve.TabLen||9).join(" ")),Fa(Qt,Gt)}function Jo(Qt){for(var ur,Br=Qt.concat(),un=[],Li=Br.length;Li--;)typeof(ur=Br.shift())=="string"?un.push(ur):Array.isArray(Qt)&&(ur.length===1||ur[1]===void 0&&ur[2]===void 0)?un.push(ur[0]):un.push([ur[0],ur[1],ur[2]]);return un}function rc(Qt,ur){var Br;if(typeof Qt=="string")Br=ur(Qt)[0];else if(Array.isArray(Qt)){for(var un,Li,Xc=Qt.concat(),oc=[],_s=Xc.length;_s--;)typeof(un=Xc.shift())=="string"?oc.push(ur(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&(Li=ur(un[0],un[1],un[2]),oc.push([Li[0],Li[1],Li[2]]));Br=oc}return Br}var ao=!1,el=!0;if(typeof S=="string")ao=!0;else if(Array.isArray(S)){var io=S.concat();ze=[];for(var so,Mn=io.length;Mn--;)(typeof(so=io.shift())!="string"||Array.isArray(so)&&typeof so[0]!="string")&&(el=!1);ao=el}if(ao===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var tl=Be/wr.internal.scaleFactor,rl=tl*(js-1);switch(ve.baseline){case"bottom":ce-=rl;break;case"top":ce+=tl-rl;break;case"hanging":ce+=tl-2*rl;break;case"middle":ce+=tl/2-rl}if((Lt=ve.maxWidth||0)>0&&(typeof S=="string"?S=wr.splitTextToSize(S,Lt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Qt,ur){return Qt.concat(wr.splitTextToSize(ur,Lt))},[]))),Me={text:S,x:$,y:ce,options:ve,mutex:{pdfEscape:Fa,activeFontKey:st,fonts:Ft,activeFontSize:Be}},Zt.publish("preProcessText",Me),S=Me.text,tt=(ve=Me.options).angle,cn instanceof wt==0&&tt&&typeof tt=="number"){tt*=Math.PI/180,ve.rotationDirection===0&&(tt=-tt),I===E&&(tt=-tt);var Gc=Math.cos(tt),Yc=Math.sin(tt);cn=new wt(Gc,Yc,-Yc,Gc,0,0)}else tt&&tt instanceof wt&&(cn=tt);I!==E||cn||(cn=Si),(Ct=ve.charSpace||wa)!==void 0&&(Tn+=U(H(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tr=ve.horizontalScale)!==void 0&&(Tn+=U(100*Tr)+` Tz
`),ve.lang;var la=-1,Ii=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Ji=wr.internal.getCurrentPageInfo().pageContext;switch(Ii){case 0:case!1:case"fill":la=0;break;case 1:case!0:case"stroke":la=1;break;case 2:case"fillThenStroke":la=2;break;case 3:case"invisible":la=3;break;case 4:case"fillAndAddForClipping":la=4;break;case 5:case"strokeAndAddPathForClipping":la=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":la=6;break;case 7:case"addToPathForClipping":la=7}var ed=Ji.usedRenderingMode!==void 0?Ji.usedRenderingMode:-1;la!==-1?Tn+=la+` Tr
`:ed!==-1&&(Tn+=`0 Tr
`),la!==-1&&(Ji.usedRenderingMode=la),lt=ve.align||"left";var qa,oo=Be*js,nc=wr.internal.pageSize.getWidth(),ac=Ft[st];Ct=ve.charSpace||wa,Lt=ve.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Ss=[],ci=function(Qt){return wr.getStringUnitWidth(Qt,{font:ac,charSpace:Ct,fontSize:Be,doKerning:!1})*Be/Oi};if(Object.prototype.toString.call(S)==="[object Array]"){var $a;ze=Jo(S),lt!=="left"&&(qa=ze.map(ci));var Wa,lo=0;if(lt==="right"){$-=qa[0],S=[],Mn=ze.length;for(var es=0;es<Mn;es++)es===0?(Wa=Ua($),$a=ws(ce)):(Wa=H(lo-qa[es]),$a=-oo),S.push([ze[es],Wa,$a]),lo=qa[es]}else if(lt==="center"){$-=qa[0]/2,S=[],Mn=ze.length;for(var As=0;As<Mn;As++)As===0?(Wa=Ua($),$a=ws(ce)):(Wa=H((lo-qa[As])/2),$a=-oo),S.push([ze[As],Wa,$a]),lo=qa[As]}else if(lt==="left"){S=[],Mn=ze.length;for(var Ps=0;Ps<Mn;Ps++)S.push(ze[Ps])}else if(lt==="justify"&&ac.encoding==="Identity-H"){S=[],Mn=ze.length,Lt=Lt!==0?Lt:nc;for(var ts=0,Zr=0;Zr<Mn;Zr++)if($a=Zr===0?ws(ce):-oo,Wa=Zr===0?Ua($):ts,Zr<Mn-1){var nl=H((Lt-qa[Zr])/(ze[Zr].split(" ").length-1)),rs=ze[Zr].split(" ");S.push([rs[0]+" ",Wa,$a]),ts=0;for(var Ei=1;Ei<rs.length;Ei++){var al=(ci(rs[Ei-1]+" "+rs[Ei])-ci(rs[Ei]))*Oi+nl;Ei==rs.length-1?S.push([rs[Ei],al,0]):S.push([rs[Ei]+" ",al,0]),ts-=al}}else S.push([ze[Zr],Wa,$a]);S.push(["",ts,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Mn=ze.length,Lt=Lt!==0?Lt:nc,Zr=0;Zr<Mn;Zr++){$a=Zr===0?ws(ce):-oo,Wa=Zr===0?Ua($):0;var il=ze[Zr].split(" ").length-1,ic=il>0?(Lt-qa[Zr])/il:0;Zr<Mn-1?Ss.push(U(H(ic))):Ss.push(0),S.push([ze[Zr],Wa,$a])}}}(typeof ve.R2L=="boolean"?ve.R2L:xt)===!0&&(S=rc(S,function(Qt,ur,Br){return[Qt.split("").reverse().join(""),ur,Br]})),Me={text:S,x:$,y:ce,options:ve,mutex:{pdfEscape:Fa,activeFontKey:st,fonts:Ft,activeFontSize:Be}},Zt.publish("postProcessText",Me),S=Me.text,Xr=Me.mutex.isHex||!1;var sc=Ft[st].encoding;sc!=="WinAnsiEncoding"&&sc!=="StandardEncoding"||(S=rc(S,function(Qt,ur,Br){return[ks(Qt),ur,Br]})),ze=Jo(S),S=[];for(var Cs,co,uo,sl=Array.isArray(ze[0])?1:0,fo="",ol=function(Qt,ur,Br){var un="";return Br instanceof wt?(Br=typeof ve.angle=="number"?Ma(Br,new wt(1,0,0,1,Qt,ur)):Ma(new wt(1,0,0,1,Qt,ur),Br),I===E&&(Br=Ma(new wt(1,0,0,-1,0,0),Br)),un=Br.join(" ")+` Tm
`):un=U(Qt)+" "+U(ur)+` Td
`,un},zr=0;zr<ze.length;zr++){switch(fo="",sl){case 1:uo=(Xr?"<":"(")+ze[zr][0]+(Xr?">":")"),Cs=parseFloat(ze[zr][1]),co=parseFloat(ze[zr][2]);break;case 0:uo=(Xr?"<":"(")+ze[zr]+(Xr?">":")"),Cs=Ua($),co=ws(ce)}Ss!==void 0&&Ss[zr]!==void 0&&(fo=Ss[zr]+` Tw
`),zr===0?S.push(fo+ol(Cs,co,cn)+uo):sl===0?S.push(fo+uo):sl===1&&S.push(fo+ol(Cs,co,cn)+uo)}S=sl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Na=`BT
/`;return Na+=st+" "+Be+` Tf
`,Na+=U(Be*js)+` TL
`,Na+=_i+`
`,Na+=Tn,Na+=S,ne(Na+="ET"),g[st]=!0,wr};var Ho=p.__private__.clip=p.clip=function(S){return ne(S==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ho("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Yi=p.__private__.isValidStyle=function(S){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&($=!0),$};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(S){return Yi(S)&&(f=S),this};var Yl=p.__private__.getStyle=p.getStyle=function(S){var $=f;switch(S){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=S}return $},Yt=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(S){return Vo("f",S),this},p.fillEvenOdd=function(S){return Vo("f*",S),this},p.fillStroke=function(S){return Vo("B",S),this},p.fillStrokeEvenOdd=function(S){return Vo("B*",S),this};var Vo=function(S,$){xr($)==="object"?Xu($,S):ne(S)},ro=function(S){S===null||I===E&&S===void 0||(S=Yl(S),ne(S))};function $c(S,$,ce,ve,je){var Me=new Dd($||this.boundingBox,ce||this.xStep,ve||this.yStep,this.gState,je||this.matrix);Me.stream=this.stream;var ze=S+"$$"+this.cloneIndex+++"$$";return Hn(ze,Me),Me}var Xu=function(S,$){var ce=cr[S.key],ve=vt[ce];if(ve instanceof ju)ne("q"),ne(Zu($)),ve.gState&&p.setGState(ve.gState),ne(S.matrix.toString()+" cm"),ne("/"+ce+" sh"),ne("Q");else if(ve instanceof Dd){var je=new wt(1,0,0,-1,0,li());S.matrix&&(je=je.multiply(S.matrix||Si),ce=$c.call(ve,S.key,S.boundingBox,S.xStep,S.yStep,je).id),ne("q"),ne("/Pattern cs"),ne("/"+ce+" scn"),ve.gState&&p.setGState(ve.gState),ne($),ne("Q")}},Zu=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xl=p.moveTo=function(S,$){return ne(U(H(S))+" "+U(V($))+" m"),this},Zl=p.lineTo=function(S,$){return ne(U(H(S))+" "+U(V($))+" l"),this},ba=p.curveTo=function(S,$,ce,ve,je,Me){return ne([U(H(S)),U(V($)),U(H(ce)),U(V(ve)),U(H(je)),U(V(Me)),"c"].join(" ")),this};p.__private__.line=p.line=function(S,$,ce,ve,je){if(isNaN(S)||isNaN($)||isNaN(ce)||isNaN(ve)||!Yi(je))throw new Error("Invalid arguments passed to jsPDF.line");return I===L?this.lines([[ce-S,ve-$]],S,$,[1,1],je||"S"):this.lines([[ce-S,ve-$]],S,$,[1,1]).stroke()},p.__private__.lines=p.lines=function(S,$,ce,ve,je,Me){var ze,tt,lt,Ct,Lt,Gt,Tr,cn,wr,yn,Xr,Tn;if(typeof S=="number"&&(Tn=ce,ce=$,$=S,S=Tn),ve=ve||[1,1],Me=Me||!1,isNaN($)||isNaN(ce)||!Array.isArray(S)||!Array.isArray(ve)||!Yi(je)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xl($,ce),ze=ve[0],tt=ve[1],Ct=S.length,yn=$,Xr=ce,lt=0;lt<Ct;lt++)(Lt=S[lt]).length===2?(yn=Lt[0]*ze+yn,Xr=Lt[1]*tt+Xr,Zl(yn,Xr)):(Gt=Lt[0]*ze+yn,Tr=Lt[1]*tt+Xr,cn=Lt[2]*ze+yn,wr=Lt[3]*tt+Xr,yn=Lt[4]*ze+yn,Xr=Lt[5]*tt+Xr,ba(Gt,Tr,cn,wr,yn,Xr));return Me&&Yt(),ro(je),this},p.path=function(S){for(var $=0;$<S.length;$++){var ce=S[$],ve=ce.c;switch(ce.op){case"m":Xl(ve[0],ve[1]);break;case"l":Zl(ve[0],ve[1]);break;case"c":ba.apply(this,ve);break;case"h":Yt()}}return this},p.__private__.rect=p.rect=function(S,$,ce,ve,je){if(isNaN(S)||isNaN($)||isNaN(ce)||isNaN(ve)||!Yi(je))throw new Error("Invalid arguments passed to jsPDF.rect");return I===L&&(ve=-ve),ne([U(H(S)),U(V($)),U(H(ce)),U(H(ve)),"re"].join(" ")),ro(je),this},p.__private__.triangle=p.triangle=function(S,$,ce,ve,je,Me,ze){if(isNaN(S)||isNaN($)||isNaN(ce)||isNaN(ve)||isNaN(je)||isNaN(Me)||!Yi(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-S,ve-$],[je-ce,Me-ve],[S-je,$-Me]],S,$,[1,1],ze,!0),this},p.__private__.roundedRect=p.roundedRect=function(S,$,ce,ve,je,Me,ze){if(isNaN(S)||isNaN($)||isNaN(ce)||isNaN(ve)||isNaN(je)||isNaN(Me)||!Yi(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*ce),Me=Math.min(Me,.5*ve),this.lines([[ce-2*je,0],[je*tt,0,je,Me-Me*tt,je,Me],[0,ve-2*Me],[0,Me*tt,-je*tt,Me,-je,Me],[2*je-ce,0],[-je*tt,0,-je,-Me*tt,-je,-Me],[0,2*Me-ve],[0,-Me*tt,je*tt,-Me,je,-Me]],S+je,$,[1,1],ze,!0),this},p.__private__.ellipse=p.ellipse=function(S,$,ce,ve,je){if(isNaN(S)||isNaN($)||isNaN(ce)||isNaN(ve)||!Yi(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*ce,ze=4/3*(Math.SQRT2-1)*ve;return Xl(S+ce,$),ba(S+ce,$-ze,S+Me,$-ve,S,$-ve),ba(S-Me,$-ve,S-ce,$-ze,S-ce,$),ba(S-ce,$+ze,S-Me,$+ve,S,$+ve),ba(S+Me,$+ve,S+ce,$+ze,S+ce,$),ro(je),this},p.__private__.circle=p.circle=function(S,$,ce,ve){if(isNaN(S)||isNaN($)||isNaN(ce)||!Yi(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,$,ce,ce,ve)},p.setFont=function(S,$,ce){return ce&&($=R($,ce)),st=Yu(S,$,{disableWarning:!1}),this};var Xi=p.__private__.getFont=p.getFont=function(){return Ft[Yu.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var S,$,ce={};for(S in Bt)if(Bt.hasOwnProperty(S))for($ in ce[S]=[],Bt[S])Bt[S].hasOwnProperty($)&&ce[S].push($);return ce},p.addFont=function(S,$,ce,ve,je){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(ce=R(ce,ve)),Vl.call(this,S,$,ce,je=je||"Identity-H")};var ya,ai=e.lineWidth||.200025,Ko=p.__private__.getLineWidth=p.getLineWidth=function(){return ai},St=p.__private__.setLineWidth=p.setLineWidth=function(S){return ai=S,ne(U(H(S))+" w"),this};p.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(S,$){if(S=S||[],$=$||0,isNaN($)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ce){return U(H(ce))}).join(" "),$=U(H($)),ne("["+S+"] "+$+" d"),this};var Zi=p.__private__.getLineHeight=p.getLineHeight=function(){return Be*ya};p.__private__.getLineHeight=p.getLineHeight=function(){return Be*ya};var df=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(ya=S),this},Qu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ya};df(e.lineHeight);var Ua=p.__private__.getHorizontalCoordinate=function(S){return H(S)},ws=p.__private__.getVerticalCoordinate=function(S){return I===E?S:yt[re].mediaBox.topRightY-yt[re].mediaBox.bottomLeftY-H(S)},Ju=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(S){return U(Ua(S))},Ql=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(S){return U(ws(S))},Go=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ki(Go)},p.__private__.setStrokeColor=p.setDrawColor=function(S,$,ce,ve){return Go=Dn({ch1:S,ch2:$,ch3:ce,ch4:ve,pdfColorType:"draw",precision:2}),ne(Go),this};var Wc=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ki(Wc)},p.__private__.setFillColor=p.setFillColor=function(S,$,ce,ve){return Wc=Dn({ch1:S,ch2:$,ch3:ce,ch4:ve,pdfColorType:"fill",precision:2}),ne(Wc),this};var _i=e.textColor||"0 g",Yo=p.__private__.getTextColor=p.getTextColor=function(){return Ki(_i)};p.__private__.setTextColor=p.setTextColor=function(S,$,ce,ve){return _i=Dn({ch1:S,ch2:$,ch3:ce,ch4:ve,pdfColorType:"text",precision:3}),this};var wa=e.charSpace,Jl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(wa||0)};p.__private__.setCharSpace=p.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return wa=S,this};var Hc=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(S){var $=p.CapJoinStyles[S];if($===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hc=$,ne($+" J"),this};var Vc=0;p.__private__.setLineJoin=p.setLineJoin=function(S){var $=p.CapJoinStyles[S];if($===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vc=$,ne($+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(U(H(S))+" M"),this},p.GState=w0,p.setGState=function(S){(S=typeof S=="string"?bt[_t[S]]:ec(null,S)).equals(sr)||(ne("/"+S.id+" gs"),sr=S)};var ec=function(S,$){if(!S||!_t[S]){var ce=!1;for(var ve in bt)if(bt.hasOwnProperty(ve)&&bt[ve].equals($)){ce=!0;break}if(ce)$=bt[ve];else{var je="GS"+(Object.keys(bt).length+1).toString(10);bt[je]=$,$.id=je}return S&&(_t[S]=$.id),Zt.publish("addGState",$),$}};p.addGState=function(S,$){return ec(S,$),this},p.saveGraphicsState=function(){return ne("q"),br.push({key:st,size:Be,color:_i}),this},p.restoreGraphicsState=function(){ne("Q");var S=br.pop();return st=S.key,Be=S.size,_i=S.color,sr=null,this},p.setCurrentTransformationMatrix=function(S){return ne(S.toString()+" cm"),this},p.comment=function(S){return ne("#"+S),this};var ii=function(S,$){var ce=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Me){isNaN(Me)||(ce=parseFloat(Me))}});var ve=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Me){isNaN(Me)||(ve=parseFloat(Me))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Me){je=Me.toString()}}),this},Xo=function(S,$,ce,ve){ii.call(this,S,$),this.type="rect";var je=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(ze){isNaN(ze)||(je=parseFloat(ze))}});var Me=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(ze){isNaN(ze)||(Me=parseFloat(ze))}}),this},Zo=function(){this.page=Dt,this.currentPage=re,this.pages=_e.slice(0),this.pagesContext=yt.slice(0),this.x=it,this.y=Gr,this.matrix=Kt,this.width=no(re),this.height=Qo(re),this.outputDestination=qe,this.id="",this.objectNumber=-1};Zo.prototype.restore=function(){Dt=this.page,re=this.currentPage,yt=this.pagesContext,_e=this.pages,it=this.x,Gr=this.y,Kt=this.matrix,Kc(re,this.width),oi(re,this.height),qe=this.outputDestination};var si=function(S,$,ce,ve,je){ei.push(new Zo),Dt=re=0,_e=[],it=S,Gr=$,Kt=je,to([ce,ve])};for(var Ns in p.beginFormObject=function(S,$,ce,ve,je){return si(S,$,ce,ve,je),this},p.endFormObject=function(S){return function($){if(Vi[$])ei.pop().restore();else{var ce=new Zo,ve="Xo"+(Object.keys(Ln).length+1).toString(10);ce.id=ve,Vi[$]=ve,Ln[ve]=ce,Zt.publish("addFormObject",ce),ei.pop().restore()}}(S),this},p.doFormObject=function(S,$){var ce=Ln[Vi[S]];return ne("q"),ne($.toString()+" cm"),ne("/"+ce.id+" Do"),ne("Q"),this},p.getFormObject=function(S){var $=Ln[Vi[S]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},p.save=function(S,$){return S=S||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(bu(Gi(Ba()),S),typeof bu.unload=="function"&&It.setTimeout&&setTimeout(bu.unload,911),this):new Promise(function(ce,ve){try{var je=bu(Gi(Ba()),S);typeof bu.unload=="function"&&It.setTimeout&&setTimeout(bu.unload,911),ce(je)}catch(Me){ve(Me.message)}})},ht.API)ht.API.hasOwnProperty(Ns)&&(Ns==="events"&&ht.API.events.length?function(S,$){var ce,ve,je;for(je=$.length-1;je!==-1;je--)ce=$[je][0],ve=$[je][1],S.subscribe.apply(S,[ce].concat(typeof ve=="function"?[ve]:ve))}(Zt,ht.API.events):p[Ns]=ht.API[Ns]);function no(S){return yt[S].mediaBox.topRightX-yt[S].mediaBox.bottomLeftX}function Kc(S,$){yt[S].mediaBox.topRightX=$+yt[S].mediaBox.bottomLeftX}function Qo(S){return yt[S].mediaBox.topRightY-yt[S].mediaBox.bottomLeftY}function oi(S,$){yt[S].mediaBox.topRightY=$+yt[S].mediaBox.bottomLeftY}var Qi=p.getPageWidth=function(S){return no(S=S||re)/Pt},Vn=p.setPageWidth=function(S,$){Kc(S,$*Pt)},li=p.getPageHeight=function(S){return Qo(S=S||re)/Pt},tc=p.setPageHeight=function(S,$){oi(S,$*Pt)};return p.internal={pdfEscape:Fa,getStyle:Yl,getFont:Xi,getFontSize:Ye,getCharSpace:Jl,getTextColor:Yo,getLineHeight:Zi,getLineHeightFactor:Qu,getLineWidth:Ko,write:He,getHorizontalCoordinate:Ua,getVerticalCoordinate:ws,getCoordinateString:Ju,getVerticalCoordinateString:Ql,collections:{},newObject:yr,newAdditionalObject:ys,newObjectDeferred:Yr,newObjectDeferredBegin:sn,getFilters:ri,putStream:Ra,events:Zt,scaleFactor:Pt,pageSize:{getWidth:function(){return Qi(re)},setWidth:function(S){Vn(re,S)},getHeight:function(){return li(re)},setHeight:function(S){tc(re,S)}},encryptionOptions:h,encryption:bn,getEncryptor:function(S){return h!==null?bn.encryptor(S,0):function($){return $}},output:Wo,getNumberOfPages:za,get pages(){return _e},out:ne,f2:C,f3:T,getPageInfo:Ci,getPageInfoByObjId:Uc,getCurrentPageInfo:qc,getPDFVersion:w,Point:ii,Rectangle:Xo,Matrix:wt,hasHotfix:ni},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Qi(re)},set:function(S){Vn(re,S)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return li(re)},set:function(S){tc(re,S)},enumerable:!0,configurable:!0}),(function(S){for(var $=0,ce=dt.length;$<ce;$++){var ve=Vl.call(this,S[$][0],S[$][1],S[$][2],dt[$][3],!0);m===!1&&(g[ve]=!0);var je=S[$][0].split("-");Ku({id:ve,fontName:je[0],fontStyle:je[1]||""})}Zt.publish("addFonts",{fonts:Ft,dictionary:Bt})}).call(p,dt),st="F1",Gu(a,r),Zt.publish("initialized"),p}Id.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Id.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Id.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Id.prototype.processOwnerPassword=function(e,t){return Gb(Kb(t).substr(0,5),e)},Id.prototype.encryptor=function(e,t){var r=Kb(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Gb(r,n)}},w0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||xr(e)!==xr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ht.API={events:[]},ht.version="4.2.0";var vn=ht.API,i2=1,Wu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tu=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},Rt=function(e){return e.toFixed(2)},Pc=function(e){return e.toFixed(5)};vn.__acroform__={};var wi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},hN=function(e){return e*i2},ko=function(e){var t=new A6,r=at.internal.getHeight(e)||0,n=at.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rt(n)),Number(Rt(r))],t},HE=vn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},VE=vn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},KE=vn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Sn=vn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KE(e,t-1)},An=vn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HE(e,t-1)},Pn=vn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return VE(e,t-1)},GE=vn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],c=e[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(i+c)||0,d.upperRight_X=r(a+l)||0,d.upperRight_Y=n(i)||0,[Number(Rt(d.lowerLeft_X)),Number(Rt(d.lowerLeft_Y)),Number(Rt(d.upperRight_X)),Number(Rt(d.upperRight_Y))]},YE=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Yb(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Rt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ko(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Yb=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,l=at.internal.getHeight(e)||0;l=l<0?-l:l;var c=at.internal.getWidth(e)||0;c=c<0?-c:c;var d=function(C,T,H){if(C+1<a.length){var V=T+" "+a[C+1][0];return Bp(V,e,H).width<=c-4}return!1};i++;e:for(;i>0;){t="",i--;var f,h,m=Bp("3",e,i).height,g=e.multiline?l-i:(l-m)/2,p=g+=2,b=0,w=0,N=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bp(t,e,i=12).width+", FieldWidth:"+c+`
`;break}for(var k="",L=0,E=0;E<a.length;E++)if(a.hasOwnProperty(E)){var I=!1;if(a[E].length!==1&&N!==a[E].length-1){if((m+2)*(L+2)+2>l)continue e;k+=a[E][N],I=!0,w=E,E--}else{k=(k+=a[E][N]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var M=parseInt(E),F=d(M,k,i),R=E>=a.length-1;if(F&&!R){k+=" ",N=0;continue}if(F||R){if(R)w=M;else if(e.multiline&&(m+2)*(L+2)+2>l)continue e}else{if(!e.multiline||(m+2)*(L+2)+2>l)continue e;w=M}}for(var U="",B=b;B<=w;B++){var Y=a[B];if(e.multiline){if(B===w){U+=Y[N]+" ",N=(N+1)%Y.length;continue}if(B===b){U+=Y[Y.length-1]+" ";continue}}U+=Y[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,h=Bp(U,e,i).width,e.textAlign){case"right":f=c-h-2;break;case"center":f=(c-h)/2;break;default:f=2}t+=Rt(f)+" "+Rt(p)+` Td
`,t+="("+Wu(U)+`) Tj
`,t+=-Rt(f)+` 0 Td
`,p=-(i+2),h=0,b=I?w:w+1,L++,k=""}break}return n.text=t,n.fontSize=i,n},Bp=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},XE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ZE=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},QE=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ys.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(XE)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new P6,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&ZE(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var c=n[l],d=[],f=c.Rect;if(c.Rect&&(c.Rect=GE(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=at.createDefaultAppearanceStream(c),xr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var h=YE(c);d.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(c.appearanceStreamContent){var m="";for(var g in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(g)){var p=c.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var l in p)if(p.hasOwnProperty(l)){var b=p[l];typeof b=="function"&&(b=b.call(a,c)),m+="/"+l+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(a,c)),m+="/"+l+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);m+=">>"}d.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:c.objId}),a.internal.out("endobj")}i&&function(w,N){for(var k in w)if(w.hasOwnProperty(k)){var L=k,E=w[k];N.internal.newObjectDeferredBegin(E.objId,!0),xr(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete w[L]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},S6=vn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),xr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?a+="/"+Tu(e[i].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Wu(n(e[i].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lg=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Wu(n(e))+")"},Po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Po.prototype.toString=function(){return this.objId+" 0 R"},Po.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Po.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:S6(a,this.objId,this.scope)}):a instanceof Po?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var A6=function(){Po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};wi(A6,Po);var P6=function(){Po.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Wu(r(e))+")"}},set:function(r){e=r}})};wi(P6,Po);var Ys=function e(){Po.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sn(t,3)},set:function(k){k?this.F=An(t,3):this.F=Pn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');r=k}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(k){n=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(k){n[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(k){n[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(k){n[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(k){n[3]=k}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof N0)return;i="FieldObject"+e.FieldNum++}var k=function(L){return L};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Wu(k(i))+")"},set:function(k){i=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(k){i=k}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(k){d=k}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/i2:f},set:function(k){f=k}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof N0||this instanceof Cu))return Lg(m,this.objId,this.scope)},set:function(k){k=k.toString(),m=k}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof na==0?Lg(g,this.objId,this.scope):g},set:function(k){k=k.toString(),g=this instanceof na==0?k.substr(0,1)==="("?kd(k.substr(1,k.length-2)):kd(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof na==1?kd(g.substr(1,g.length-1)):g},set:function(k){k=k.toString(),g=this instanceof na==1?"/"+Tu(k):k}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof na==0?Lg(p,this.objId,this.scope):p},set:function(k){k=k.toString(),p=this instanceof na==0?k.substr(0,1)==="("?kd(k.substr(1,k.length-2)):kd(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof na==1?kd(p.substr(1,p.length-1)):p},set:function(k){k=k.toString(),p=this instanceof na==1?"/"+Tu(k):k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(k){k=!!k,w=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(k){b=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,1)},set:function(k){k?this.Ff=An(this.Ff,1):this.Ff=Pn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,2)},set:function(k){k?this.Ff=An(this.Ff,2):this.Ff=Pn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,3)},set:function(k){k?this.Ff=An(this.Ff,3):this.Ff=Pn(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');N=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(N){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};wi(Ys,Po);var Rd=function(){Ys.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return S6(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,l,c){c||(c=1);for(var d,f=[];d=l.exec(i);)f.push(d[c]);return f}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,18)},set:function(r){r?this.Ff=An(this.Ff,18):this.Ff=Pn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=An(this.Ff,19):this.Ff=Pn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,20)},set:function(r){r?(this.Ff=An(this.Ff,20),t.sort()):this.Ff=Pn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,22)},set:function(r){r?this.Ff=An(this.Ff,22):this.Ff=Pn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(r){r?this.Ff=An(this.Ff,23):this.Ff=Pn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,27)},set:function(r){r?this.Ff=An(this.Ff,27):this.Ff=Pn(this.Ff,27)}}),this.hasAppearanceStream=!1};wi(Rd,Ys);var Fd=function(){Rd.call(this),this.fontName="helvetica",this.combo=!1};wi(Fd,Rd);var zd=function(){Fd.call(this),this.combo=!0};wi(zd,Fd);var o0=function(){zd.call(this),this.edit=!0};wi(o0,zd);var na=function(){Ys.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,15)},set:function(r){r?this.Ff=An(this.Ff,15):this.Ff=Pn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,16)},set:function(r){r?this.Ff=An(this.Ff,16):this.Ff=Pn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,17)},set:function(r){r?this.Ff=An(this.Ff,17):this.Ff=Pn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(r){r?this.Ff=An(this.Ff,26):this.Ff=Pn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Wu(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){xr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){var n=r==null?"":r.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),e="/"+Tu(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+Tu(r)}})};wi(na,Ys);var l0=function(){na.call(this),this.pushButton=!0};wi(l0,na);var Bd=function(){na.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};wi(Bd,na);var N0=function(){var e,t;Ys.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+Wu(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){xr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+Tu(i)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+Tu(i)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wi(N0,Ys),Bd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Bd.prototype.createOption=function(e){var t=new N0;return t.Parent=this,t.optionName=e,this.Kids.push(t),JE.call(this.scope,t),t};var c0=function(){na.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};wi(c0,na);var Cu=function(){Ys.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,13)},set:function(t){t?this.Ff=An(this.Ff,13):this.Ff=Pn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,21)},set:function(t){t?this.Ff=An(this.Ff,21):this.Ff=Pn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(t){t?this.Ff=An(this.Ff,23):this.Ff=Pn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,24)},set:function(t){t?this.Ff=An(this.Ff,24):this.Ff=Pn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,25)},set:function(t){t?this.Ff=An(this.Ff,25):this.Ff=Pn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(t){t?this.Ff=An(this.Ff,26):this.Ff=Pn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wi(Cu,Ys);var u0=function(){Cu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,14)},set:function(e){e?this.Ff=An(this.Ff,14):this.Ff=Pn(this.Ff,14)}}),this.password=!0};wi(u0,Cu);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ko(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Yb(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Rt(at.internal.getWidth(e))+" "+Rt(at.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Rt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ko(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=at.internal.getHeight(e),l=at.internal.getWidth(e),c=Yb(e,e.caption);return a.push("1 g"),a.push("0 0 "+Rt(l)+" "+Rt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Rt(l-1)+" "+Rt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Rt(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ko(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(at.internal.getWidth(e))+" "+Rt(at.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=at.RadioButton.Circle.YesNormal,t.D[e]=at.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ko(e);t.scope=e.scope;var r=[],n=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=at.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Pc(at.internal.getWidth(e)/2)+" "+Pc(at.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ko(e);t.scope=e.scope;var r=[],n=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*at.internal.Bezier_C).toFixed(5)),l=Number((n*at.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pc(at.internal.getWidth(e)/2)+" "+Pc(at.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Pc(at.internal.getWidth(e)/2)+" "+Pc(at.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ko(e);t.scope=e.scope;var r=[],n=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*at.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pc(at.internal.getWidth(e)/2)+" "+Pc(at.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=at.RadioButton.Cross.YesNormal,t.D[e]=at.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ko(e);t.scope=e.scope;var r=[],n=at.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Rt(at.internal.getWidth(e)-2)+" "+Rt(at.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ko(e);t.scope=e.scope;var r=at.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(at.internal.getWidth(e))+" "+Rt(at.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Rt(at.internal.getWidth(e)-2)+" "+Rt(at.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ko(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(at.internal.getWidth(e))+" "+Rt(at.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};at.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=at.internal.getWidth(e),r=at.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},at.internal.getWidth=function(e){var t=0;return xr(e)==="object"&&(t=hN(e.Rect[2])),t},at.internal.getHeight=function(e){var t=0;return xr(e)==="object"&&(t=hN(e.Rect[3])),t};var JE=vn.addField=function(e){if(QE(this,e),!(e instanceof Ys))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=Rd,vn.AcroFormListBox=Fd,vn.AcroFormComboBox=zd,vn.AcroFormEditBox=o0,vn.AcroFormButton=na,vn.AcroFormPushButton=l0,vn.AcroFormRadioButton=Bd,vn.AcroFormCheckBox=c0,vn.AcroFormTextField=Cu,vn.AcroFormPasswordField=u0,vn.AcroFormAppearance=at,vn.AcroForm={ChoiceField:Rd,ListBox:Fd,ComboBox:zd,EditBox:o0,Button:na,PushButton:l0,RadioButton:Bd,CheckBox:c0,TextField:Cu,PasswordField:u0,Appearance:at},ht.AcroForm={ChoiceField:Rd,ListBox:Fd,ComboBox:zd,EditBox:o0,Button:na,PushButton:l0,RadioButton:Bd,CheckBox:c0,TextField:Cu,PasswordField:u0,Appearance:at};ht.AcroForm;function C6(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(C,T){var H,V,W,pe,ue,J=r;if((T=T||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(F(C))for(ue in n)for(W=n[ue],H=0;H<W.length;H+=1){for(pe=!0,V=0;V<W[H].length;V+=1)if(W[H][V]!==void 0&&W[H][V]!==C[V]){pe=!1;break}if(pe===!0){J=ue;break}}else for(ue in n)for(W=n[ue],H=0;H<W.length;H+=1){for(pe=!0,V=0;V<W[H].length;V+=1)if(W[H][V]!==void 0&&W[H][V]!==C.charCodeAt(V)){pe=!1;break}if(pe===!0){J=ue;break}}return J===r&&T!==r&&(J=T),J},i=function C(T){for(var H=this.internal.write,V=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:T.width}),pe.push({key:"Height",value:T.height}),T.colorSpace===k.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===k.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var ue="",J=0,le=T.transparency.length;J<le;J++)ue+=T.transparency[J]+" "+T.transparency[J]+" ";pe.push({key:"Mask",value:"["+ue+"]"})}T.sMask!==void 0&&pe.push({key:"SMask",value:T.objectId+1+" 0 R"});var me=T.filter!==void 0?["/"+T.filter]:void 0;if(V({data:T.data,additionalKeyValues:pe,alreadyAppliedFilters:me,objectId:T.objectId}),H("endobj"),"sMask"in T&&T.sMask!==void 0){var ee,z=(ee=T.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:T.bitsPerComponent,re={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:T.sMask};"filter"in T&&(re.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(T.width),re.filter=T.filter),C.call(this,re)}if(T.colorSpace===k.INDEXED){var ie=this.internal.newObject();V({data:U(new Uint8Array(T.palette)),objectId:ie}),H("endobj")}},l=function(){var C=this.internal.collections[t+"images"];for(var T in C)i.call(this,C[T])},c=function(){var C,T=this.internal.collections[t+"images"],H=this.internal.write;for(var V in T)H("/I"+(C=T[V]).index,C.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var C=this.internal.collections[t+"images"];return d.call(this),C},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(C){return typeof e["process"+C.toUpperCase()]=="function"},g=function(C){return xr(C)==="object"&&C.nodeType===1},p=function(C,T){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var H=""+C.getAttribute("src");if(H.indexOf("data:image/")===0)return s0(unescape(H).split("base64,").pop());var V=e.loadFile(H,!0);if(V!==void 0)return V}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var W;switch(T){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return s0(C.toDataURL(W,1).split("base64,").pop())}},b=function(C){var T=this.internal.collections[t+"images"];if(T){for(var H in T)if(C===T[H].alias)return T[H]}},w=function(C,T,H){return C||T||(C=-96,T=-96),C<0&&(C=-1*H.width*72/C/this.internal.scaleFactor),T<0&&(T=-1*H.height*72/T/this.internal.scaleFactor),C===0&&(C=T*H.width/H.height),T===0&&(T=C*H.height/H.width),[C,T]},N=function(C,T,H,V,W,pe){var ue=w.call(this,H,V,W),J=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,me=f.call(this);if(H=ue[0],V=ue[1],me[W.index]=W,pe){pe*=Math.PI/180;var ee=Math.cos(pe),z=Math.sin(pe),re=function(fe){return fe.toFixed(4)},ie=[re(ee),re(z),re(-1*z),re(ee),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,J(C),le(T+V),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([J(H),"0","0",J(V),"0","0","cm"].join(" "))):this.internal.write([J(H),"0","0",J(V),J(C),le(T+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=e.__addimage__.sHashCode=function(C){var T,H,V=0;if(typeof C=="string")for(H=C.length,T=0;T<H;T++)V=(V<<5)-V+C.charCodeAt(T),V|=0;else if(F(C))for(H=C.byteLength/2,T=0;T<H;T++)V=(V<<5)-V+C[T],V|=0;return V},I=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var T=!0;return C.length===0&&(T=!1),C.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(T=!1),T},M=e.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var T=C.indexOf(",");return T<0?null:C.substring(0,T).trim().endsWith("base64")?C.substring(T+1):null};e.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},R=e.__addimage__.binaryStringToUint8Array=function(C){for(var T=C.length,H=new Uint8Array(T),V=0;V<T;V++)H[V]=C.charCodeAt(V);return H},U=e.__addimage__.arrayBufferToBinaryString=function(C){for(var T="",H=F(C)?C:new Uint8Array(C),V=0;V<H.length;V+=8192)T+=String.fromCharCode.apply(null,H.subarray(V,V+8192));return T};e.addImage=function(){var C,T,H,V,W,pe,ue,J,le;if(typeof arguments[1]=="number"?(T=r,H=arguments[1],V=arguments[2],W=arguments[3],pe=arguments[4],ue=arguments[5],J=arguments[6],le=arguments[7]):(T=arguments[1],H=arguments[2],V=arguments[3],W=arguments[4],pe=arguments[5],ue=arguments[6],J=arguments[7],le=arguments[8]),xr(C=arguments[0])==="object"&&!g(C)&&"imageData"in C){var me=C;C=me.imageData,T=me.format||T||r,H=me.x||H||0,V=me.y||V||0,W=me.w||me.width||W,pe=me.h||me.height||pe,ue=me.alias||ue,J=me.compression||J,le=me.rotation||me.angle||le}var ee=this.internal.getFilters();if(J===void 0&&ee.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(H)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var z=B.call(this,C,T,ue,J);return N.call(this,H,V,W,pe,z,le),this};var B=function(C,T,H,V){var W,pe,ue;if(typeof C=="string"&&a(C)===r){C=unescape(C);var J=Y(C,!1);(J!==""||(J=e.loadFile(C,!0))!==void 0)&&(C=J)}if(g(C)&&(C=p(C,T)),T=a(C,T),!m(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ue=H)==null||ue.length===0)&&(H=function(le){return typeof le=="string"||F(le)?E(le):F(le.data)?E(le.data):null}(C)),(W=b.call(this,H))||(C instanceof Uint8Array||T==="RGBA"||(pe=C,C=R(C)),W=this["process"+T.toUpperCase()](C,h.call(this),H,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in e.image_compression?le:L.NONE}(V),pe)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},Y=e.__addimage__.convertBase64ToBinaryString=function(C,T){T=typeof T!="boolean"||T;var H,V="";if(typeof C=="string"){var W;H=(W=M(C))!==null&&W!==void 0?W:C;try{V=s0(H)}catch(pe){if(T)throw I(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(C){var T,H,V="";if(g(C)&&(C=p(C)),typeof C=="string"&&a(C)===r&&((V=Y(C,!1))===""&&(V=e.loadFile(C)||""),C=V),H=a(C),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(C instanceof Uint8Array||(C=R(C)),!(T=this["process"+H.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=H,T}})(ht.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((n=f[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){n=f[g];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(w.objId),L=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+p(k(n.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+p(k(L))+") >>",w.content=i;var E=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(w.objId,"0 R",N.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var F=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(r),y:f(n),w:d(r+a),h:f(n+i)},options:l,type:"link"})},e.textWithLink=function(r,n,a,i){var l,c,d=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var h=this.splitTextToSize(r,c).length;l=Math.ceil(f*h)}else c=d,l=f;return this.text(r,n,a,i),a+=.2*f,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,a-f,c,l,i),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ht.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},c=e.__arabicParser__.isArabicEndLetter=function(w){return l(w)&&i(w)&&t[w.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(w){return l(w)&&a.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return l(w)&&i(w)&&t[w.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return l(w)&&i(w)&&t[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return l(w)&&i(w)&&t[w.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return l(w)&&i(w)&&t[w.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(w){var N=0,k=r,L="",E=0;for(N=0;N<w.length;N+=1)k[w.charCodeAt(N)]!==void 0?(E++,typeof(k=k[w.charCodeAt(N)])=="number"&&(L+=String.fromCharCode(k),k=r,E=0),N===w.length-1&&(k=r,L+=w.charAt(N-(E-1)),N-=E-1,E=0)):(k=r,L+=w.charAt(N-E),N-=E,E=0);return L};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(w,N,k){return l(w)?i(w)===!1?-1:!f(w)||!l(N)&&!l(k)||!l(k)&&c(N)||c(w)&&!l(N)||c(w)&&d(N)||c(w)&&c(N)?0:h(w)&&l(N)&&!c(N)&&l(k)&&f(k)?3:c(w)||!l(k)?1:2:-1},p=function(w){var N=0,k=0,L=0,E="",I="",M="",F=(w=w||"").split("\\s+"),R=[];for(N=0;N<F.length;N+=1){for(R.push(""),k=0;k<F[N].length;k+=1)E=F[N][k],I=F[N][k-1],M=F[N][k+1],l(E)?(L=g(E,I,M),R[N]+=L!==-1?String.fromCharCode(t[E.charCodeAt(0)][L]):E):R[N]+=E;R[N]=m(R[N])}return R.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var w,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(N)){var L=0;for(k=[],L=0;L<N.length;L+=1)Array.isArray(N[L])?k.push([p(N[L][0]),N[L][1],N[L][2]]):k.push([p(N[L])]);w=k}else w=p(N);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",b])}(ht.API),ht.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ht.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,f){n.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,p=0,b=0,w=0,N=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var k=f.maxWidth;k>0?typeof d=="string"?d=this.splitTextToSize(d,k):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(E,I){return E.concat(N.splitTextToSize(I,k))},[])):d=Array.isArray(d)?d:[d];for(var L=0;L<d.length;L++)p<(w=this.getStringUnitWidth(d[L],{font:m})*h)&&(p=w);return p!==0&&(b=d.length),{w:p/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=m.top,p&&g&&(this.printHeaderRow(d.lineNumber,!0),d.y+=g[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-h,d.y+h,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+h,{align:"center",baseline:"top",maxWidth:d.width-h-h}):this.text(d.text,d.x+h,d.y+h,{align:"left",baseline:"top",maxWidth:d.width-h-h})),this.internal.__cell__.lastCell=d,this};e.table=function(d,f,h,m,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,b,w,N,k=[],L=[],E=[],I={},M={},F=[],R=[],U=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,Y=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,C=g.margins||Object.assign({width:this.getPageWidth()},t),T=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",V=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=V,this.setFontSize(Y),m==null)L=k=Object.keys(h[0]),E=k.map(function(){return"left"});else if(Array.isArray(m)&&xr(m[0])==="object")for(k=m.map(function(me){return me.name}),L=m.map(function(me){return me.prompt||me.name||""}),E=m.map(function(me){return me.align||"left"}),p=0;p<m.length;p+=1)M[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(L=k=m,E=k.map(function(){return"left"}));if(U||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<k.length;p+=1){for(I[N=k[p]]=h.map(function(me){return me[N]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(L[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=I[N],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)F.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[N]=Math.max.apply(null,F)+T+T,F=[]}if(B){var W={};for(p=0;p<k.length;p+=1)W[k[p]]={},W[k[p]].text=L[p],W[k[p]].align=E[p];var pe=c.call(this,W,M);R=k.map(function(me){return new i(d,f,M[me],pe,W[me].text,void 0,W[me].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ue=m.reduce(function(me,ee){return me[ee.name]=ee.align,me},{});for(p=0;p<h.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:h[p]},this);var J=c.call(this,h[p],M);for(w=0;w<k.length;w+=1){var le=h[p][k[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:w,data:le},this),l.call(this,new i(d,f,M[k[w]],J,le,p+2,ue[k[w]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var c=function(d,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(d).map(function(p){var b=d[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/g+h+h},this).reduce(function(p,b){return Math.max(p,b)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=d;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(ht.API);var _6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},O6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xb=C6(O6),I6=[100,200,300,400,500,600,700,800,900],eL=C6(I6);function Dg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return _6[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof Xb[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function pN(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var tL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vN(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function gN(e){return e.trimLeft()}function rL(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function nL(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sd,Up,xN,bN,yN,Tg=["times"];function wN(e,t,r,n,a){var i=4,l=jN;switch(a){case ht.API.image_compression.FAST:i=1,l=NN;break;case ht.API.image_compression.MEDIUM:i=6,l=kN;break;case ht.API.image_compression.SLOW:i=9,l=SN}e=function(d,f,h,m){for(var g,p=d.length/f,b=new Uint8Array(d.length+p),w=[aL,NN,jN,kN,SN],N=0;N<p;N+=1){var k=N*f,L=d.subarray(k,k+f);if(m)b.set(m(L,h,g),k+N);else{for(var E=w.length,I=[],M=0;M<E;M+=1)I[M]=w[M](L,h,g);var F=sL(I.concat());b.set(I[F],k+N)}g=L}return b}(e,t,Math.ceil(r*n/8),l);var c=$b(e,{level:i});return ht.API.__addimage__.arrayBufferToBinaryString(c)}function aL(e){var t=Array.apply([],e);return t.unshift(0),t}function NN(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function jN(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=r&&r[i]||0;a[i+1]=e[i]-l+256&255}return a}function kN(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,c=r&&r[i]||0;a[i+1]=e[i]+256-(l+c>>>1)&255}return a}function SN(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=iL(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function iL(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function sL(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Mg(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),l=(1<<r)-1;return E6(e,a)>>i&l}function AN(e,t,r,n){var a=r*n,i=Math.floor(a/8),l=16-(a-8*i+n),c=(1<<n)-1,d=(t&c)<<l;(function(f,h,m){if(h+1<f.byteLength)f.setUint16(h,m,!1);else{var g=m>>8&255;f.setUint8(h,g)}})(e,i,E6(e,i)&~(c<<l)&65535|d)}function E6(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function oL(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var c=null,d=null;i&&(c=t,d=l,t+=3*l);var f=!0,h=[],m=0,g=null,p=0,b=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[t++];m=e[t++]|e[t++]<<8,g=e[t++],1&w||(g=null),p=w>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,I=e[t++],M=I>>6&1,F=1<<1+(7&I),R=c,U=d,B=!1;I>>7&&(B=!0,R=t,U=F,t+=3*F);var Y=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}h.push({x:N,y:k,width:L,height:E,has_local_palette:B,palette_offset:R,palette_size:U,data_offset:Y,data_length:t-Y,transparent_index:g,interlaced:!!M,delay:m,disposal:p});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(T){if(T<0||T>=h.length)throw new Error("Frame index out of range.");return h[T]},this.decodeAndBlitFrameBGRA=function(T,H){var V=this.frameInfo(T),W=V.width*V.height;if(W>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var pe=new Uint8Array(W);PN(e,V.data_offset,pe,W);var ue=V.palette_offset,J=V.transparent_index;J===null&&(J=256);var le=V.width,me=r-le,ee=le,z=4*(V.y*r+V.x),re=4*((V.y+V.height)*r+V.x),ie=z,fe=4*me;V.interlaced===!0&&(fe+=4*r*7);for(var Z=8,de=0,we=pe.length;de<we;++de){var ae=pe[de];if(ee===0&&(ee=le,(ie+=fe)>=re&&(fe=4*me+4*r*(Z-1),ie=z+(le+me)*(Z<<1),Z>>=1)),ae===J)ie+=4;else{var ye=e[ue+3*ae],_e=e[ue+3*ae+1],ke=e[ue+3*ae+2];H[ie++]=ke,H[ie++]=_e,H[ie++]=ye,H[ie++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(T,H){var V=this.frameInfo(T),W=V.width*V.height;if(W>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var pe=new Uint8Array(W);PN(e,V.data_offset,pe,W);var ue=V.palette_offset,J=V.transparent_index;J===null&&(J=256);var le=V.width,me=r-le,ee=le,z=4*(V.y*r+V.x),re=4*((V.y+V.height)*r+V.x),ie=z,fe=4*me;V.interlaced===!0&&(fe+=4*r*7);for(var Z=8,de=0,we=pe.length;de<we;++de){var ae=pe[de];if(ee===0&&(ee=le,(ie+=fe)>=re&&(fe=4*me+4*r*(Z-1),ie=z+(le+me)*(Z<<1),Z>>=1)),ae===J)ie+=4;else{var ye=e[ue+3*ae],_e=e[ue+3*ae+1],ke=e[ue+3*ae+2];H[ie++]=ye,H[ie++]=_e,H[ie++]=ke,H[ie++]=255}--ee}}}function PN(e,t,r,n){for(var a=e[t++],i=1<<a,l=i+1,c=l+1,d=a+1,f=(1<<d)-1,h=0,m=0,g=0,p=e[t++],b=new Int32Array(4096),w=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<d)break;var N=m&f;if(m>>=d,h-=d,N!==i){if(N===l)break;for(var k=N<c?N:w,L=0,E=k;E>i;)E=b[E]>>8,++L;var I=E;if(g+L+(k!==N?1:0)>n)return void Sr.log("Warning, gif stream longer than expected.");r[g++]=I;var M=g+=L;for(k!==N&&(r[g++]=I),E=k;L--;)E=b[E],r[--M]=255&E,E>>=8;w!==null&&c<4096&&(b[c++]=w<<8|I,c>=f+1&&d<12&&(++d,f=f<<1|1)),w=N}else c=l+1,f=(1<<(d=a+1))-1,w=null}return g!==n&&Sr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Rg(e){var t,r,n,a,i,l=Math.floor,c=new Array(64),d=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),p=new Array(64),b=new Array(64),w=[],N=0,k=7,L=new Array(64),E=new Array(64),I=new Array(64),M=new Array(256),F=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(z,re){for(var ie=0,fe=0,Z=new Array,de=1;de<=16;de++){for(var we=1;we<=z[de];we++)Z[re[fe]]=[],Z[re[fe]][0]=ie,Z[re[fe]][1]=de,fe++,ie++;ie*=2}return Z}function ue(z){for(var re=z[0],ie=z[1]-1;ie>=0;)re&1<<ie&&(N|=1<<k),ie--,--k<0&&(N==255?(J(255),J(0)):J(N),k=7,N=0)}function J(z){w.push(z)}function le(z){J(z>>8&255),J(255&z)}function me(z,re,ie,fe,Z){for(var de,we=Z[0],ae=Z[240],ye=function(Be,pt){var Ye,xt,mt,Xt,Ut,Et,qt,zt,st,Pt,it=0;for(st=0;st<8;++st){Ye=Be[it],xt=Be[it+1],mt=Be[it+2],Xt=Be[it+3],Ut=Be[it+4],Et=Be[it+5],qt=Be[it+6];var Gr=Ye+(zt=Be[it+7]),Kt=Ye-zt,Ft=xt+qt,Bt=xt-qt,br=mt+Et,vt=mt-Et,cr=Xt+Ut,bt=Xt-Ut,_t=Gr+cr,sr=Gr-cr,Dt=Ft+br,yt=Ft-br;Be[it]=_t+Dt,Be[it+4]=_t-Dt;var Zt=.707106781*(yt+sr);Be[it+2]=sr+Zt,Be[it+6]=sr-Zt;var Qs=.382683433*((_t=bt+vt)-(yt=Bt+Kt)),Ln=.5411961*_t+Qs,Vi=1.306562965*yt+Qs,ei=.707106781*(Dt=vt+Bt),wt=Kt+ei,Ma=Kt-ei;Be[it+5]=Ma+Ln,Be[it+3]=Ma-Ln,Be[it+1]=wt+Vi,Be[it+7]=wt-Vi,it+=8}for(it=0,st=0;st<8;++st){Ye=Be[it],xt=Be[it+8],mt=Be[it+16],Xt=Be[it+24],Ut=Be[it+32],Et=Be[it+40],qt=Be[it+48];var Si=Ye+(zt=Be[it+56]),Hn=Ye-zt,ti=xt+qt,yr=xt-qt,Yr=mt+Et,sn=mt-Et,ys=Xt+Ut,Js=Xt-Ut,Ai=Si+ys,Ki=Si-ys,Dn=ti+Yr,ri=ti-Yr;Be[it]=Ai+Dn,Be[it+32]=Ai-Dn;var Ra=.707106781*(ri+Ki);Be[it+16]=Ki+Ra,Be[it+48]=Ki-Ra;var zo=.382683433*((Ai=Js+sn)-(ri=yr+Hn)),Pi=.5411961*Ai+zo,eo=1.306562965*ri+zo,Bo=.707106781*(Dn=sn+yr),Uo=Hn+Bo,Hl=Hn-Bo;Be[it+40]=Hl+Pi,Be[it+24]=Hl-Pi,Be[it+8]=Uo+eo,Be[it+56]=Uo-eo,it++}for(st=0;st<64;++st)Pt=Be[st]*pt[st],p[st]=Pt>0?Pt+.5|0:Pt-.5|0;return p}(z,re),_e=0;_e<64;++_e)b[R[_e]]=ye[_e];var ke=b[0]-ie;ie=b[0],ke==0?ue(fe[0]):(ue(fe[g[de=32767+ke]]),ue(m[de]));for(var qe=63;qe>0&&b[qe]==0;)qe--;if(qe==0)return ue(we),ie;for(var Ke,ne=1;ne<=qe;){for(var He=ne;b[ne]==0&&ne<=qe;)++ne;var ft=ne-He;if(ft>=16){Ke=ft>>4;for(var dt=1;dt<=Ke;++dt)ue(ae);ft&=15}de=32767+b[ne],ue(Z[(ft<<4)+g[de]]),ue(m[de]),ne++}return qe!=63&&ue(we),ie}function ee(z){z=Math.min(Math.max(z,1),100),i!=z&&(function(re){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var Z=l((ie[fe]*re+50)/100);Z=Math.min(Math.max(Z,1),255),c[R[fe]]=Z}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var ae=l((de[we]*re+50)/100);ae=Math.min(Math.max(ae,1),255),d[R[we]]=ae}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,ke=0;ke<8;ke++)for(var qe=0;qe<8;qe++)f[_e]=1/(c[R[_e]]*ye[ke]*ye[qe]*8),h[_e]=1/(d[R[_e]]*ye[ke]*ye[qe]*8),_e++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),i=z)}this.encode=function(z,re){re&&ee(re),w=new Array,N=0,k=7,le(65496),le(65504),le(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),le(1),le(1),J(0),J(0),function(){le(65499),le(132),J(0);for(var xt=0;xt<64;xt++)J(c[xt]);J(1);for(var mt=0;mt<64;mt++)J(d[mt])}(),function(xt,mt){le(65472),le(17),J(8),le(mt),le(xt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(z.width,z.height),function(){le(65476),le(418),J(0);for(var xt=0;xt<16;xt++)J(U[xt+1]);for(var mt=0;mt<=11;mt++)J(B[mt]);J(16);for(var Xt=0;Xt<16;Xt++)J(Y[Xt+1]);for(var Ut=0;Ut<=161;Ut++)J(C[Ut]);J(1);for(var Et=0;Et<16;Et++)J(T[Et+1]);for(var qt=0;qt<=11;qt++)J(H[qt]);J(17);for(var zt=0;zt<16;zt++)J(V[zt+1]);for(var st=0;st<=161;st++)J(W[st])}(),le(65498),le(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var ie=0,fe=0,Z=0;N=0,k=7,this.encode.displayName="_encode_";for(var de,we,ae,ye,_e,ke,qe,Ke,ne,He=z.data,ft=z.width,dt=z.height,Be=4*ft,pt=0;pt<dt;){for(de=0;de<Be;){for(_e=Be*pt+de,qe=-1,Ke=0,ne=0;ne<64;ne++)ke=_e+(Ke=ne>>3)*Be+(qe=4*(7&ne)),pt+Ke>=dt&&(ke-=Be*(pt+1+Ke-dt)),de+qe>=Be&&(ke-=de+qe-Be+4),we=He[ke++],ae=He[ke++],ye=He[ke++],L[ne]=(F[we]+F[ae+256|0]+F[ye+512|0]>>16)-128,E[ne]=(F[we+768|0]+F[ae+1024|0]+F[ye+1280|0]>>16)-128,I[ne]=(F[we+1280|0]+F[ae+1536|0]+F[ye+1792|0]>>16)-128;ie=me(L,f,ie,t,n),fe=me(E,h,fe,r,a),Z=me(I,h,Z,r,a),de+=32}pt+=8}if(k>=0){var Ye=[];Ye[1]=k+1,Ye[0]=(1<<k+1)-1,ue(Ye)}return le(65497),new Uint8Array(w)},e=e||50,function(){for(var z=String.fromCharCode,re=0;re<256;re++)M[re]=z(re)}(),t=pe(U,B),r=pe(T,H),n=pe(Y,C),a=pe(V,W),function(){for(var z=1,re=2,ie=1;ie<=15;ie++){for(var fe=z;fe<re;fe++)g[32767+fe]=ie,m[32767+fe]=[],m[32767+fe][1]=ie,m[32767+fe][0]=fe;for(var Z=-(re-1);Z<=-z;Z++)g[32767+Z]=ie,m[32767+Z]=[],m[32767+Z][1]=ie,m[32767+Z][0]=re-1+Z;z<<=1,re<<=1}}(),function(){for(var z=0;z<256;z++)F[z]=19595*z,F[z+256|0]=38470*z,F[z+512|0]=7471*z+32768,F[z+768|0]=-11059*z,F[z+1024|0]=-21709*z,F[z+1280|0]=32768*z+8421375,F[z+1536|0]=-27439*z,F[z+1792|0]=-5329*z}(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function CN(e){function t(B){if(!B)throw Error("assert :P")}function r(B,Y,C){for(var T=0;4>T;T++)if(B[Y+T]!=C.charCodeAt(T))return!0;return!1}function n(B,Y,C,T,H){for(var V=0;V<H;V++)B[Y+V]=C[T+V]}function a(B,Y,C,T){for(var H=0;H<T;H++)B[Y+H]=C}function i(B){return new Int32Array(B)}function l(B,Y){for(var C=[],T=0;T<B;T++)C.push(new Y);return C}function c(B,Y){var C=[];return function T(H,V,W){for(var pe=W[V],ue=0;ue<pe&&(H.push(W.length>V+1?[]:new Y),!(W.length<V+1));ue++)T(H[ue],V+1,W)}(C,0,B),C}var d=function(){var B=this;function Y(x,j){for(var _=1<<j-1>>>0;x&_;)_>>>=1;return _?(x&_-1)+_:x}function C(x,j,_,D,q){t(!(D%_));do x[j+(D-=_)]=q;while(0<D)}function T(x,j,_,D,q){if(t(2328>=q),512>=q)var G=i(512);else if((G=i(q))==null)return 0;return function(X,Q,te,se,ge,Ae){var oe,be,Se=Q,Te=1<<te,Ce=i(16),Ee=i(16);for(t(ge!=0),t(se!=null),t(X!=null),t(0<te),be=0;be<ge;++be){if(15<se[be])return 0;++Ce[se[be]]}if(Ce[0]==ge)return 0;for(Ee[1]=0,oe=1;15>oe;++oe){if(Ce[oe]>1<<oe)return 0;Ee[oe+1]=Ee[oe]+Ce[oe]}for(be=0;be<ge;++be)oe=se[be],0<se[be]&&(Ae[Ee[oe]++]=be);if(Ee[15]==1)return(se=new H).g=0,se.value=Ae[0],C(X,Se,1,Te,se),Te;var De,Re=-1,Fe=Te-1,ct=0,Ze=1,Tt=1,rt=1<<te;for(be=0,oe=1,ge=2;oe<=te;++oe,ge<<=1){if(Ze+=Tt<<=1,0>(Tt-=Ce[oe]))return 0;for(;0<Ce[oe];--Ce[oe])(se=new H).g=oe,se.value=Ae[be++],C(X,Se+ct,ge,rt,se),ct=Y(ct,oe)}for(oe=te+1,ge=2;15>=oe;++oe,ge<<=1){if(Ze+=Tt<<=1,0>(Tt-=Ce[oe]))return 0;for(;0<Ce[oe];--Ce[oe]){if(se=new H,(ct&Fe)!=Re){for(Se+=rt,De=1<<(Re=oe)-te;15>Re&&!(0>=(De-=Ce[Re]));)++Re,De<<=1;Te+=rt=1<<(De=Re-te),X[Q+(Re=ct&Fe)].g=De+te,X[Q+Re].value=Se-Q-Re}se.g=oe-te,se.value=Ae[be++],C(X,Se+(ct>>te),ge,rt,se),ct=Y(ct,oe)}}return Ze!=2*Ee[15]-1?0:Te}(x,j,_,D,q,G)}function H(){this.value=this.g=0}function V(){this.value=this.g=0}function W(){this.G=l(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(ci,V)}function pe(x,j,_,D){t(x!=null),t(j!=null),t(2147483648>D),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=j,x.pa=_,x.Jd=j,x.Yc=_+D,x.Zc=4<=D?_+D-4+1:_,we(x)}function ue(x,j){for(var _=0;0<j--;)_|=ye(x,128)<<j;return _}function J(x,j){var _=ue(x,j);return ae(x)?-_:_}function le(x,j,_,D){var q,G=0;for(t(x!=null),t(j!=null),t(4294967288>D),x.Sb=D,x.Ra=0,x.u=0,x.h=0,4<D&&(D=4),q=0;q<D;++q)G+=j[_+q]<<8*q;x.Ra=G,x.bb=D,x.oa=j,x.pa=_}function me(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<lo-8>>>0,++x.bb,x.u-=8;fe(x)&&(x.h=1,x.u=0)}function ee(x,j){if(t(0<=j),!x.h&&j<=Wa){var _=ie(x)&$a[j];return x.u+=j,me(x),_}return x.h=1,x.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function re(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(x){return x.Ra>>>(x.u&lo-1)>>>0}function fe(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>lo}function Z(x,j){x.u=j,x.h=fe(x)}function de(x){x.u>=es&&(t(x.u>=es),me(x))}function we(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ae(x){return ue(x,1)}function ye(x,j){var _=x.Ca;0>x.b&&we(x);var D=x.b,q=_*j>>>8,G=(x.I>>>D>q)+0;for(G?(_-=q,x.I-=q+1<<D>>>0):_=q+1,D=_,q=0;256<=D;)q+=8,D>>=8;return D=7^q+As[D],x.b-=D,x.Ca=(_<<D)-1,G}function _e(x,j,_){x[j+0]=_>>24&255,x[j+1]=_>>16&255,x[j+2]=_>>8&255,x[j+3]=255&_}function ke(x,j){return x[j+0]|x[j+1]<<8}function qe(x,j){return ke(x,j)|x[j+2]<<16}function Ke(x,j){return ke(x,j)|ke(x,j+2)<<16}function ne(x,j){var _=1<<j;return t(x!=null),t(0<j),x.X=i(_),x.X==null?0:(x.Mb=32-j,x.Xa=j,1)}function He(x,j){t(x!=null),t(j!=null),t(x.Xa==j.Xa),n(j.X,0,x.X,0,1<<j.Xa)}function ft(){this.X=[],this.Xa=this.Mb=0}function dt(x,j,_,D){t(_!=null),t(D!=null);var q=_[0],G=D[0];return q==0&&(q=(x*G+j/2)/j),G==0&&(G=(j*q+x/2)/x),0>=q||0>=G?0:(_[0]=q,D[0]=G,1)}function Be(x,j){return x+(1<<j)-1>>>j}function pt(x,j){return((4278255360&x)+(4278255360&j)>>>0&4278255360)+((16711935&x)+(16711935&j)>>>0&16711935)>>>0}function Ye(x,j){B[j]=function(_,D,q,G,X,Q,te){var se;for(se=0;se<X;++se){var ge=B[x](Q[te+se-1],q,G+se);Q[te+se]=pt(_[D+se],ge)}}}function xt(){this.ud=this.hd=this.jd=0}function mt(x,j){return((4278124286&(x^j))>>>1)+(x&j)>>>0}function Xt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Ut(x,j){return Xt(x+(x-j+.5>>1))}function Et(x,j,_){return Math.abs(j-_)-Math.abs(x-_)}function qt(x,j,_,D,q,G,X){for(D=G[X-1],_=0;_<q;++_)G[X+_]=D=pt(x[j+_],D)}function zt(x,j,_,D,q){var G;for(G=0;G<_;++G){var X=x[j+G],Q=X>>8&255,te=16711935&(te=(te=16711935&X)+((Q<<16)+Q));D[q+G]=(4278255360&X)+te>>>0}}function st(x,j){j.jd=255&x,j.hd=x>>8&255,j.ud=x>>16&255}function Pt(x,j,_,D,q,G){var X;for(X=0;X<D;++X){var Q=j[_+X],te=Q>>>8,se=Q,ge=255&(ge=(ge=Q>>>16)+((x.jd<<24>>24)*(te<<24>>24)>>>5));se=255&(se=(se+=(x.hd<<24>>24)*(te<<24>>24)>>>5)+((x.ud<<24>>24)*(ge<<24>>24)>>>5)),q[G+X]=(4278255360&Q)+(ge<<16)+se}}function it(x,j,_,D,q){B[j]=function(G,X,Q,te,se,ge,Ae,oe,be){for(te=Ae;te<oe;++te)for(Ae=0;Ae<be;++Ae)se[ge++]=q(Q[D(G[X++])])},B[x]=function(G,X,Q,te,se,ge,Ae){var oe=8>>G.b,be=G.Ea,Se=G.K[0],Te=G.w;if(8>oe)for(G=(1<<G.b)-1,Te=(1<<oe)-1;X<Q;++X){var Ce,Ee=0;for(Ce=0;Ce<be;++Ce)Ce&G||(Ee=D(te[se++])),ge[Ae++]=q(Se[Ee&Te]),Ee>>=oe}else B["VP8LMapColor"+_](te,se,Se,Te,ge,Ae,X,Q,be)}}function Gr(x,j,_,D,q){for(_=j+_;j<_;){var G=x[j++];D[q++]=G>>16&255,D[q++]=G>>8&255,D[q++]=255&G}}function Kt(x,j,_,D,q){for(_=j+_;j<_;){var G=x[j++];D[q++]=G>>16&255,D[q++]=G>>8&255,D[q++]=255&G,D[q++]=G>>24&255}}function Ft(x,j,_,D,q){for(_=j+_;j<_;){var G=(X=x[j++])>>16&240|X>>12&15,X=240&X|X>>28&15;D[q++]=G,D[q++]=X}}function Bt(x,j,_,D,q){for(_=j+_;j<_;){var G=(X=x[j++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;D[q++]=G,D[q++]=X}}function br(x,j,_,D,q){for(_=j+_;j<_;){var G=x[j++];D[q++]=255&G,D[q++]=G>>8&255,D[q++]=G>>16&255}}function vt(x,j,_,D,q,G){if(G==0)for(_=j+_;j<_;)_e(D,((G=x[j++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),q+=32;else n(D,q,x,j,_)}function cr(x,j){B[j][0]=B[x+"0"],B[j][1]=B[x+"1"],B[j][2]=B[x+"2"],B[j][3]=B[x+"3"],B[j][4]=B[x+"4"],B[j][5]=B[x+"5"],B[j][6]=B[x+"6"],B[j][7]=B[x+"7"],B[j][8]=B[x+"8"],B[j][9]=B[x+"9"],B[j][10]=B[x+"10"],B[j][11]=B[x+"11"],B[j][12]=B[x+"12"],B[j][13]=B[x+"13"],B[j][14]=B[x+"0"],B[j][15]=B[x+"0"]}function bt(x){return x==uc||x==ul||x==tu||x==ru}function _t(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _t,this.f.kb=new sr,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qs(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Ln(x,j){var _=x.T,D=j.ba.f.RGBA,q=D.eb,G=D.fb+x.ka*D.A,X=ka[j.ba.S],Q=x.y,te=x.O,se=x.f,ge=x.N,Ae=x.ea,oe=x.W,be=j.cc,Se=j.dc,Te=j.Mc,Ce=j.Nc,Ee=x.ka,De=x.ka+x.T,Re=x.U,Fe=Re+1>>1;for(Ee==0?X(Q,te,null,null,se,ge,Ae,oe,se,ge,Ae,oe,q,G,null,null,Re):(X(j.ec,j.fc,Q,te,be,Se,Te,Ce,se,ge,Ae,oe,q,G-D.A,q,G,Re),++_);Ee+2<De;Ee+=2)be=se,Se=ge,Te=Ae,Ce=oe,ge+=x.Rc,oe+=x.Rc,G+=2*D.A,X(Q,(te+=2*x.fa)-x.fa,Q,te,be,Se,Te,Ce,se,ge,Ae,oe,q,G-D.A,q,G,Re);return te+=x.fa,x.j+De<x.o?(n(j.ec,j.fc,Q,te,Re),n(j.cc,j.dc,se,ge,Fe),n(j.Mc,j.Nc,Ae,oe,Fe),_--):1&De||X(Q,te,null,null,se,ge,Ae,oe,se,ge,Ae,oe,q,G+D.A,null,null,Re),_}function Vi(x,j,_){var D=x.F,q=[x.J];if(D!=null){var G=x.U,X=j.ba.S,Q=X==eu||X==tu;j=j.ba.f.RGBA;var te=[0],se=x.ka;te[0]=x.T,x.Kb&&(se==0?--te[0]:(--se,q[0]-=x.width),x.j+x.ka+x.T==x.o&&(te[0]=x.o-x.j-se));var ge=j.eb;se=j.fb+se*j.A,x=Qc(D,q[0],x.width,G,te,ge,se+(Q?0:3),j.A),t(_==te),x&&bt(X)&&cl(ge,se,Q,G,te,j.A)}return 0}function ei(x){var j=x.ma,_=j.ba.S,D=11>_,q=_==ho||_==Jc||_==eu||_==hr||_==12||bt(_);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!nc(j.Oa,x,q?11:12))return 0;if(q&&bt(_)&&Jo(),x.da)alert("todo:use_scaling");else{if(D){if(j.Ib=Qs,x.Kb){if(_=x.U+1>>1,j.memory=i(x.U+2*_),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+x.U,j.Mc=j.cc,j.Nc=j.dc+_,j.Ib=Ln,Jo()}}else alert("todo:EmitYUV");q&&(j.Jb=Vi,D&&Oi())}if(D&&!Rn){for(x=0;256>x;++x)Sa[x]=89858*(x-128)+Di>>Os,Aa[x]=-22014*(x-128)+Di,pc[x]=-45773*(x-128),pl[x]=113618*(x-128)+Di>>Os;for(x=or;x<dr;++x)j=76283*(x-16)+Di>>Os,od[x-or]=on(j,255),ep[x-or]=on(j+8>>4,15);Rn=1}return 1}function wt(x){var j=x.ma,_=x.U,D=x.T;return t(!(1&x.ka)),0>=_||0>=D?0:(_=j.Ib(x,j),j.Jb!=null&&j.Jb(x,j,_),j.Dc+=_,1)}function Ma(x){x.ma.memory=null}function Si(x,j,_,D){return ee(x,8)!=47?0:(j[0]=ee(x,14)+1,_[0]=ee(x,14)+1,D[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function Hn(x,j){if(4>x)return x+1;var _=x-2>>1;return(2+(1&x)<<_)+ee(j,_)+1}function ti(x,j){return 120<j?j-120:1<=(_=((_=hv[j-1])>>4)*x+(8-(15&_)))?_:1;var _}function yr(x,j,_){var D=ie(_),q=x[j+=255&D].g-8;return 0<q&&(Z(_,_.u+8),D=ie(_),j+=x[j].value,j+=D&(1<<q)-1),Z(_,_.u+x[j].g),x[j].value}function Yr(x,j,_){return _.g+=x.g,_.value+=x.value<<j>>>0,t(8>=_.g),x.g}function sn(x,j,_){var D=x.xc;return t((j=D==0?0:x.vc[x.md*(_>>D)+(j>>D)])<x.Wb),x.Ya[j]}function ys(x,j,_,D){var q=x.ab,G=x.c*j,X=x.C;j=X+j;var Q=_,te=D;for(D=x.Ta,_=x.Ua;0<q--;){var se=x.gc[q],ge=X,Ae=j,oe=Q,be=te,Se=(te=D,Q=_,se.Ea);switch(t(ge<Ae),t(Ae<=se.nc),se.hc){case 2:Zr(oe,be,(Ae-ge)*Se,te,Q);break;case 0:var Te=ge,Ce=Ae,Ee=te,De=Q,Re=(rt=se).Ea;Te==0&&(Ps(oe,be,null,null,1,Ee,De),qt(oe,be+1,0,0,Re-1,Ee,De+1),be+=Re,De+=Re,++Te);for(var Fe=1<<rt.b,ct=Fe-1,Ze=Be(Re,rt.b),Tt=rt.K,rt=rt.w+(Te>>rt.b)*Ze;Te<Ce;){var Wt=Tt,Ur=rt,Mt=1;for(ts(oe,be,Ee,De-Re,1,Ee,De);Mt<Re;){var Qe=(Mt&~ct)+Fe;Qe>Re&&(Qe=Re),(0,il[Wt[Ur++]>>8&15])(oe,be+ +Mt,Ee,De+Mt-Re,Qe-Mt,Ee,De+Mt),Mt=Qe}be+=Re,De+=Re,++Te&ct||(rt+=Ze)}Ae!=se.nc&&n(te,Q-Se,te,Q+(Ae-ge-1)*Se,Se);break;case 1:for(Se=oe,Ce=be,Re=(oe=se.Ea)-(De=oe&~(Ee=(be=1<<se.b)-1)),Te=Be(oe,se.b),Fe=se.K,se=se.w+(ge>>se.b)*Te;ge<Ae;){for(ct=Fe,Ze=se,Tt=new xt,rt=Ce+De,Wt=Ce+oe;Ce<rt;)st(ct[Ze++],Tt),ic(Tt,Se,Ce,be,te,Q),Ce+=be,Q+=be;Ce<Wt&&(st(ct[Ze++],Tt),ic(Tt,Se,Ce,Re,te,Q),Ce+=Re,Q+=Re),++ge&Ee||(se+=Te)}break;case 3:if(oe==te&&be==Q&&0<se.b){for(Ce=te,oe=Se=Q+(Ae-ge)*Se-(De=(Ae-ge)*Be(se.Ea,se.b)),be=te,Ee=Q,Te=[],De=(Re=De)-1;0<=De;--De)Te[De]=be[Ee+De];for(De=Re-1;0<=De;--De)Ce[oe+De]=Te[De];nl(se,ge,Ae,te,Se,te,Q)}else nl(se,ge,Ae,oe,be,te,Q)}Q=D,te=_}te!=_&&n(D,_,Q,te,G)}function Js(x,j){var _=x.V,D=x.Ba+x.c*x.C,q=j-x.C;if(t(j<=x.l.o),t(16>=q),0<q){var G=x.l,X=x.Ta,Q=x.Ua,te=G.width;if(ys(x,q,_,D),q=Q=[Q],t((_=x.C)<(D=j)),t(G.v<G.va),D>G.o&&(D=G.o),_<G.j){var se=G.j-_;_=G.j,q[0]+=se*te}if(_>=D?_=0:(q[0]+=4*G.v,G.ka=_-G.j,G.U=G.va-G.v,G.T=D-_,_=1),_){if(Q=Q[0],11>(_=x.ca).S){var ge=_.f.RGBA,Ae=(D=_.S,q=G.U,G=G.T,se=ge.eb,ge.A),oe=G;for(ge=ge.fb+x.Ma*ge.A;0<oe--;){var be=X,Se=Q,Te=q,Ce=se,Ee=ge;switch(D){case nd:sc(be,Se,Te,Ce,Ee);break;case ho:Cs(be,Se,Te,Ce,Ee);break;case uc:Cs(be,Se,Te,Ce,Ee),cl(Ce,Ee,0,Te,1,0);break;case Yh:sl(be,Se,Te,Ce,Ee);break;case Jc:vt(be,Se,Te,Ce,Ee,1);break;case ul:vt(be,Se,Te,Ce,Ee,1),cl(Ce,Ee,0,Te,1,0);break;case eu:vt(be,Se,Te,Ce,Ee,0);break;case tu:vt(be,Se,Te,Ce,Ee,0),cl(Ce,Ee,1,Te,1,0);break;case hr:co(be,Se,Te,Ce,Ee);break;case ru:co(be,Se,Te,Ce,Ee),hf(Ce,Ee,Te,1,0);break;case ad:uo(be,Se,Te,Ce,Ee);break;default:t(0)}Q+=te,ge+=Ae}x.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=_.height)}}x.C=j,t(x.C<=x.i)}function Ai(x){var j;if(0<x.ua)return 0;for(j=0;j<x.Wb;++j){var _=x.Ya[j].G,D=x.Ya[j].H;if(0<_[1][D[1]+0].g||0<_[2][D[2]+0].g||0<_[3][D[3]+0].g)return 0}return 1}function Ki(x,j,_,D,q,G){if(x.Z!=0){var X=x.qd,Q=x.rd;for(t(Kn[x.Z]!=null);j<_;++j)Kn[x.Z](X,Q,D,q,D,q,G),X=D,Q=q,q+=G;x.qd=X,x.rd=Q}}function Dn(x,j){var _=x.l.ma,D=_.Z==0||_.Z==1?x.l.j:x.C;if(D=x.C<D?D:x.C,t(j<=x.l.o),j>D){var q=x.l.width,G=_.ca,X=_.tb+q*D,Q=x.V,te=x.Ba+x.c*D,se=x.gc;t(x.ab==1),t(se[0].hc==3),Ei(se[0],D,j,Q,te,G,X),Ki(_,D,j,G,X,q)}x.C=x.Ma=j}function ri(x,j,_,D,q,G,X){var Q=x.$/D,te=x.$%D,se=x.m,ge=x.s,Ae=_+x.$,oe=Ae;q=_+D*q;var be=_+D*G,Se=280+ge.ua,Te=x.Pb?Q:16777216,Ce=0<ge.ua?ge.Wa:null,Ee=ge.wc,De=Ae<be?sn(ge,te,Q):null;t(x.C<G),t(be<=q);var Re=!1;e:for(;;){for(;Re||Ae<be;){var Fe=0;if(Q>=Te){var ct=Ae-_;t((Te=x).Pb),Te.wd=Te.m,Te.xd=ct,0<Te.s.ua&&He(Te.s.Wa,Te.s.vb),Te=Q+sd}if(te&Ee||(De=sn(ge,te,Q)),t(De!=null),De.Qb&&(j[Ae]=De.qb,Re=!0),!Re)if(de(se),De.jc){Fe=se,ct=j;var Ze=Ae,Tt=De.pd[ie(Fe)&ci-1];t(De.jc),256>Tt.g?(Z(Fe,Fe.u+Tt.g),ct[Ze]=Tt.value,Fe=0):(Z(Fe,Fe.u+Tt.g-256),t(256<=Tt.value),Fe=Tt.value),Fe==0&&(Re=!0)}else Fe=yr(De.G[0],De.H[0],se);if(se.h)break;if(Re||256>Fe){if(!Re)if(De.nd)j[Ae]=(De.qb|Fe<<8)>>>0;else{if(de(se),Re=yr(De.G[1],De.H[1],se),de(se),ct=yr(De.G[2],De.H[2],se),Ze=yr(De.G[3],De.H[3],se),se.h)break;j[Ae]=(Ze<<24|Re<<16|Fe<<8|ct)>>>0}if(Re=!1,++Ae,++te>=D&&(te=0,++Q,X!=null&&Q<=G&&!(Q%16)&&X(x,Q),Ce!=null))for(;oe<Ae;)Fe=j[oe++],Ce.X[(506832829*Fe&4294967295)>>>Ce.Mb]=Fe}else if(280>Fe){if(Fe=Hn(Fe-256,se),ct=yr(De.G[4],De.H[4],se),de(se),ct=ti(D,ct=Hn(ct,se)),se.h)break;if(Ae-_<ct||q-Ae<Fe)break e;for(Ze=0;Ze<Fe;++Ze)j[Ae+Ze]=j[Ae+Ze-ct];for(Ae+=Fe,te+=Fe;te>=D;)te-=D,++Q,X!=null&&Q<=G&&!(Q%16)&&X(x,Q);if(t(Ae<=q),te&Ee&&(De=sn(ge,te,Q)),Ce!=null)for(;oe<Ae;)Fe=j[oe++],Ce.X[(506832829*Fe&4294967295)>>>Ce.Mb]=Fe}else{if(!(Fe<Se))break e;for(Re=Fe-280,t(Ce!=null);oe<Ae;)Fe=j[oe++],Ce.X[(506832829*Fe&4294967295)>>>Ce.Mb]=Fe;Fe=Ae,t(!(Re>>>(ct=Ce).Xa)),j[Fe]=ct.X[Re],Re=!0}Re||t(se.h==fe(se))}if(x.Pb&&se.h&&Ae<q)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&He(x.s.vb,x.s.Wa);else{if(se.h)break e;X!=null&&X(x,Q>G?G:Q),x.a=0,x.$=Ae-_}return 1}return x.a=3,0}function Ra(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var j=x.Wa;j!=null&&(j.X=null),x.vb=null,t(x!=null)}function zo(){var x=new Ct;return x==null?null:(x.a=0,x.xb=fc,cr("Predictor","VP8LPredictors"),cr("Predictor","VP8LPredictors_C"),cr("PredictorAdd","VP8LPredictorsAdd"),cr("PredictorAdd","VP8LPredictorsAdd_C"),Zr=zt,ic=Pt,sc=Gr,Cs=Kt,co=Ft,uo=Bt,sl=br,B.VP8LMapColor32b=rs,B.VP8LMapColor8b=al,x)}function Pi(x,j,_,D,q){var G=1,X=[x],Q=[j],te=D.m,se=D.s,ge=null,Ae=0;e:for(;;){if(_)for(;G&&ee(te,1);){var oe=X,be=Q,Se=D,Te=1,Ce=Se.m,Ee=Se.gc[Se.ab],De=ee(Ce,2);if(Se.Oc&1<<De)G=0;else{switch(Se.Oc|=1<<De,Ee.hc=De,Ee.Ea=oe[0],Ee.nc=be[0],Ee.K=[null],++Se.ab,t(4>=Se.ab),De){case 0:case 1:Ee.b=ee(Ce,3)+2,Te=Pi(Be(Ee.Ea,Ee.b),Be(Ee.nc,Ee.b),0,Se,Ee.K),Ee.K=Ee.K[0];break;case 3:var Re,Fe=ee(Ce,8)+1,ct=16<Fe?0:4<Fe?1:2<Fe?2:3;if(oe[0]=Be(Ee.Ea,ct),Ee.b=ct,Re=Te=Pi(Fe,1,0,Se,Ee.K)){var Ze,Tt=Fe,rt=Ee,Wt=1<<(8>>rt.b),Ur=i(Wt);if(Ur==null)Re=0;else{var Mt=rt.K[0],Qe=rt.w;for(Ur[0]=rt.K[0][0],Ze=1;Ze<1*Tt;++Ze)Ur[Ze]=pt(Mt[Qe+Ze],Ur[Ze-1]);for(;Ze<4*Wt;++Ze)Ur[Ze]=0;rt.K[0]=null,rt.K[0]=Ur,Re=1}}Te=Re;break;case 2:break;default:t(0)}G=Te}}if(X=X[0],Q=Q[0],G&&ee(te,1)&&!(G=1<=(Ae=ee(te,4))&&11>=Ae)){D.a=3;break e}var Ge;if(Ge=G)t:{var Qr,At,$t,Nr=D,Cn=X,dn=Q,Mr=Ae,wn=_,_n=Nr.m,Cr=Nr.s,Vt=[null],Jt=1,_r=0,er=Zh[Mr];r:for(;;){if(wn&&ee(_n,1)){var qr=ee(_n,3)+2,$r=Be(Cn,qr),pr=Be(dn,qr),Gn=$r*pr;if(!Pi($r,pr,0,Nr,Vt))break r;for(Vt=Vt[0],Cr.xc=qr,Qr=0;Qr<Gn;++Qr){var fr=Vt[Qr]>>8&65535;Vt[Qr]=fr,fr>=Jt&&(Jt=fr+1)}}if(_n.h)break r;for(At=0;5>At;++At){var mr=dl[At];!At&&0<Mr&&(mr+=1<<Mr),_r<mr&&(_r=mr)}var fn=l(Jt*er,H),Fn=Jt,Pa=l(Fn,W);if(Pa==null)var Jr=null;else t(65536>=Fn),Jr=Pa;var en=i(_r);if(Jr==null||en==null||fn==null){Nr.a=1;break r}var Yn=fn;for(Qr=$t=0;Qr<Jt;++Qr){var vr=Jr[Qr],Xn=vr.G,fi=vr.H,Ti=0,On=1,tn=0;for(At=0;5>At;++At){mr=dl[At],Xn[At]=Yn,fi[At]=$t,!At&&0<Mr&&(mr+=1<<Mr);a:{var vo,Es=mr,mc=Nr,is=en,rp=Yn,Sf=$t,kr=0,Mi=mc.m,Af=ee(Mi,1);if(a(is,0,0,Es),Af){var Pf=ee(Mi,1)+1,ld=ee(Mi,1),cd=ee(Mi,ld==0?1:8);is[cd]=1,Pf==2&&(is[cd=ee(Mi,8)]=1);var ss=1}else{var Or=i(19),hn=ee(Mi,4)+4;if(19<hn){mc.a=3;var rn=0;break a}for(vo=0;vo<hn;++vo)Or[fv[vo]]=ee(Mi,3);var vc=void 0,Ls=void 0,gc=mc,xv=Or,Nn=Es,ud=is,ou=0,os=gc.m,Ri=8,Ha=l(128,H);n:for(;T(Ha,0,7,xv,19);){if(ee(os,1)){var lu=2+2*ee(os,3);if((vc=2+ee(os,lu))>Nn)break n}else vc=Nn;for(Ls=0;Ls<Nn&&vc--;){de(os);var dd=Ha[0+(127&ie(os))];Z(os,os.u+dd.g);var go=dd.value;if(16>go)ud[Ls++]=go,go!=0&&(Ri=go);else{var np=go==16,Cf=go-16,ap=id[Cf],_f=ee(os,nu[Cf])+ap;if(Ls+_f>Nn)break n;for(var ip=np?Ri:0;0<_f--;)ud[Ls++]=ip}}ou=1;break n}ou||(gc.a=3),ss=ou}(ss=ss&&!Mi.h)&&(kr=T(rp,Sf,8,is,Es)),ss&&kr!=0?rn=kr:(mc.a=3,rn=0)}if(rn==0)break r;if(On&&Xh[At]==1&&(On=Yn[$t].g==0),Ti+=Yn[$t].g,$t+=rn,3>=At){var xc,fd=en[0];for(xc=1;xc<mr;++xc)en[xc]>fd&&(fd=en[xc]);tn+=fd}}if(vr.nd=On,vr.Qb=0,On&&(vr.qb=(Xn[3][fi[3]+0].value<<24|Xn[1][fi[1]+0].value<<16|Xn[2][fi[2]+0].value)>>>0,Ti==0&&256>Xn[0][fi[0]+0].value&&(vr.Qb=1,vr.qb+=Xn[0][fi[0]+0].value<<8)),vr.jc=!vr.Qb&&6>tn,vr.jc){var cu,Va=vr;for(cu=0;cu<ci;++cu){var Ds=cu,Fi=Va.pd[Ds],vl=Va.G[0][Va.H[0]+Ds];256<=vl.value?(Fi.g=vl.g+256,Fi.value=vl.value):(Fi.g=0,Fi.value=0,Ds>>=Yr(vl,8,Fi),Ds>>=Yr(Va.G[1][Va.H[1]+Ds],16,Fi),Ds>>=Yr(Va.G[2][Va.H[2]+Ds],0,Fi),Yr(Va.G[3][Va.H[3]+Ds],24,Fi))}}}Cr.vc=Vt,Cr.Wb=Jt,Cr.Ya=Jr,Cr.yc=fn,Ge=1;break t}Ge=0}if(!(G=Ge)){D.a=3;break e}if(0<Ae){if(se.ua=1<<Ae,!ne(se.Wa,Ae)){D.a=1,G=0;break e}}else se.ua=0;var hd=D,pd=X,sp=Q,md=hd.s,vd=md.xc;if(hd.c=pd,hd.i=sp,md.md=Be(pd,vd),md.wc=vd==0?-1:(1<<vd)-1,_){D.xb=as;break e}if((ge=i(X*Q))==null){D.a=1,G=0;break e}G=(G=ri(D,ge,0,X,Q,Q,null))&&!te.h;break e}return G?(q!=null?q[0]=ge:(t(ge==null),t(_)),D.$=0,_||Ra(se)):Ra(se),G}function eo(x,j){var _=x.c*x.i,D=_+j+16*j;return t(x.c<=j),x.V=i(D),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+_+j,1)}function Bo(x,j){var _=x.C,D=j-_,q=x.V,G=x.Ba+x.c*_;for(t(j<=x.l.o);0<D;){var X=16<D?16:D,Q=x.l.ma,te=x.l.width,se=te*X,ge=Q.ca,Ae=Q.tb+te*_,oe=x.Ta,be=x.Ua;ys(x,X,q,G),pf(oe,be,ge,Ae,se),Ki(Q,_,_+X,ge,Ae,te),D-=X,q+=X*x.c,_+=X}t(_==j),x.C=x.Ma=j}function Uo(){this.ub=this.yd=this.td=this.Rb=0}function Hl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cf(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function jr(){this.Yb=function(){var x=[];return function j(_,D,q){for(var G=q[D],X=0;X<G&&(_.push(q.length>D+1?[]:0),!(q.length<D+1));X++)j(_[X],D+1,q)}(x,0,[3,11]),x}()}function Ku(){this.jb=i(3),this.Wc=c([4,8],jr),this.Xc=c([4,17],jr)}function Vl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Fa(){this.ld=this.La=this.dd=this.tc=0}function to(){this.Na=this.la=0}function Gu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fa),this.Y=0,this.ya=Array(new Kl),this.aa=0,this.l=new Gl}function za(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Yu(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new Uo,this.Kc=new Hl,this.ed=new Vl,this.Qa=new cf,this.Ic=this.$c=this.Aa=0,this.D=new qo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,z),this.ia=0,this.pb=l(4,Gu),this.Pa=new Ku,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new za),this.Hd=0,this.rb=Array(new to),this.sb=0,this.wa=Array(new Fa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kl),this.L=this.aa=0,this.gd=c([4,2],Fa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function on(x,j){return 0>x?0:x>j?j:x}function Gl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function uf(){var x=new Yu;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,fl||(fl=Gi)),x}function ln(x,j,_){return x.a==0&&(x.a=j,x.sc=_,x.cb=0),0}function $o(x,j,_){return 3<=_&&x[j+0]==157&&x[j+1]==1&&x[j+2]==42}function Ba(x,j){if(x==null)return 0;if(x.a=0,x.sc="OK",j==null)return ln(x,2,"null VP8Io passed to VP8GetHeaders()");var _=j.data,D=j.w,q=j.ha;if(4>q)return ln(x,7,"Truncated header.");var G=_[D+0]|_[D+1]<<8|_[D+2]<<16,X=x.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return ln(x,3,"Incorrect keyframe parameters.");if(!X.yd)return ln(x,4,"Frame not displayable.");D+=3,q-=3;var Q=x.Kc;if(X.Rb){if(7>q)return ln(x,7,"cannot parse picture header");if(!$o(_,D,q))return ln(x,3,"Bad code word");Q.c=16383&(_[D+4]<<8|_[D+3]),Q.Td=_[D+4]>>6,Q.i=16383&(_[D+6]<<8|_[D+5]),Q.Ud=_[D+6]>>6,D+=7,q-=7,x.za=Q.c+15>>4,x.Ub=Q.i+15>>4,j.width=Q.c,j.height=Q.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((G=x.Pa).jb,0,255,G.jb.length),t((G=x.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(X.ub>q)return ln(x,7,"bad partition length");pe(G=x.m,_,D,X.ub),D+=X.ub,q-=X.ub,X.Rb&&(Q.Ld=ae(G),Q.Kd=ae(G)),Q=x.Qa;var te,se=x.Pa;if(t(G!=null),t(Q!=null),Q.Cb=ae(G),Q.Cb){if(Q.Bb=ae(G),ae(G)){for(Q.Fb=ae(G),te=0;4>te;++te)Q.Zb[te]=ae(G)?J(G,7):0;for(te=0;4>te;++te)Q.Lb[te]=ae(G)?J(G,6):0}if(Q.Bb)for(te=0;3>te;++te)se.jb[te]=ae(G)?ue(G,8):255}else Q.Bb=0;if(G.Ka)return ln(x,3,"cannot parse segment header");if((Q=x.ed).zd=ae(G),Q.Tb=ue(G,6),Q.wb=ue(G,3),Q.Pc=ae(G),Q.Pc&&ae(G)){for(se=0;4>se;++se)ae(G)&&(Q.vd[se]=J(G,6));for(se=0;4>se;++se)ae(G)&&(Q.od[se]=J(G,6))}if(x.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return ln(x,3,"cannot parse filter header");var ge=q;if(q=te=D,D=te+ge,Q=ge,x.Xb=(1<<ue(x.m,2))-1,ge<3*(se=x.Xb))_=7;else{for(te+=3*se,Q-=3*se,ge=0;ge<se;++ge){var Ae=_[q+0]|_[q+1]<<8|_[q+2]<<16;Ae>Q&&(Ae=Q),pe(x.Jc[+ge],_,te,Ae),te+=Ae,Q-=Ae,q+=3}pe(x.Jc[+se],_,te,Q),_=te<D?0:5}if(_!=0)return ln(x,_,"cannot parse partitions");for(_=ue(te=x.m,7),q=ae(te)?J(te,4):0,D=ae(te)?J(te,4):0,Q=ae(te)?J(te,4):0,se=ae(te)?J(te,4):0,te=ae(te)?J(te,4):0,ge=x.Qa,Ae=0;4>Ae;++Ae){if(ge.Cb){var oe=ge.Zb[Ae];ge.Fb||(oe+=_)}else{if(0<Ae){x.pb[Ae]=x.pb[0];continue}oe=_}var be=x.pb[Ae];be.Sc[0]=dc[on(oe+q,127)],be.Sc[1]=au[on(oe+0,127)],be.Eb[0]=2*dc[on(oe+D,127)],be.Eb[1]=101581*au[on(oe+Q,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=dc[on(oe+se,117)],be.Qc[1]=au[on(oe+te,127)],be.lc=oe+te}if(!X.Rb)return ln(x,4,"Not a key frame.");for(ae(G),X=x.Pa,_=0;4>_;++_){for(q=0;8>q;++q)for(D=0;3>D;++D)for(Q=0;11>Q;++Q)se=ye(G,mv[_][q][D][Q])?ue(G,8):Jh[_][q][D][Q],X.Wc[_][q].Yb[D][Q]=se;for(q=0;17>q;++q)X.Xc[_][q]=X.Wc[_][Nf[q]]}return x.kc=ae(G),x.kc&&(x.Bd=ue(G,8)),x.cb=1}function Gi(x,j,_,D,q,G,X){var Q=j[q].Yb[_];for(_=0;16>q;++q){if(!ye(x,Q[_+0]))return q;for(;!ye(x,Q[_+1]);)if(Q=j[++q].Yb[0],_=0,q==16)return 16;var te=j[q+1].Yb;if(ye(x,Q[_+2])){var se=x,ge=0;if(ye(se,(oe=Q)[(Ae=_)+3]))if(ye(se,oe[Ae+6])){for(Q=0,Ae=2*(ge=ye(se,oe[Ae+8]))+(oe=ye(se,oe[Ae+9+ge])),ge=0,oe=yf[Ae];oe[Q];++Q)ge+=ge+ye(se,oe[Q]);ge+=3+(8<<Ae)}else ye(se,oe[Ae+7])?(ge=7+2*ye(se,165),ge+=ye(se,145)):ge=5+ye(se,159);else ge=ye(se,oe[Ae+4])?3+ye(se,oe[Ae+5]):2;Q=te[2]}else ge=1,Q=te[1];te=X+wf[q],0>(se=x).b&&we(se);var Ae,oe=se.b,be=(Ae=se.Ca>>1)-(se.I>>oe)>>31;--se.b,se.Ca+=be,se.Ca|=1,se.I-=(Ae+1&be)<<oe,G[te]=((ge^be)-be)*D[(0<q)+0]}return 16}function Wo(x){var j=x.rb[x.sb-1];j.la=0,j.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function ni(x,j,_,D,q){q=x[j+_+32*D]+(q>>3),x[j+_+32*D]=-256&q?0>q?0:255:q}function bn(x,j,_,D,q,G){ni(x,j,0,_,D+q),ni(x,j,1,_,D+G),ni(x,j,2,_,D-G),ni(x,j,3,_,D-q)}function Ci(x){return(20091*x>>16)+x}function Uc(x,j,_,D){var q,G=0,X=i(16);for(q=0;4>q;++q){var Q=x[j+0]+x[j+8],te=x[j+0]-x[j+8],se=(35468*x[j+4]>>16)-Ci(x[j+12]),ge=Ci(x[j+4])+(35468*x[j+12]>>16);X[G+0]=Q+ge,X[G+1]=te+se,X[G+2]=te-se,X[G+3]=Q-ge,G+=4,j++}for(q=G=0;4>q;++q)Q=(x=X[G+0]+4)+X[G+8],te=x-X[G+8],se=(35468*X[G+4]>>16)-Ci(X[G+12]),ni(_,D,0,0,Q+(ge=Ci(X[G+4])+(35468*X[G+12]>>16))),ni(_,D,1,0,te+se),ni(_,D,2,0,te-se),ni(_,D,3,0,Q-ge),G++,D+=32}function qc(x,j,_,D){var q=x[j+0]+4,G=35468*x[j+4]>>16,X=Ci(x[j+4]),Q=35468*x[j+1]>>16;bn(_,D,0,q+X,x=Ci(x[j+1]),Q),bn(_,D,1,q+G,x,Q),bn(_,D,2,q-G,x,Q),bn(_,D,3,q-X,x,Q)}function Ho(x,j,_,D,q){Uc(x,j,_,D),q&&Uc(x,j+16,_,D+4)}function Yi(x,j,_,D){ol(x,j+0,_,D,1),ol(x,j+32,_,D+128,1)}function Yl(x,j,_,D){var q;for(x=x[j+0]+4,q=0;4>q;++q)for(j=0;4>j;++j)ni(_,D,j,q,x)}function Yt(x,j,_,D){x[j+0]&&Qt(x,j+0,_,D),x[j+16]&&Qt(x,j+16,_,D+4),x[j+32]&&Qt(x,j+32,_,D+128),x[j+48]&&Qt(x,j+48,_,D+128+4)}function Vo(x,j,_,D){var q,G=i(16);for(q=0;4>q;++q){var X=x[j+0+q]+x[j+12+q],Q=x[j+4+q]+x[j+8+q],te=x[j+4+q]-x[j+8+q],se=x[j+0+q]-x[j+12+q];G[0+q]=X+Q,G[8+q]=X-Q,G[4+q]=se+te,G[12+q]=se-te}for(q=0;4>q;++q)X=(x=G[0+4*q]+3)+G[3+4*q],Q=G[1+4*q]+G[2+4*q],te=G[1+4*q]-G[2+4*q],se=x-G[3+4*q],_[D+0]=X+Q>>3,_[D+16]=se+te>>3,_[D+32]=X-Q>>3,_[D+48]=se-te>>3,D+=64}function ro(x,j,_){var D,q=j-32,G=ca,X=255-x[q-1];for(D=0;D<_;++D){var Q,te=G,se=X+x[j-1];for(Q=0;Q<_;++Q)x[j+Q]=te[se+x[q+Q]];j+=32}}function $c(x,j){ro(x,j,4)}function Xu(x,j){ro(x,j,8)}function Zu(x,j){ro(x,j,16)}function Xl(x,j){var _;for(_=0;16>_;++_)n(x,j+32*_,x,j-32,16)}function Zl(x,j){var _;for(_=16;0<_;--_)a(x,j,x[j-1],16),j+=32}function ba(x,j,_){var D;for(D=0;16>D;++D)a(j,_+32*D,x,16)}function Xi(x,j){var _,D=16;for(_=0;16>_;++_)D+=x[j-1+32*_]+x[j+_-32];ba(D>>5,x,j)}function ya(x,j){var _,D=8;for(_=0;16>_;++_)D+=x[j-1+32*_];ba(D>>4,x,j)}function ai(x,j){var _,D=8;for(_=0;16>_;++_)D+=x[j+_-32];ba(D>>4,x,j)}function Ko(x,j){ba(128,x,j)}function St(x,j,_){return x+2*j+_+2>>2}function Zi(x,j){var _,D=j-32;for(D=new Uint8Array([St(x[D-1],x[D+0],x[D+1]),St(x[D+0],x[D+1],x[D+2]),St(x[D+1],x[D+2],x[D+3]),St(x[D+2],x[D+3],x[D+4])]),_=0;4>_;++_)n(x,j+32*_,D,0,D.length)}function df(x,j){var _=x[j-1],D=x[j-1+32],q=x[j-1+64],G=x[j-1+96];_e(x,j+0,16843009*St(x[j-1-32],_,D)),_e(x,j+32,16843009*St(_,D,q)),_e(x,j+64,16843009*St(D,q,G)),_e(x,j+96,16843009*St(q,G,G))}function Qu(x,j){var _,D=4;for(_=0;4>_;++_)D+=x[j+_-32]+x[j-1+32*_];for(D>>=3,_=0;4>_;++_)a(x,j+32*_,D,4)}function Ua(x,j){var _=x[j-1+0],D=x[j-1+32],q=x[j-1+64],G=x[j-1-32],X=x[j+0-32],Q=x[j+1-32],te=x[j+2-32],se=x[j+3-32];x[j+0+96]=St(D,q,x[j-1+96]),x[j+1+96]=x[j+0+64]=St(_,D,q),x[j+2+96]=x[j+1+64]=x[j+0+32]=St(G,_,D),x[j+3+96]=x[j+2+64]=x[j+1+32]=x[j+0+0]=St(X,G,_),x[j+3+64]=x[j+2+32]=x[j+1+0]=St(Q,X,G),x[j+3+32]=x[j+2+0]=St(te,Q,X),x[j+3+0]=St(se,te,Q)}function ws(x,j){var _=x[j+1-32],D=x[j+2-32],q=x[j+3-32],G=x[j+4-32],X=x[j+5-32],Q=x[j+6-32],te=x[j+7-32];x[j+0+0]=St(x[j+0-32],_,D),x[j+1+0]=x[j+0+32]=St(_,D,q),x[j+2+0]=x[j+1+32]=x[j+0+64]=St(D,q,G),x[j+3+0]=x[j+2+32]=x[j+1+64]=x[j+0+96]=St(q,G,X),x[j+3+32]=x[j+2+64]=x[j+1+96]=St(G,X,Q),x[j+3+64]=x[j+2+96]=St(X,Q,te),x[j+3+96]=St(Q,te,te)}function Ju(x,j){var _=x[j-1+0],D=x[j-1+32],q=x[j-1+64],G=x[j-1-32],X=x[j+0-32],Q=x[j+1-32],te=x[j+2-32],se=x[j+3-32];x[j+0+0]=x[j+1+64]=G+X+1>>1,x[j+1+0]=x[j+2+64]=X+Q+1>>1,x[j+2+0]=x[j+3+64]=Q+te+1>>1,x[j+3+0]=te+se+1>>1,x[j+0+96]=St(q,D,_),x[j+0+64]=St(D,_,G),x[j+0+32]=x[j+1+96]=St(_,G,X),x[j+1+32]=x[j+2+96]=St(G,X,Q),x[j+2+32]=x[j+3+96]=St(X,Q,te),x[j+3+32]=St(Q,te,se)}function Ql(x,j){var _=x[j+0-32],D=x[j+1-32],q=x[j+2-32],G=x[j+3-32],X=x[j+4-32],Q=x[j+5-32],te=x[j+6-32],se=x[j+7-32];x[j+0+0]=_+D+1>>1,x[j+1+0]=x[j+0+64]=D+q+1>>1,x[j+2+0]=x[j+1+64]=q+G+1>>1,x[j+3+0]=x[j+2+64]=G+X+1>>1,x[j+0+32]=St(_,D,q),x[j+1+32]=x[j+0+96]=St(D,q,G),x[j+2+32]=x[j+1+96]=St(q,G,X),x[j+3+32]=x[j+2+96]=St(G,X,Q),x[j+3+64]=St(X,Q,te),x[j+3+96]=St(Q,te,se)}function Go(x,j){var _=x[j-1+0],D=x[j-1+32],q=x[j-1+64],G=x[j-1+96];x[j+0+0]=_+D+1>>1,x[j+2+0]=x[j+0+32]=D+q+1>>1,x[j+2+32]=x[j+0+64]=q+G+1>>1,x[j+1+0]=St(_,D,q),x[j+3+0]=x[j+1+32]=St(D,q,G),x[j+3+32]=x[j+1+64]=St(q,G,G),x[j+3+64]=x[j+2+64]=x[j+0+96]=x[j+1+96]=x[j+2+96]=x[j+3+96]=G}function Wc(x,j){var _=x[j-1+0],D=x[j-1+32],q=x[j-1+64],G=x[j-1+96],X=x[j-1-32],Q=x[j+0-32],te=x[j+1-32],se=x[j+2-32];x[j+0+0]=x[j+2+32]=_+X+1>>1,x[j+0+32]=x[j+2+64]=D+_+1>>1,x[j+0+64]=x[j+2+96]=q+D+1>>1,x[j+0+96]=G+q+1>>1,x[j+3+0]=St(Q,te,se),x[j+2+0]=St(X,Q,te),x[j+1+0]=x[j+3+32]=St(_,X,Q),x[j+1+32]=x[j+3+64]=St(D,_,X),x[j+1+64]=x[j+3+96]=St(q,D,_),x[j+1+96]=St(G,q,D)}function _i(x,j){var _;for(_=0;8>_;++_)n(x,j+32*_,x,j-32,8)}function Yo(x,j){var _;for(_=0;8>_;++_)a(x,j,x[j-1],8),j+=32}function wa(x,j,_){var D;for(D=0;8>D;++D)a(j,_+32*D,x,8)}function Jl(x,j){var _,D=8;for(_=0;8>_;++_)D+=x[j+_-32]+x[j-1+32*_];wa(D>>4,x,j)}function Hc(x,j){var _,D=4;for(_=0;8>_;++_)D+=x[j+_-32];wa(D>>3,x,j)}function Vc(x,j){var _,D=4;for(_=0;8>_;++_)D+=x[j-1+32*_];wa(D>>3,x,j)}function ec(x,j){wa(128,x,j)}function ii(x,j,_){var D=x[j-_],q=x[j+0],G=3*(q-D)+ns[1020+x[j-2*_]-x[j+_]],X=cc[112+(G+4>>3)];x[j-_]=ca[255+D+cc[112+(G+3>>3)]],x[j+0]=ca[255+q-X]}function Xo(x,j,_,D){var q=x[j+0],G=x[j+_];return ui[255+x[j-2*_]-x[j-_]]>D||ui[255+G-q]>D}function Zo(x,j,_,D){return 4*ui[255+x[j-_]-x[j+0]]+ui[255+x[j-2*_]-x[j+_]]<=D}function si(x,j,_,D,q){var G=x[j-3*_],X=x[j-2*_],Q=x[j-_],te=x[j+0],se=x[j+_],ge=x[j+2*_],Ae=x[j+3*_];return 4*ui[255+Q-te]+ui[255+X-se]>D?0:ui[255+x[j-4*_]-G]<=q&&ui[255+G-X]<=q&&ui[255+X-Q]<=q&&ui[255+Ae-ge]<=q&&ui[255+ge-se]<=q&&ui[255+se-te]<=q}function Ns(x,j,_,D){var q=2*D+1;for(D=0;16>D;++D)Zo(x,j+D,_,q)&&ii(x,j+D,_)}function no(x,j,_,D){var q=2*D+1;for(D=0;16>D;++D)Zo(x,j+D*_,1,q)&&ii(x,j+D*_,1)}function Kc(x,j,_,D){var q;for(q=3;0<q;--q)Ns(x,j+=4*_,_,D)}function Qo(x,j,_,D){var q;for(q=3;0<q;--q)no(x,j+=4,_,D)}function oi(x,j,_,D,q,G,X,Q){for(G=2*G+1;0<q--;){if(si(x,j,_,G,X))if(Xo(x,j,_,Q))ii(x,j,_);else{var te=x,se=j,ge=_,Ae=te[se-2*ge],oe=te[se-ge],be=te[se+0],Se=te[se+ge],Te=te[se+2*ge],Ce=27*(De=ns[1020+3*(be-oe)+ns[1020+Ae-Se]])+63>>7,Ee=18*De+63>>7,De=9*De+63>>7;te[se-3*ge]=ca[255+te[se-3*ge]+De],te[se-2*ge]=ca[255+Ae+Ee],te[se-ge]=ca[255+oe+Ce],te[se+0]=ca[255+be-Ce],te[se+ge]=ca[255+Se-Ee],te[se+2*ge]=ca[255+Te-De]}j+=D}}function Qi(x,j,_,D,q,G,X,Q){for(G=2*G+1;0<q--;){if(si(x,j,_,G,X))if(Xo(x,j,_,Q))ii(x,j,_);else{var te=x,se=j,ge=_,Ae=te[se-ge],oe=te[se+0],be=te[se+ge],Se=cc[112+(4+(Te=3*(oe-Ae))>>3)],Te=cc[112+(Te+3>>3)],Ce=Se+1>>1;te[se-2*ge]=ca[255+te[se-2*ge]+Ce],te[se-ge]=ca[255+Ae+Te],te[se+0]=ca[255+oe-Se],te[se+ge]=ca[255+be-Ce]}j+=D}}function Vn(x,j,_,D,q,G){oi(x,j,_,1,16,D,q,G)}function li(x,j,_,D,q,G){oi(x,j,1,_,16,D,q,G)}function tc(x,j,_,D,q,G){var X;for(X=3;0<X;--X)Qi(x,j+=4*_,_,1,16,D,q,G)}function S(x,j,_,D,q,G){var X;for(X=3;0<X;--X)Qi(x,j+=4,1,_,16,D,q,G)}function $(x,j,_,D,q,G,X,Q){oi(x,j,q,1,8,G,X,Q),oi(_,D,q,1,8,G,X,Q)}function ce(x,j,_,D,q,G,X,Q){oi(x,j,1,q,8,G,X,Q),oi(_,D,1,q,8,G,X,Q)}function ve(x,j,_,D,q,G,X,Q){Qi(x,j+4*q,q,1,8,G,X,Q),Qi(_,D+4*q,q,1,8,G,X,Q)}function je(x,j,_,D,q,G,X,Q){Qi(x,j+4,1,q,8,G,X,Q),Qi(_,D+4,1,q,8,G,X,Q)}function Me(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lt(){this.ua=0,this.Wa=new ft,this.vb=new ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new H}function Ct(){this.xb=this.a=0,this.l=new Gl,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new re,this.Pb=0,this.wd=new re,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lt,this.ab=0,this.gc=l(4,tt),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gt(x,j,_,D,q,G,X){for(x=x==null?0:x[j+0],j=0;j<X;++j)q[G+j]=x+_[D+j]&255,x=q[G+j]}function Tr(x,j,_,D,q,G,X){var Q;if(x==null)Gt(null,null,_,D,q,G,X);else for(Q=0;Q<X;++Q)q[G+Q]=x[j+Q]+_[D+Q]&255}function cn(x,j,_,D,q,G,X){if(x==null)Gt(null,null,_,D,q,G,X);else{var Q,te=x[j+0],se=te,ge=te;for(Q=0;Q<X;++Q)se=ge+(te=x[j+Q])-se,ge=_[D+Q]+(-256&se?0>se?0:255:se)&255,se=te,q[G+Q]=ge}}function wr(x,j,_,D){var q=j.width,G=j.o;if(t(x!=null&&j!=null),0>_||0>=D||_+D>G)return null;if(!x.Cc){if(x.ga==null){var X;if(x.ga=new Lt,(X=x.ga==null)||(X=j.width*j.o,t(x.Gb.length==0),x.Gb=i(X),x.Uc=0,x.Gb==null?X=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,X=1),X=!X),!X){X=x.ga;var Q=x.Fa,te=x.P,se=x.qc,ge=x.mb,Ae=x.nb,oe=te+1,be=se-1,Se=X.l;if(t(Q!=null&&ge!=null&&j!=null),Kn[0]=null,Kn[1]=Gt,Kn[2]=Tr,Kn[3]=cn,X.ca=ge,X.tb=Ae,X.c=j.width,X.i=j.height,t(0<X.c&&0<X.i),1>=se)j=0;else if(X.$a=3&Q[te+0],X.Z=Q[te+0]>>2&3,X.Lc=Q[te+0]>>4&3,te=Q[te+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||te)j=0;else if(Se.put=wt,Se.ac=ei,Se.bc=Ma,Se.ma=X,Se.width=j.width,Se.height=j.height,Se.Da=j.Da,Se.v=j.v,Se.va=j.va,Se.j=j.j,Se.o=j.o,X.$a)e:{t(X.$a==1),j=zo();t:for(;;){if(j==null){j=0;break e}if(t(X!=null),X.mc=j,j.c=X.c,j.i=X.i,j.l=X.l,j.l.ma=X,j.l.width=X.c,j.l.height=X.i,j.a=0,le(j.m,Q,oe,be),!Pi(X.c,X.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&Ai(j.s)?(X.ic=1,Q=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(Q),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(X.ic=0,j=eo(j,X.c)),!j))break t;j=1;break e}X.mc=null,j=0}else j=be>=X.c*X.i;X=!j}if(X)return null;x.ga.Lc!=1?x.Ga=0:D=G-_}t(x.ga!=null),t(_+D<=G);e:{if(j=(Q=x.ga).c,G=Q.l.o,Q.$a==0){if(oe=x.rc,be=x.Vc,Se=x.Fa,te=x.P+1+_*j,se=x.mb,ge=x.nb+_*j,t(te<=x.P+x.qc),Q.Z!=0)for(t(Kn[Q.Z]!=null),X=0;X<D;++X)Kn[Q.Z](oe,be,Se,te,se,ge,j),oe=se,be=ge,ge+=j,te+=j;else for(X=0;X<D;++X)n(se,ge,Se,te,j),oe=se,be=ge,ge+=j,te+=j;x.rc=oe,x.Vc=be}else{if(t(Q.mc!=null),j=_+D,t((X=Q.mc)!=null),t(j<=X.i),X.C>=j)j=1;else if(Q.ic||Oi(),Q.ic){Q=X.V,oe=X.Ba,be=X.c;var Te=X.i,Ce=(Se=1,te=X.$/be,se=X.$%be,ge=X.m,Ae=X.s,X.$),Ee=be*Te,De=be*j,Re=Ae.wc,Fe=Ce<De?sn(Ae,se,te):null;t(Ce<=Ee),t(j<=Te),t(Ai(Ae));t:for(;;){for(;!ge.h&&Ce<De;){if(se&Re||(Fe=sn(Ae,se,te)),t(Fe!=null),de(ge),256>(Te=yr(Fe.G[0],Fe.H[0],ge)))Q[oe+Ce]=Te,++Ce,++se>=be&&(se=0,++te<=j&&!(te%16)&&Dn(X,te));else{if(!(280>Te)){Se=0;break t}Te=Hn(Te-256,ge);var ct,Ze=yr(Fe.G[4],Fe.H[4],ge);if(de(ge),!(Ce>=(Ze=ti(be,Ze=Hn(Ze,ge)))&&Ee-Ce>=Te)){Se=0;break t}for(ct=0;ct<Te;++ct)Q[oe+Ce+ct]=Q[oe+Ce+ct-Ze];for(Ce+=Te,se+=Te;se>=be;)se-=be,++te<=j&&!(te%16)&&Dn(X,te);Ce<De&&se&Re&&(Fe=sn(Ae,se,te))}t(ge.h==fe(ge))}Dn(X,te>j?j:te);break t}!Se||ge.h&&Ce<Ee?(Se=0,X.a=ge.h?5:3):X.$=Ce,j=Se}else j=ri(X,X.V,X.Ba,X.c,X.i,j,Bo);if(!j){D=0;break e}}_+D>=G&&(x.Cc=1),D=1}if(!D)return null;if(x.Cc&&((D=x.ga)!=null&&(D.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+_*q}function yn(x,j,_,D,q,G){for(;0<q--;){var X,Q=x,te=j+(_?1:0),se=x,ge=j+(_?0:3);for(X=0;X<D;++X){var Ae=se[ge+4*X];Ae!=255&&(Ae*=32897,Q[te+4*X+0]=Q[te+4*X+0]*Ae>>23,Q[te+4*X+1]=Q[te+4*X+1]*Ae>>23,Q[te+4*X+2]=Q[te+4*X+2]*Ae>>23)}j+=G}}function Xr(x,j,_,D,q){for(;0<D--;){var G;for(G=0;G<_;++G){var X=x[j+2*G+0],Q=15&(se=x[j+2*G+1]),te=4369*Q,se=(240&se|se>>4)*te>>16;x[j+2*G+0]=(240&X|X>>4)*te>>16&240|(15&X|X<<4)*te>>16>>4&15,x[j+2*G+1]=240&se|Q}j+=q}}function Tn(x,j,_,D,q,G,X,Q){var te,se,ge=255;for(se=0;se<q;++se){for(te=0;te<D;++te){var Ae=x[j+te];G[X+4*te]=Ae,ge&=Ae}j+=_,X+=Q}return ge!=255}function js(x,j,_,D,q){var G;for(G=0;G<q;++G)_[D+G]=x[j+G]>>8}function Oi(){cl=yn,hf=Xr,Qc=Tn,pf=js}function ks(x,j,_){B[x]=function(D,q,G,X,Q,te,se,ge,Ae,oe,be,Se,Te,Ce,Ee,De,Re){var Fe,ct=Re-1>>1,Ze=Q[te+0]|se[ge+0]<<16,Tt=Ae[oe+0]|be[Se+0]<<16;t(D!=null);var rt=3*Ze+Tt+131074>>2;for(j(D[q+0],255&rt,rt>>16,Te,Ce),G!=null&&(rt=3*Tt+Ze+131074>>2,j(G[X+0],255&rt,rt>>16,Ee,De)),Fe=1;Fe<=ct;++Fe){var Wt=Q[te+Fe]|se[ge+Fe]<<16,Ur=Ae[oe+Fe]|be[Se+Fe]<<16,Mt=Ze+Wt+Tt+Ur+524296,Qe=Mt+2*(Wt+Tt)>>3;rt=Qe+Ze>>1,Ze=(Mt=Mt+2*(Ze+Ur)>>3)+Wt>>1,j(D[q+2*Fe-1],255&rt,rt>>16,Te,Ce+(2*Fe-1)*_),j(D[q+2*Fe-0],255&Ze,Ze>>16,Te,Ce+(2*Fe-0)*_),G!=null&&(rt=Mt+Tt>>1,Ze=Qe+Ur>>1,j(G[X+2*Fe-1],255&rt,rt>>16,Ee,De+(2*Fe-1)*_),j(G[X+2*Fe+0],255&Ze,Ze>>16,Ee,De+(2*Fe+0)*_)),Ze=Wt,Tt=Ur}1&Re||(rt=3*Ze+Tt+131074>>2,j(D[q+Re-1],255&rt,rt>>16,Te,Ce+(Re-1)*_),G!=null&&(rt=3*Tt+Ze+131074>>2,j(G[X+Re-1],255&rt,rt>>16,Ee,De+(Re-1)*_)))}}function Jo(){ka[nd]=vv,ka[ho]=po,ka[Yh]=gv,ka[Jc]=hc,ka[eu]=hl,ka[hr]=iu,ka[ad]=jf,ka[uc]=po,ka[ul]=hc,ka[tu]=hl,ka[ru]=iu}function rc(x){return x&-16384?0>x?0:255:x>>mo}function ao(x,j){return rc((19077*x>>8)+(26149*j>>8)-14234)}function el(x,j,_){return rc((19077*x>>8)-(6419*j>>8)-(13320*_>>8)+8708)}function io(x,j){return rc((19077*x>>8)+(33050*j>>8)-17685)}function so(x,j,_,D,q){D[q+0]=ao(x,_),D[q+1]=el(x,j,_),D[q+2]=io(x,j)}function Mn(x,j,_,D,q){D[q+0]=io(x,j),D[q+1]=el(x,j,_),D[q+2]=ao(x,_)}function tl(x,j,_,D,q){var G=el(x,j,_);j=G<<3&224|io(x,j)>>3,D[q+0]=248&ao(x,_)|G>>5,D[q+1]=j}function rl(x,j,_,D,q){var G=240&io(x,j)|15;D[q+0]=240&ao(x,_)|el(x,j,_)>>4,D[q+1]=G}function Gc(x,j,_,D,q){D[q+0]=255,so(x,j,_,D,q+1)}function Yc(x,j,_,D,q){Mn(x,j,_,D,q),D[q+3]=255}function la(x,j,_,D,q){so(x,j,_,D,q),D[q+3]=255}function Ii(x,j,_){B[x]=function(D,q,G,X,Q,te,se,ge,Ae){for(var oe=ge+(-2&Ae)*_;ge!=oe;)j(D[q+0],G[X+0],Q[te+0],se,ge),j(D[q+1],G[X+0],Q[te+0],se,ge+_),q+=2,++X,++te,ge+=2*_;1&Ae&&j(D[q+0],G[X+0],Q[te+0],se,ge)}}function Ji(x,j,_){return _==0?x==0?j==0?6:5:j==0?4:0:_}function ed(x,j,_,D,q){switch(x>>>30){case 3:ol(j,_,D,q,0);break;case 2:zr(j,_,D,q);break;case 1:Qt(j,_,D,q)}}function qa(x,j){var _,D,q=j.M,G=j.Nb,X=x.oc,Q=x.pc+40,te=x.oc,se=x.pc+584,ge=x.oc,Ae=x.pc+600;for(_=0;16>_;++_)X[Q+32*_-1]=129;for(_=0;8>_;++_)te[se+32*_-1]=129,ge[Ae+32*_-1]=129;for(0<q?X[Q-1-32]=te[se-1-32]=ge[Ae-1-32]=129:(a(X,Q-32-1,127,21),a(te,se-32-1,127,9),a(ge,Ae-32-1,127,9)),D=0;D<x.za;++D){var oe=j.ya[j.aa+D];if(0<D){for(_=-1;16>_;++_)n(X,Q+32*_-4,X,Q+32*_+12,4);for(_=-1;8>_;++_)n(te,se+32*_-4,te,se+32*_+4,4),n(ge,Ae+32*_-4,ge,Ae+32*_+4,4)}var be=x.Gd,Se=x.Hd+D,Te=oe.ad,Ce=oe.Hc;if(0<q&&(n(X,Q-32,be[Se].y,0,16),n(te,se-32,be[Se].f,0,8),n(ge,Ae-32,be[Se].ea,0,8)),oe.Za){var Ee=X,De=Q-32+16;for(0<q&&(D>=x.za-1?a(Ee,De,be[Se].y[15],4):n(Ee,De,be[Se+1].y,0,4)),_=0;4>_;_++)Ee[De+128+_]=Ee[De+256+_]=Ee[De+384+_]=Ee[De+0+_];for(_=0;16>_;++_,Ce<<=2)Ee=X,De=Q+kf[_],di[oe.Ob[_]](Ee,De),ed(Ce,Te,16*+_,Ee,De)}else if(Ee=Ji(D,q,oe.Ob[0]),ua[Ee](X,Q),Ce!=0)for(_=0;16>_;++_,Ce<<=2)ed(Ce,Te,16*+_,X,Q+kf[_]);for(_=oe.Gc,Ee=Ji(D,q,oe.Dd),ja[Ee](te,se),ja[Ee](ge,Ae),Ce=Te,Ee=te,De=se,255&(oe=0|_)&&(170&oe?Na(Ce,256,Ee,De):ur(Ce,256,Ee,De)),oe=ge,Ce=Ae,255&(_>>=8)&&(170&_?Na(Te,320,oe,Ce):ur(Te,320,oe,Ce)),q<x.Ub-1&&(n(be[Se].y,0,X,Q+480,16),n(be[Se].f,0,te,se+224,8),n(be[Se].ea,0,ge,Ae+224,8)),_=8*G*x.B,be=x.sa,Se=x.ta+16*D+16*G*x.R,Te=x.qa,oe=x.ra+8*D+_,Ce=x.Ha,Ee=x.Ia+8*D+_,_=0;16>_;++_)n(be,Se+_*x.R,X,Q+32*_,16);for(_=0;8>_;++_)n(Te,oe+_*x.B,te,se+32*_,8),n(Ce,Ee+_*x.B,ge,Ae+32*_,8)}}function oo(x,j,_,D,q,G,X,Q,te){var se=[0],ge=[0],Ae=0,oe=te!=null?te.kd:0,be=te??new ze;if(x==null||12>_)return 7;be.data=x,be.w=j,be.ha=_,j=[j],_=[_],be.gb=[be.gb];e:{var Se=j,Te=_,Ce=be.gb;if(t(x!=null),t(Te!=null),t(Ce!=null),Ce[0]=0,12<=Te[0]&&!r(x,Se[0],"RIFF")){if(r(x,Se[0]+8,"WEBP")){Ce=3;break e}var Ee=Ke(x,Se[0]+4);if(12>Ee||4294967286<Ee){Ce=3;break e}if(oe&&Ee>Te[0]-8){Ce=7;break e}Ce[0]=Ee,Se[0]+=12,Te[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Ee=0<be.gb[0],_=_[0];;){e:{var De=x;Te=j,Ce=_;var Re=se,Fe=ge,ct=Se=[0];if((rt=Ae=[Ae])[0]=0,8>Ce[0])Ce=7;else{if(!r(De,Te[0],"VP8X")){if(Ke(De,Te[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var Ze=Ke(De,Te[0]+8),Tt=1+qe(De,Te[0]+12);if(2147483648<=Tt*(De=1+qe(De,Te[0]+15))){Ce=3;break e}ct!=null&&(ct[0]=Ze),Re!=null&&(Re[0]=Tt),Fe!=null&&(Fe[0]=De),Te[0]+=18,Ce[0]-=18,rt[0]=1}Ce=0}}if(Ae=Ae[0],Se=Se[0],Ce!=0)return Ce;if(Te=!!(2&Se),!Ee&&Ae)return 3;if(G!=null&&(G[0]=!!(16&Se)),X!=null&&(X[0]=Te),Q!=null&&(Q[0]=0),X=se[0],Se=ge[0],Ae&&Te&&te==null){Ce=0;break}if(4>_){Ce=7;break}if(Ee&&Ae||!Ee&&!Ae&&!r(x,j[0],"ALPH")){_=[_],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{Ze=x,Ce=j,Ee=_;var rt=be.gb;Re=be.na,Fe=be.P,ct=be.Sa,Tt=22,t(Ze!=null),t(Ee!=null),De=Ce[0];var Wt=Ee[0];for(t(Re!=null),t(ct!=null),Re[0]=null,Fe[0]=null,ct[0]=0;;){if(Ce[0]=De,Ee[0]=Wt,8>Wt){Ce=7;break e}var Ur=Ke(Ze,De+4);if(4294967286<Ur){Ce=3;break e}var Mt=8+Ur+1&-2;if(Tt+=Mt,0<rt&&Tt>rt){Ce=3;break e}if(!r(Ze,De,"VP8 ")||!r(Ze,De,"VP8L")){Ce=0;break e}if(Wt[0]<Mt){Ce=7;break e}r(Ze,De,"ALPH")||(Re[0]=Ze,Fe[0]=De+8,ct[0]=Ur),De+=Mt,Wt-=Mt}}if(_=_[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ce!=0)break}_=[_],be.Ja=[be.Ja],be.xa=[be.xa];e:if(rt=x,Ce=j,Ee=_,Re=be.gb[0],Fe=be.Ja,ct=be.xa,Ze=Ce[0],De=!r(rt,Ze,"VP8 "),Tt=!r(rt,Ze,"VP8L"),t(rt!=null),t(Ee!=null),t(Fe!=null),t(ct!=null),8>Ee[0])Ce=7;else{if(De||Tt){if(rt=Ke(rt,Ze+4),12<=Re&&rt>Re-12){Ce=3;break e}if(oe&&rt>Ee[0]-8){Ce=7;break e}Fe[0]=rt,Ce[0]+=8,Ee[0]-=8,ct[0]=Tt}else ct[0]=5<=Ee[0]&&rt[Ze+0]==47&&!(rt[Ze+4]>>5),Fe[0]=Ee[0];Ce=0}if(_=_[0],be.Ja=be.Ja[0],be.xa=be.xa[0],j=j[0],Ce!=0)break;if(4294967286<be.Ja)return 3;if(Q==null||Te||(Q[0]=be.xa?2:1),X=[X],Se=[Se],be.xa){if(5>_){Ce=7;break}Q=X,oe=Se,Te=G,x==null||5>_?x=0:5<=_&&x[j+0]==47&&!(x[j+4]>>5)?(Ee=[0],rt=[0],Re=[0],le(Fe=new re,x,j,_),Si(Fe,Ee,rt,Re)?(Q!=null&&(Q[0]=Ee[0]),oe!=null&&(oe[0]=rt[0]),Te!=null&&(Te[0]=Re[0]),x=1):x=0):x=0}else{if(10>_){Ce=7;break}Q=Se,x==null||10>_||!$o(x,j+3,_-3)?x=0:(oe=x[j+0]|x[j+1]<<8|x[j+2]<<16,Te=16383&(x[j+7]<<8|x[j+6]),x=16383&(x[j+9]<<8|x[j+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=be.Ja||!Te||!x?x=0:(X&&(X[0]=Te),Q&&(Q[0]=x),x=1))}if(!x||(X=X[0],Se=Se[0],Ae&&(se[0]!=X||ge[0]!=Se)))return 3;te!=null&&(te[0]=be,te.offset=j-te.w,t(4294967286>j-te.w),t(te.offset==te.ha-_));break}return Ce==0||Ce==7&&Ae&&te==null?(G!=null&&(G[0]|=be.na!=null&&0<be.na.length),D!=null&&(D[0]=X),q!=null&&(q[0]=Se),0):Ce}function nc(x,j,_){var D=j.width,q=j.height,G=0,X=0,Q=D,te=q;if(j.Da=x!=null&&0<x.Da,j.Da&&(Q=x.cd,te=x.bd,G=x.v,X=x.j,11>_||(G&=-2,X&=-2),0>G||0>X||0>=Q||0>=te||G+Q>D||X+te>q))return 0;if(j.v=G,j.j=X,j.va=G+Q,j.o=X+te,j.U=Q,j.T=te,j.da=x!=null&&0<x.da,j.da){if(!dt(Q,te,_=[x.ib],G=[x.hb]))return 0;j.ib=_[0],j.hb=G[0]}return j.ob=x!=null&&x.ob,j.Kb=x==null||!x.Sd,j.da&&(j.ob=j.ib<3*D/4&&j.hb<3*q/4,j.Kb=0),1}function ac(x){if(x==null)return 2;if(11>x.S){var j=x.f.RGBA;j.fb+=(x.height-1)*j.A,j.A=-j.A}else j=x.f.kb,x=x.height,j.O+=(x-1)*j.fa,j.fa=-j.fa,j.N+=(x-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(x-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(x-1)*j.lb,j.lb=-j.lb);return 0}function Ss(x,j,_,D){if(D==null||0>=x||0>=j)return 2;if(_!=null){if(_.Da){var q=_.cd,G=_.bd,X=-2&_.v,Q=-2&_.j;if(0>X||0>Q||0>=q||0>=G||X+q>x||Q+G>j)return 2;x=q,j=G}if(_.da){if(!dt(x,j,q=[_.ib],G=[_.hb]))return 2;x=q[0],j=G[0]}}D.width=x,D.height=j;e:{var te=D.width,se=D.height;if(x=D.S,0>=te||0>=se||!(x>=nd&&13>x))x=2;else{if(0>=D.Rd&&D.sd==null){X=G=q=j=0;var ge=(Q=te*su[x])*se;if(11>x||(G=(se+1)/2*(j=(te+1)/2),x==12&&(X=(q=te)*se)),(se=i(ge+2*G+X))==null){x=1;break e}D.sd=se,11>x?((te=D.f.RGBA).eb=se,te.fb=0,te.A=Q,te.size=ge):((te=D.f.kb).y=se,te.O=0,te.fa=Q,te.Fd=ge,te.f=se,te.N=0+ge,te.Ab=j,te.Cd=G,te.ea=se,te.W=0+ge+G,te.Db=j,te.Ed=G,x==12&&(te.F=se,te.J=0+ge+2*G),te.Tc=X,te.lb=q)}if(j=1,q=D.S,G=D.width,X=D.height,q>=nd&&13>q)if(11>q)x=D.f.RGBA,j&=(Q=Math.abs(x.A))*(X-1)+G<=x.size,j&=Q>=G*su[q],j&=x.eb!=null;else{x=D.f.kb,Q=(G+1)/2,ge=(X+1)/2,te=Math.abs(x.fa),se=Math.abs(x.Ab);var Ae=Math.abs(x.Db),oe=Math.abs(x.lb),be=oe*(X-1)+G;j&=te*(X-1)+G<=x.Fd,j&=se*(ge-1)+Q<=x.Cd,j=(j&=Ae*(ge-1)+Q<=x.Ed)&te>=G&se>=Q&Ae>=Q,j&=x.y!=null,j&=x.f!=null,j&=x.ea!=null,q==12&&(j&=oe>=G,j&=be<=x.Tc,j&=x.F!=null)}else j=0;x=j?0:2}}return x!=0||_!=null&&_.fd&&(x=ac(D)),x}var ci=64,$a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wa=24,lo=32,es=8,As=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(x){return x},B.Predictor2=function(x,j,_){return j[_+0]},B.Predictor3=function(x,j,_){return j[_+1]},B.Predictor4=function(x,j,_){return j[_-1]},B.Predictor5=function(x,j,_){return mt(mt(x,j[_+1]),j[_+0])},B.Predictor6=function(x,j,_){return mt(x,j[_-1])},B.Predictor7=function(x,j,_){return mt(x,j[_+0])},B.Predictor8=function(x,j,_){return mt(j[_-1],j[_+0])},B.Predictor9=function(x,j,_){return mt(j[_+0],j[_+1])},B.Predictor10=function(x,j,_){return mt(mt(x,j[_-1]),mt(j[_+0],j[_+1]))},B.Predictor11=function(x,j,_){var D=j[_+0];return 0>=Et(D>>24&255,x>>24&255,(j=j[_-1])>>24&255)+Et(D>>16&255,x>>16&255,j>>16&255)+Et(D>>8&255,x>>8&255,j>>8&255)+Et(255&D,255&x,255&j)?D:x},B.Predictor12=function(x,j,_){var D=j[_+0];return(Xt((x>>24&255)+(D>>24&255)-((j=j[_-1])>>24&255))<<24|Xt((x>>16&255)+(D>>16&255)-(j>>16&255))<<16|Xt((x>>8&255)+(D>>8&255)-(j>>8&255))<<8|Xt((255&x)+(255&D)-(255&j)))>>>0},B.Predictor13=function(x,j,_){var D=j[_-1];return(Ut((x=mt(x,j[_+0]))>>24&255,D>>24&255)<<24|Ut(x>>16&255,D>>16&255)<<16|Ut(x>>8&255,D>>8&255)<<8|Ut(255&x,255&D))>>>0};var Ps=B.PredictorAdd0;B.PredictorAdd1=qt,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var ts=B.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Zr,nl=B.ColorIndexInverseTransform,rs=B.MapARGB,Ei=B.VP8LColorIndexInverseTransformAlpha,al=B.MapAlpha,il=B.VP8LPredictorsAdd=[];il.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var ic,sc,Cs,co,uo,sl,fo,ol,zr,Na,Qt,ur,Br,un,Li,Xc,oc,_s,td,lc,rd,ff,Zc,ll,cl,hf,Qc,pf,mf=i(511),vf=i(2041),gf=i(225),xf=i(767),bf=0,ns=vf,cc=gf,ca=xf,ui=mf,nd=0,ho=1,Yh=2,Jc=3,eu=4,hr=5,ad=6,uc=7,ul=8,tu=9,ru=10,nu=[2,3,7],id=[3,3,11],dl=[280,256,256,256,40],Xh=[0,1,1,1,0],fv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sd=8,dc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],au=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fl=null,yf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Qh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Jh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ua=[],di=[],ja=[],as=1,fc=2,Kn=[],ka=[];ks("UpsampleRgbLinePair",so,3),ks("UpsampleBgrLinePair",Mn,3),ks("UpsampleRgbaLinePair",la,4),ks("UpsampleBgraLinePair",Yc,4),ks("UpsampleArgbLinePair",Gc,4),ks("UpsampleRgba4444LinePair",rl,2),ks("UpsampleRgb565LinePair",tl,2);var vv=B.UpsampleRgbLinePair,gv=B.UpsampleBgrLinePair,po=B.UpsampleRgbaLinePair,hc=B.UpsampleBgraLinePair,hl=B.UpsampleArgbLinePair,iu=B.UpsampleRgba4444LinePair,jf=B.UpsampleRgb565LinePair,Os=16,Di=1<<Os-1,or=-227,dr=482,mo=6,Rn=0,Sa=i(256),pl=i(256),pc=i(256),Aa=i(256),od=i(dr-or),ep=i(dr-or);Ii("YuvToRgbRow",so,3),Ii("YuvToBgrRow",Mn,3),Ii("YuvToRgbaRow",la,4),Ii("YuvToBgraRow",Yc,4),Ii("YuvToArgbRow",Gc,4),Ii("YuvToRgba4444Row",rl,2),Ii("YuvToRgb565Row",tl,2);var kf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ml=[0,2,8],tp=[8,7,6,4,4,2,2,2,1,1,1,1],Is=1;this.WebPDecodeRGBA=function(x,j,_,D,q){var G=ho,X=new Me,Q=new Dt;X.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var te=Q.width,se=Q.height,ge=new yt;if(ge==null||x==null)var Ae=2;else t(ge!=null),Ae=oo(x,j,_,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ae!=0?te=0:(te!=null&&(te[0]=ge.width[0]),se!=null&&(se[0]=ge.height[0]),te=1),te){Q.width=Q.width[0],Q.height=Q.height[0],D!=null&&(D[0]=Q.width),q!=null&&(q[0]=Q.height);e:{if(D=new Gl,(q=new ze).data=x,q.w=j,q.ha=_,q.kd=1,j=[0],t(q!=null),((x=oo(q.data,q.w,q.ha,null,null,null,j,null,q))==0||x==7)&&j[0]&&(x=4),(j=x)==0){if(t(X!=null),D.data=q.data,D.w=q.w+q.offset,D.ha=q.ha-q.offset,D.put=wt,D.ac=ei,D.bc=Ma,D.ma=X,q.xa){if((x=zo())==null){X=1;break e}if(function(oe,be){var Se=[0],Te=[0],Ce=[0];t:for(;;){if(oe==null)return 0;if(be==null)return oe.a=2,0;if(oe.l=be,oe.a=0,le(oe.m,be.data,be.w,be.ha),!Si(oe.m,Se,Te,Ce)){oe.a=3;break t}if(oe.xb=fc,be.width=Se[0],be.height=Te[0],!Pi(Se[0],Te[0],1,oe,null))break t;return 1}return t(oe.a!=0),0}(x,D)){if(D=(j=Ss(D.width,D.height,X.Oa,X.ba))==0){t:{D=x;r:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((_=D.l)!=null),t((q=_.ma)!=null),D.xb!=0){if(D.ca=q.ba,D.tb=q.tb,t(D.ca!=null),!nc(q.Oa,_,Jc)){D.a=2;break r}if(!eo(D,_.width)||_.da)break r;if((_.da||bt(D.ca.S))&&Oi(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Oi()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!ne(D.s.vb,D.s.Wa.Xa)){D.a=1;break r}D.xb=0}if(!ri(D,D.V,D.Ba,D.c,D.i,_.o,Js))break r;q.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(j=x.a)}else j=x.a}else{if((x=new uf)==null){X=1;break e}if(x.Fa=q.na,x.P=q.P,x.qc=q.Sa,Ba(x,D)){if((j=Ss(D.width,D.height,X.Oa,X.ba))==0){if(x.Aa=0,_=X.Oa,t((q=x)!=null),_!=null){if(0<(te=0>(te=_.Md)?0:100<te?255:255*te/100)){for(se=ge=0;4>se;++se)12>(Ae=q.pb[se]).lc&&(Ae.ia=te*tp[0>Ae.lc?0:Ae.lc]>>3),ge|=Ae.ia;ge&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=_.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(oe,be){if(oe==null)return 0;if(be==null)return ln(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Ba(oe,be))return 0;if(t(oe.cb),be.ac==null||be.ac(be)){be.ob&&(oe.L=0);var Se=ml[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=be.v-Se>>4,oe.zb=be.j-Se>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=be.o+15+Se>>4,oe.Hb=be.va+15+Se>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Te=oe.ed;for(Se=0;4>Se;++Se){var Ce;if(oe.Qa.Cb){var Ee=oe.Qa.Lb[Se];oe.Qa.Fb||(Ee+=Te.Tb)}else Ee=Te.Tb;for(Ce=0;1>=Ce;++Ce){var De=oe.gd[Se][Ce],Re=Ee;if(Te.Pc&&(Re+=Te.vd[0],Ce&&(Re+=Te.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var Fe=Re;0<Te.wb&&(Fe=4<Te.wb?Fe>>2:Fe>>1)>9-Te.wb&&(Fe=9-Te.wb),1>Fe&&(Fe=1),De.dd=Fe,De.tc=2*Re+Fe,De.ld=40<=Re?2:15<=Re?1:0}else De.tc=0;De.La=Ce}}}Se=0}else ln(oe,6,"Frame setup failed"),Se=oe.a;if(Se=Se==0){if(Se){oe.$c=0,0<oe.Aa||(oe.Ic=Is);t:{Se=oe.Ic,Te=4*(Fe=oe.za);var ct=32*Fe,Ze=Fe+1,Tt=0<oe.L?Fe*(0<oe.Aa?2:1):0,rt=(oe.Aa==2?2:1)*Fe;if((De=Te+832+(Ce=3*(16*Se+ml[oe.L])/2*ct)+(Ee=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=De)Se=0;else{if(De>oe.Vb){if(oe.Vb=0,oe.Ec=i(De),oe.Fc=0,oe.Ec==null){Se=ln(oe,1,"no memory during frame initialization.");break t}oe.Vb=De}De=oe.Ec,Re=oe.Fc,oe.Ac=De,oe.Bc=Re,Re+=Te,oe.Gd=l(ct,za),oe.Hd=0,oe.rb=l(Ze+1,to),oe.sb=1,oe.wa=Tt?l(Tt,Fa):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Fe),t(!0),oe.oc=De,oe.pc=Re,Re+=832,oe.ya=l(rt,Kl),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Fe),oe.R=16*Fe,oe.B=8*Fe,Fe=(ct=ml[oe.L])*oe.R,ct=ct/2*oe.B,oe.sa=De,oe.ta=Re+Fe,oe.qa=oe.sa,oe.ra=oe.ta+16*Se*oe.R+ct,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Se*oe.B+ct,oe.$c=0,Re+=Ce,oe.mb=Ee?De:null,oe.nb=Ee?Re:null,t(Re+Ee<=oe.Fc+oe.Vb),Wo(oe),a(oe.Ac,oe.Bc,0,Te),Se=1}}if(Se){if(be.ka=0,be.y=oe.sa,be.O=oe.ta,be.f=oe.qa,be.N=oe.ra,be.ea=oe.Ha,be.Vd=oe.Ia,be.fa=oe.R,be.Rc=oe.B,be.F=null,be.J=0,!bf){for(Se=-255;255>=Se;++Se)mf[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)vf[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)gf[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)xf[255+Se]=0>Se?0:255<Se?255:Se;bf=1}fo=Vo,ol=Ho,Na=Yi,Qt=Yl,ur=Yt,zr=qc,Br=Vn,un=li,Li=$,Xc=ce,oc=tc,_s=S,td=ve,lc=je,rd=Ns,ff=no,Zc=Kc,ll=Qo,di[0]=Qu,di[1]=$c,di[2]=Zi,di[3]=df,di[4]=Ua,di[5]=Ju,di[6]=ws,di[7]=Ql,di[8]=Wc,di[9]=Go,ua[0]=Xi,ua[1]=Zu,ua[2]=Xl,ua[3]=Zl,ua[4]=ya,ua[5]=ai,ua[6]=Ko,ja[0]=Jl,ja[1]=Xu,ja[2]=_i,ja[3]=Yo,ja[4]=Vc,ja[5]=Hc,ja[6]=ec,Se=1}else Se=0}Se&&(Se=function(Wt,Ur){for(Wt.M=0;Wt.M<Wt.Va;++Wt.M){var Mt,Qe=Wt.Jc[Wt.M&Wt.Xb],Ge=Wt.m,Qr=Wt;for(Mt=0;Mt<Qr.za;++Mt){var At=Ge,$t=Qr,Nr=$t.Ac,Cn=$t.Bc+4*Mt,dn=$t.zc,Mr=$t.ya[$t.aa+Mt];if($t.Qa.Bb?Mr.$b=ye(At,$t.Pa.jb[0])?2+ye(At,$t.Pa.jb[2]):ye(At,$t.Pa.jb[1]):Mr.$b=0,$t.kc&&(Mr.Ad=ye(At,$t.Bd)),Mr.Za=!ye(At,145)+0,Mr.Za){var wn=Mr.Ob,_n=0;for($t=0;4>$t;++$t){var Cr,Vt=dn[0+$t];for(Cr=0;4>Cr;++Cr){Vt=pv[Nr[Cn+Cr]][Vt];for(var Jt=Qh[ye(At,Vt[0])];0<Jt;)Jt=Qh[2*Jt+ye(At,Vt[Jt])];Vt=-Jt,Nr[Cn+Cr]=Vt}n(wn,_n,Nr,Cn,4),_n+=4,dn[0+$t]=Vt}}else Vt=ye(At,156)?ye(At,128)?1:3:ye(At,163)?2:0,Mr.Ob[0]=Vt,a(Nr,Cn,Vt,4),a(dn,0,Vt,4);Mr.Dd=ye(At,142)?ye(At,114)?ye(At,183)?1:3:2:0}if(Qr.m.Ka)return ln(Wt,7,"Premature end-of-partition0 encountered.");for(;Wt.ja<Wt.za;++Wt.ja){if(Qr=Qe,At=(Ge=Wt).rb[Ge.sb-1],Nr=Ge.rb[Ge.sb+Ge.ja],Mt=Ge.ya[Ge.aa+Ge.ja],Cn=Ge.kc?Mt.Ad:0)At.la=Nr.la=0,Mt.Za||(At.Na=Nr.Na=0),Mt.Hc=0,Mt.Gc=0,Mt.ia=0;else{var _r,er;if(At=Nr,Nr=Qr,Cn=Ge.Pa.Xc,dn=Ge.ya[Ge.aa+Ge.ja],Mr=Ge.pb[dn.$b],$t=dn.ad,wn=0,_n=Ge.rb[Ge.sb-1],Vt=Cr=0,a($t,wn,0,384),dn.Za)var qr=0,$r=Cn[3];else{Jt=i(16);var pr=At.Na+_n.Na;if(pr=fl(Nr,Cn[1],pr,Mr.Eb,0,Jt,0),At.Na=_n.Na=(0<pr)+0,1<pr)fo(Jt,0,$t,wn);else{var Gn=Jt[0]+3>>3;for(Jt=0;256>Jt;Jt+=16)$t[wn+Jt]=Gn}qr=1,$r=Cn[0]}var fr=15&At.la,mr=15&_n.la;for(Jt=0;4>Jt;++Jt){var fn=1&mr;for(Gn=er=0;4>Gn;++Gn)fr=fr>>1|(fn=(pr=fl(Nr,$r,pr=fn+(1&fr),Mr.Sc,qr,$t,wn))>qr)<<7,er=er<<2|(3<pr?3:1<pr?2:$t[wn+0]!=0),wn+=16;fr>>=4,mr=mr>>1|fn<<7,Cr=(Cr<<8|er)>>>0}for($r=fr,qr=mr>>4,_r=0;4>_r;_r+=2){for(er=0,fr=At.la>>4+_r,mr=_n.la>>4+_r,Jt=0;2>Jt;++Jt){for(fn=1&mr,Gn=0;2>Gn;++Gn)pr=fn+(1&fr),fr=fr>>1|(fn=0<(pr=fl(Nr,Cn[2],pr,Mr.Qc,0,$t,wn)))<<3,er=er<<2|(3<pr?3:1<pr?2:$t[wn+0]!=0),wn+=16;fr>>=2,mr=mr>>1|fn<<5}Vt|=er<<4*_r,$r|=fr<<4<<_r,qr|=(240&mr)<<_r}At.la=$r,_n.la=qr,dn.Hc=Cr,dn.Gc=Vt,dn.ia=43690&Vt?0:Mr.ia,Cn=!(Cr|Vt)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[Mt.$b][Mt.Za],Ge.wa[Ge.Y+Ge.ja].La|=!Cn),Qr.Ka)return ln(Wt,7,"Premature end-of-file encountered.")}if(Wo(Wt),Ge=Ur,Qr=1,Mt=(Qe=Wt).D,At=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(Mt.M=Qe.M,Mt.uc=At,qa(Qe,Mt),Qr=1,Mt=(er=Qe.D).Nb,At=(Vt=ml[Qe.L])*Qe.R,Nr=Vt/2*Qe.B,Jt=16*Mt*Qe.R,Gn=8*Mt*Qe.B,Cn=Qe.sa,dn=Qe.ta-At+Jt,Mr=Qe.qa,$t=Qe.ra-Nr+Gn,wn=Qe.Ha,_n=Qe.Ia-Nr+Gn,mr=(fr=er.M)==0,Cr=fr>=Qe.Va-1,Qe.Aa==2&&qa(Qe,er),er.uc)for(fn=(pr=Qe).D.M,t(pr.D.uc),er=pr.yb;er<pr.Hb;++er){qr=er,$r=fn;var Fn=(Pa=(tn=pr).D).Nb;_r=tn.R;var Pa=Pa.wa[Pa.Y+qr],Jr=tn.sa,en=tn.ta+16*Fn*_r+16*qr,Yn=Pa.dd,vr=Pa.tc;if(vr!=0)if(t(3<=vr),tn.L==1)0<qr&&ff(Jr,en,_r,vr+4),Pa.La&&ll(Jr,en,_r,vr),0<$r&&rd(Jr,en,_r,vr+4),Pa.La&&Zc(Jr,en,_r,vr);else{var Xn=tn.B,fi=tn.qa,Ti=tn.ra+8*Fn*Xn+8*qr,On=tn.Ha,tn=tn.Ia+8*Fn*Xn+8*qr;Fn=Pa.ld,0<qr&&(un(Jr,en,_r,vr+4,Yn,Fn),Xc(fi,Ti,On,tn,Xn,vr+4,Yn,Fn)),Pa.La&&(_s(Jr,en,_r,vr,Yn,Fn),lc(fi,Ti,On,tn,Xn,vr,Yn,Fn)),0<$r&&(Br(Jr,en,_r,vr+4,Yn,Fn),Li(fi,Ti,On,tn,Xn,vr+4,Yn,Fn)),Pa.La&&(oc(Jr,en,_r,vr,Yn,Fn),td(fi,Ti,On,tn,Xn,vr,Yn,Fn))}}if(Qe.ia&&alert("todo:DitherRow"),Ge.put!=null){if(er=16*fr,fr=16*(fr+1),mr?(Ge.y=Qe.sa,Ge.O=Qe.ta+Jt,Ge.f=Qe.qa,Ge.N=Qe.ra+Gn,Ge.ea=Qe.Ha,Ge.W=Qe.Ia+Gn):(er-=Vt,Ge.y=Cn,Ge.O=dn,Ge.f=Mr,Ge.N=$t,Ge.ea=wn,Ge.W=_n),Cr||(fr-=Vt),fr>Ge.o&&(fr=Ge.o),Ge.F=null,Ge.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&er<fr&&(Ge.J=wr(Qe,Ge,er,fr-er),Ge.F=Qe.mb,Ge.F==null&&Ge.F.length==0)){Qr=ln(Qe,3,"Could not decode alpha data.");break t}er<Ge.j&&(Vt=Ge.j-er,er=Ge.j,t(!(1&Vt)),Ge.O+=Qe.R*Vt,Ge.N+=Qe.B*(Vt>>1),Ge.W+=Qe.B*(Vt>>1),Ge.F!=null&&(Ge.J+=Ge.width*Vt)),er<fr&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=er-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=fr-er,Qr=Ge.put(Ge))}Mt+1!=Qe.Ic||Cr||(n(Qe.sa,Qe.ta-At,Cn,dn+16*Qe.R,At),n(Qe.qa,Qe.ra-Nr,Mr,$t+8*Qe.B,Nr),n(Qe.Ha,Qe.Ia-Nr,wn,_n+8*Qe.B,Nr))}if(!Qr)return ln(Wt,6,"Output aborted.")}return 1}(oe,be)),be.bc!=null&&be.bc(be),Se&=1}return Se?(oe.cb=0,Se):0})(x,D)||(j=x.a)}}else j=x.a}j==0&&X.Oa!=null&&X.Oa.fd&&(j=ac(X.ba))}X=j}G=X!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var su=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,Y){for(var C="",T=0;T<4;T++)C+=String.fromCharCode(B[Y++]);return C}function h(B,Y){return B[Y+0]|B[Y+1]<<8}function m(B,Y){return(B[Y+0]|B[Y+1]<<8|B[Y+2]<<16)>>>0}function g(B,Y){return(B[Y+0]|B[Y+1]<<8|B[Y+2]<<16|B[Y+3]<<24)>>>0}new d;var p=[0],b=[0],w=[],N=new d,k=e,L=function(B,Y){var C={},T=0,H=!1,V=0,W=0;if(C.frames=[],!function(z,re){for(var ie=0;ie<4;ie++)if(z[re+ie]!="RIFF".charCodeAt(ie))return!0;return!1}(B,Y)){for(g(B,Y+=4),Y+=8;Y<B.length;){var pe=f(B,Y),ue=g(B,Y+=4);Y+=4;var J=ue+(1&ue);switch(pe){case"VP8 ":case"VP8L":C.frames[T]===void 0&&(C.frames[T]={}),(ee=C.frames[T]).src_off=H?W:Y-8,ee.src_size=V+ue+8,T++,H&&(H=!1,V=0,W=0);break;case"VP8X":(ee=C.header={}).feature_flags=B[Y];var le=Y+4;ee.canvas_width=1+m(B,le),le+=3,ee.canvas_height=1+m(B,le),le+=3;break;case"ALPH":H=!0,V=J+8,W=Y-8;break;case"ANIM":(ee=C.header).bgcolor=g(B,Y),le=Y+4,ee.loop_count=h(B,le),le+=2;break;case"ANMF":var me,ee;(ee=C.frames[T]={}).offset_x=2*m(B,Y),Y+=3,ee.offset_y=2*m(B,Y),Y+=3,ee.width=1+m(B,Y),Y+=3,ee.height=1+m(B,Y),Y+=3,ee.duration=m(B,Y),Y+=3,me=B[Y++],ee.dispose=1&me,ee.blend=me>>1&1}pe!="ANMF"&&(Y+=J)}return C}}(k,0);L.response=k,L.rgbaoutput=!0,L.dataurl=!1;var E=L.header?L.header:null,I=L.frames?L.frames:null;if(E){E.loop_counter=E.loop_count,p=[E.canvas_height],b=[E.canvas_width];for(var M=0;M<I.length&&I[M].blend!=0;M++);}var F=I[0],R=N.WebPDecodeRGBA(k,F.src_off,F.src_size,b,p);F.rgba=R,F.imgwidth=b[0],F.imgheight=p[0];for(var U=0;U<b[0]*p[0]*4;U++)w[U]=R[U];return this.width=b,this.height=p,this.data=w,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function lL(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function cL(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,a,i,l,c,d,f,h=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new d,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new l,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new l,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,f=new h}]);var m=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var re=z;Object.defineProperty(this,"pdf",{get:function(){return re}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(ne){ie=!!ne}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(ne){fe=!!ne}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ne){isNaN(ne)||(Z=ne)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(ne){isNaN(ne)||(de=ne)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ne){var He;typeof ne=="number"?He=[ne,ne,ne,ne]:((He=new Array(4))[0]=ne[0],He[1]=ne.length>=2?ne[1]:He[0],He[2]=ne.length>=3?ne[2]:He[0],He[3]=ne.length>=4?ne[3]:He[1]),f.margin=He}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(ne){we=ne}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(ne){ae=ne}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(ne){ye=ne}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ne){ne instanceof h&&(f=ne)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ne){f.path=ne}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(ne){_e=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var He;He=g(ne),this.ctx.fillStyle=He.style,this.ctx.isFillTransparent=He.a===0,this.ctx.fillOpacity=He.a,this.pdf.setFillColor(He.r,He.g,He.b,{a:He.a}),this.pdf.setTextColor(He.r,He.g,He.b,{a:He.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var He=g(ne);this.ctx.strokeStyle=He.style,this.ctx.isStrokeTransparent=He.a===0,this.ctx.strokeOpacity=He.a,He.a===0?this.pdf.setDrawColor(255,255,255):(He.a,this.pdf.setDrawColor(He.r,He.g,He.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var ke=null,qe=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(ne){ke=null,qe=null,Ke=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var He;if(this.ctx.font=ne,(He=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var ft=He[1];He[2];var dt=He[3],Be=He[4];He[5];var pt=He[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Ye==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var xt=function(it){var Gr,Kt,Ft=[],Bt=it.trim();if(Bt==="")return Tg;if(Bt in mN)return[mN[Bt]];for(;Bt!=="";){switch(Kt=null,Gr=(Bt=gN(Bt)).charAt(0)){case'"':case"'":Kt=rL(Bt.substring(1),Gr);break;default:Kt=nL(Bt)}if(Kt===null||(Ft.push(Kt[0]),(Bt=gN(Kt[1]))!==""&&Bt.charAt(0)!==","))return Tg;Bt=Bt.replace(/^,/,"")}return Ft}(pt);if(this.fontFaces){var mt=function(it,Gr){var Kt=it.getFontList(),Ft=JSON.stringify(Kt);if(ke===null||qe!==Ft){var Bt=function(br){var vt=[];return Object.keys(br).forEach(function(cr){br[cr].forEach(function(bt){var _t=null;switch(bt){case"bold":_t={family:cr,weight:"bold"};break;case"italic":_t={family:cr,style:"italic"};break;case"bolditalic":_t={family:cr,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:cr}}_t!==null&&(_t.ref={name:cr,style:bt},vt.push(_t))})}),vt}(Kt);ke=function(br){for(var vt={},cr=0;cr<br.length;++cr){var bt=Dg(br[cr]),_t=bt.family,sr=bt.stretch,Dt=bt.style,yt=bt.weight;vt[_t]=vt[_t]||{},vt[_t][sr]=vt[_t][sr]||{},vt[_t][sr][Dt]=vt[_t][sr][Dt]||{},vt[_t][sr][Dt][yt]=bt}return vt}(Bt.concat(Gr)),qe=Ft}return ke}(this.pdf,this.fontFaces),Xt=xt.map(function(it){return{family:it,stretch:"normal",weight:dt,style:ft}}),Ut=function(it,Gr,Kt){for(var Ft=(Kt=Kt||{}).defaultFontFamily||"times",Bt=Object.assign({},tL,Kt.genericFontFamilies||{}),br=null,vt=null,cr=0;cr<Gr.length;++cr)if(Bt[(br=Dg(Gr[cr])).family]&&(br.family=Bt[br.family]),it.hasOwnProperty(br.family)){vt=it[br.family];break}if(!(vt=vt||it[Ft]))throw new Error("Could not find a font-family for the rule '"+vN(br)+"' and default family '"+Ft+"'.");if(vt=function(bt,_t){if(_t[bt])return _t[bt];var sr=Xb[bt],Dt=sr<=Xb.normal?-1:1,yt=pN(_t,O6,sr,Dt);if(!yt)throw new Error("Could not find a matching font-stretch value for "+bt);return yt}(br.stretch,vt),vt=function(bt,_t){if(_t[bt])return _t[bt];for(var sr=_6[bt],Dt=0;Dt<sr.length;++Dt)if(_t[sr[Dt]])return _t[sr[Dt]];throw new Error("Could not find a matching font-style for "+bt)}(br.style,vt),!(vt=function(bt,_t){if(_t[bt])return _t[bt];if(bt===400&&_t[500])return _t[500];if(bt===500&&_t[400])return _t[400];var sr=eL[bt],Dt=pN(_t,I6,sr,bt<400?-1:1);if(!Dt)throw new Error("Could not find a matching font-weight for value "+bt);return Dt}(br.weight,vt)))throw new Error("Failed to resolve a font for the rule '"+vN(br)+"'.");return vt}(mt,Xt);this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var Et="";(dt==="bold"||parseInt(dt,10)>=700||ft==="bold")&&(Et="bold"),ft==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var qt="",zt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<xt.length;st++){if(this.pdf.internal.getFont(xt[st],Et,{noFallback:!0,disableWarning:!0})!==void 0){qt=xt[st];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(xt[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=xt[st],Et="bold";else if(this.pdf.internal.getFont(xt[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=xt[st],Et="normal";break}}if(qt===""){for(var Pt=0;Pt<xt.length;Pt++)if(zt[xt[Pt]]){qt=zt[xt[Pt]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};m.prototype.setLineDash=function(z){this.lineDash=z},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){I.call(this,"fill",!1)},m.prototype.stroke=function(){I.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(z,re){if(isNaN(z)||isNaN(re))throw Sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new l(z,re));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new l(z,re)},m.prototype.closePath=function(){var z=new l(0,0),re=0;for(re=this.path.length-1;re!==-1;re--)if(this.path[re].type==="begin"&&xr(this.path[re+1])==="object"&&typeof this.path[re+1].x=="number"){z=new l(this.path[re+1].x,this.path[re+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(z.x,z.y)},m.prototype.lineTo=function(z,re){if(isNaN(z)||isNaN(re))throw Sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new l(z,re));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new l(ie.x,ie.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},m.prototype.quadraticCurveTo=function(z,re,ie,fe){if(isNaN(ie)||isNaN(fe)||isNaN(z)||isNaN(re))throw Sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new l(ie,fe)),de=this.ctx.transform.applyToPoint(new l(z,re));this.path.push({type:"qct",x1:de.x,y1:de.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(Z.x,Z.y)},m.prototype.bezierCurveTo=function(z,re,ie,fe,Z,de){if(isNaN(Z)||isNaN(de)||isNaN(z)||isNaN(re)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new l(Z,de)),ae=this.ctx.transform.applyToPoint(new l(z,re)),ye=this.ctx.transform.applyToPoint(new l(ie,fe));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:ye.x,y2:ye.y,x:we.x,y:we.y}),this.ctx.lastPoint=new l(we.x,we.y)},m.prototype.arc=function(z,re,ie,fe,Z,de){if(isNaN(z)||isNaN(re)||isNaN(ie)||isNaN(fe)||isNaN(Z))throw Sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new l(z,re));z=we.x,re=we.y;var ae=this.ctx.transform.applyToPoint(new l(0,ie)),ye=this.ctx.transform.applyToPoint(new l(0,0));ie=Math.sqrt(Math.pow(ae.x-ye.x,2)+Math.pow(ae.y-ye.y,2))}Math.abs(Z-fe)>=2*Math.PI&&(fe=0,Z=2*Math.PI),this.path.push({type:"arc",x:z,y:re,radius:ie,startAngle:fe,endAngle:Z,counterclockwise:de})},m.prototype.arcTo=function(z,re,ie,fe,Z){throw new Error("arcTo not implemented.")},m.prototype.rect=function(z,re,ie,fe){if(isNaN(z)||isNaN(re)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,re),this.lineTo(z+ie,re),this.lineTo(z+ie,re+fe),this.lineTo(z,re+fe),this.lineTo(z,re),this.lineTo(z+ie,re),this.lineTo(z,re)},m.prototype.fillRect=function(z,re,ie,fe){if(isNaN(z)||isNaN(re)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,re,ie,fe),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},m.prototype.strokeRect=function(z,re,ie,fe){if(isNaN(z)||isNaN(re)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(z,re,ie,fe),this.stroke())},m.prototype.clearRect=function(z,re,ie,fe){if(isNaN(z)||isNaN(re)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,re,ie,fe))},m.prototype.save=function(z){z=typeof z!="boolean"||z;for(var re=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(re),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},m.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var re=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(re),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(z){var re,ie,fe,Z;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))re=0,ie=0,fe=0,Z=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(de!==null)re=parseInt(de[1]),ie=parseInt(de[2]),fe=parseInt(de[3]),Z=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)re=parseInt(de[1]),ie=parseInt(de[2]),fe=parseInt(de[3]),Z=parseFloat(de[4]);else{if(Z=1,typeof z=="string"&&z.charAt(0)!=="#"){var we=new N6(z);z=we.ok?we.toHex():"#000000"}z.length===4?(re=z.substring(1,2),re+=re,ie=z.substring(2,3),ie+=ie,fe=z.substring(3,4),fe+=fe):(re=z.substring(1,3),ie=z.substring(3,5),fe=z.substring(5,7)),re=parseInt(re,16),ie=parseInt(ie,16),fe=parseInt(fe,16)}}return{r:re,g:ie,b:fe,a:Z,style:z}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(z,re,ie,fe){if(isNaN(re)||isNaN(ie)||typeof z!="string")throw Sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!p.call(this)){var Z=J(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;T.call(this,{text:z,x:re,y:ie,scale:de,angle:Z,align:this.textAlign,maxWidth:fe})}},m.prototype.strokeText=function(z,re,ie,fe){if(isNaN(re)||isNaN(ie)||typeof z!="string")throw Sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){fe=isNaN(fe)?void 0:fe;var Z=J(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;T.call(this,{text:z,x:re,y:ie,scale:de,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:fe})}},m.prototype.measureText=function(z){if(typeof z!="string")throw Sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var re=this.pdf,ie=this.pdf.internal.scaleFactor,fe=re.internal.getFontSize(),Z=re.getStringUnitWidth(z)*fe/re.internal.scaleFactor;return new function(de){var we=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:Z*=Math.round(96*ie/72*1e4)/1e4})},m.prototype.scale=function(z,re){if(isNaN(z)||isNaN(re))throw Sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new d(z,0,0,re,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},m.prototype.rotate=function(z){if(isNaN(z))throw Sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var re=new d(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(re)},m.prototype.translate=function(z,re){if(isNaN(z)||isNaN(re))throw Sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new d(1,0,0,1,z,re);this.ctx.transform=this.ctx.transform.multiply(ie)},m.prototype.transform=function(z,re,ie,fe,Z,de){if(isNaN(z)||isNaN(re)||isNaN(ie)||isNaN(fe)||isNaN(Z)||isNaN(de))throw Sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new d(z,re,ie,fe,Z,de);this.ctx.transform=this.ctx.transform.multiply(we)},m.prototype.setTransform=function(z,re,ie,fe,Z,de){z=isNaN(z)?1:z,re=isNaN(re)?0:re,ie=isNaN(ie)?0:ie,fe=isNaN(fe)?1:fe,Z=isNaN(Z)?0:Z,de=isNaN(de)?0:de,this.ctx.transform=new d(z,re,ie,fe,Z,de)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(z,re,ie,fe,Z,de,we,ae,ye){var _e=this.pdf.getImageProperties(z),ke=1,qe=1,Ke=1,ne=1;fe!==void 0&&ae!==void 0&&(Ke=ae/fe,ne=ye/Z,ke=_e.width/fe*ae/fe,qe=_e.height/Z*ye/Z),de===void 0&&(de=re,we=ie,re=0,ie=0),fe!==void 0&&ae===void 0&&(ae=fe,ye=Z),fe===void 0&&ae===void 0&&(ae=_e.width,ye=_e.height);var He=this.ctx.transform.decompose(),ft=J(He.rotate.shx),dt=new d,Be=(dt=(dt=(dt=dt.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new c(de-re*Ke,we-ie*ne,fe*ke,Z*qe));if(this.autoPaging){for(var pt,Ye=N.call(this,Be),xt=[],mt=0;mt<Ye.length;mt+=1)xt.indexOf(Ye[mt])===-1&&xt.push(Ye[mt]);E(xt);for(var Xt=xt[0],Ut=xt[xt.length-1],Et=Xt;Et<Ut+1;Et++){this.pdf.setPage(Et);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zt=Et===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Et===1?0:st+(Et-2)*Pt;if(this.ctx.clip_path.length!==0){var Gr=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(pt,this.posX+this.margin[3],-it+zt+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Gr}var Kt=JSON.parse(JSON.stringify(Be));Kt=L([Kt],this.posX+this.margin[3],-it+zt+this.ctx.prevPageLastElemOffset)[0];var Ft=(Et>Xt||Et<Ut)&&w.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,Pt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,ft),Ft&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(z,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,ft)};var N=function(z,re,ie){var fe=[];re=re||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":fe.push(Math.floor((z.y+Z)/ie)+1);break;case"arc":fe.push(Math.floor((z.y+Z-z.radius)/ie)+1),fe.push(Math.floor((z.y+Z+z.radius)/ie)+1);break;case"qct":var de=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);fe.push(Math.floor((de.y+Z)/ie)+1),fe.push(Math.floor((de.y+de.h+Z)/ie)+1);break;case"bct":var we=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);fe.push(Math.floor((we.y+Z)/ie)+1),fe.push(Math.floor((we.y+we.h+Z)/ie)+1);break;case"rect":fe.push(Math.floor((z.y+Z)/ie)+1),fe.push(Math.floor((z.y+z.h+Z)/ie)+1)}for(var ae=0;ae<fe.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<fe[ae];)k.call(this);return fe},k=function(){var z=this.fillStyle,re=this.strokeStyle,ie=this.font,fe=this.lineCap,Z=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=re,this.font=ie,this.lineCap=fe,this.lineWidth=Z,this.lineJoin=de},L=function(z,re,ie){for(var fe=0;fe<z.length;fe++)switch(z[fe].type){case"bct":z[fe].x2+=re,z[fe].y2+=ie;case"qct":z[fe].x1+=re,z[fe].y1+=ie;default:z[fe].x+=re,z[fe].y+=ie}return z},E=function(z){return z.sort(function(re,ie){return re-ie})},I=function(z,re){var ie=this.fillStyle,fe=this.strokeStyle,Z=this.lineCap,de=this.lineWidth,we=Math.abs(de*this.ctx.transform.scaleX),ae=this.lineJoin;if(this.autoPaging){for(var ye,_e,ke=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),Ke=[],ne=0;ne<qe.length;ne++)if(qe[ne].x!==void 0)for(var He=N.call(this,qe[ne]),ft=0;ft<He.length;ft+=1)Ke.indexOf(He[ft])===-1&&Ke.push(He[ft]);for(var dt=0;dt<Ke.length;dt++)for(;this.pdf.internal.getNumberOfPages()<Ke[dt];)k.call(this);E(Ke);for(var Be=Ke[0],pt=Ke[Ke.length-1],Ye=Be;Ye<pt+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=ie,this.strokeStyle=fe,this.lineCap=Z,this.lineWidth=we,this.lineJoin=ae;var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=Ye===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=Ye===1?0:Xt+(Ye-2)*Ut;if(this.ctx.clip_path.length!==0){var qt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ye,this.posX+this.margin[3],-Et+mt+this.ctx.prevPageLastElemOffset),M.call(this,z,!0),this.path=qt}if(_e=JSON.parse(JSON.stringify(ke)),this.path=L(_e,this.posX+this.margin[3],-Et+mt+this.ctx.prevPageLastElemOffset),re===!1||Ye===0){var zt=(Ye>Be||Ye<pt)&&w.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Ut,null).clip().discardPath()),M.call(this,z,re),zt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=ke}else this.lineWidth=we,M.call(this,z,re),this.lineWidth=de},M=function(z,re){if((z!=="stroke"||re||!b.call(this))&&(z==="stroke"||re||!p.call(this))){for(var ie,fe,Z=[],de=this.path,we=0;we<de.length;we++){var ae=de[we];switch(ae.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ae,deltas:[],abs:[]});break;case"lt":var ye=Z.length;if(de[we-1]&&!isNaN(de[we-1].x)&&(ie=[ae.x-de[we-1].x,ae.y-de[we-1].y],ye>0)){for(;ye>=0;ye--)if(Z[ye-1].close!==!0&&Z[ye-1].begin!==!0){Z[ye-1].deltas.push(ie),Z[ye-1].abs.push(ae);break}}break;case"bct":ie=[ae.x1-de[we-1].x,ae.y1-de[we-1].y,ae.x2-de[we-1].x,ae.y2-de[we-1].y,ae.x-de[we-1].x,ae.y-de[we-1].y],Z[Z.length-1].deltas.push(ie);break;case"qct":var _e=de[we-1].x+2/3*(ae.x1-de[we-1].x),ke=de[we-1].y+2/3*(ae.y1-de[we-1].y),qe=ae.x+2/3*(ae.x1-ae.x),Ke=ae.y+2/3*(ae.y1-ae.y),ne=ae.x,He=ae.y;ie=[_e-de[we-1].x,ke-de[we-1].y,qe-de[we-1].x,Ke-de[we-1].y,ne-de[we-1].x,He-de[we-1].y],Z[Z.length-1].deltas.push(ie);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ae)}}fe=re?null:z==="stroke"?"stroke":"fill";for(var ft=!1,dt=0;dt<Z.length;dt++)if(Z[dt].arc)for(var Be=Z[dt].abs,pt=0;pt<Be.length;pt++){var Ye=Be[pt];Ye.type==="arc"?U.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,re,!ft):H.call(this,Ye.x,Ye.y),ft=!0}else if(Z[dt].close===!0)this.pdf.internal.out("h"),ft=!1;else if(Z[dt].begin!==!0){var xt=Z[dt].start.x,mt=Z[dt].start.y;V.call(this,Z[dt].deltas,xt,mt),ft=!0}fe&&B.call(this,fe),re&&Y.call(this)}},F=function(z){var re=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=re*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-ie;case"top":return z+re-ie;case"hanging":return z+re-2*ie;case"middle":return z+re/2-ie;default:return z}},R=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(re,ie){this.colorStops.push([re,ie])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(z,re,ie,fe,Z,de,we,ae,ye){for(var _e=pe.call(this,ie,fe,Z,de),ke=0;ke<_e.length;ke++){var qe=_e[ke];ke===0&&(ye?C.call(this,qe.x1+z,qe.y1+re):H.call(this,qe.x1+z,qe.y1+re)),W.call(this,z,re,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}ae?Y.call(this):B.call(this,we)},B=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(z,re){this.pdf.internal.out(r(z)+" "+n(re)+" m")},T=function(z){var re;switch(z.align){case"right":case"end":re="right";break;case"center":re="center";break;default:re="left"}var ie,fe,Z,de=this.pdf.getTextDimensions(z.text),we=F.call(this,z.y),ae=R.call(this,we)-de.h,ye=this.ctx.transform.applyToPoint(new l(z.x,we));if(this.autoPaging){var _e=this.ctx.transform.decompose(),ke=new d;ke=(ke=(ke=ke.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var qe=this.ctx.transform.applyToRectangle(new c(z.x,we,de.w,de.h)),Ke=ke.applyToRectangle(new c(z.x,ae,de.w,de.h)),ne=N.call(this,Ke),He=[],ft=0;ft<ne.length;ft+=1)He.indexOf(ne[ft])===-1&&He.push(ne[ft]);E(He);for(var dt=He[0],Be=He[He.length-1],pt=dt;pt<Be+1;pt++){this.pdf.setPage(pt);var Ye=pt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[2],Xt=mt-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],Et=Ut-this.margin[3],qt=pt===1?0:xt+(pt-2)*Xt;if(this.ctx.clip_path.length!==0){var zt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ie,this.posX+this.margin[3],-1*qt+Ye),M.call(this,"fill",!0),this.path=zt}var st=L([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-qt+Ye+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*z.scale),Z=this.lineWidth,this.lineWidth=Z*z.scale);var Pt=this.autoPaging!=="text";if(Pt||st.y+st.h<=mt){if(Pt||st.y>=Ye&&st.x<=Ut){var it=Pt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Ut-st.x)[0],Gr=L([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-qt+Ye+this.ctx.prevPageLastElemOffset)[0],Kt=Pt&&(pt>dt||pt<Be)&&w.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Xt,null).clip().discardPath()),this.pdf.text(it,Gr.x,Gr.y,{angle:z.angle,align:re,renderingMode:z.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else st.y<mt&&(this.ctx.prevPageLastElemOffset+=mt-st.y);z.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=Z)}}else z.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*z.scale),Z=this.lineWidth,this.lineWidth=Z*z.scale),this.pdf.text(z.text,ye.x+this.posX,ye.y+this.posY,{angle:z.angle,align:re,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=Z)},H=function(z,re,ie,fe){ie=ie||0,fe=fe||0,this.pdf.internal.out(r(z+ie)+" "+n(re+fe)+" l")},V=function(z,re,ie){return this.pdf.lines(z,re,ie,null,null)},W=function(z,re,ie,fe,Z,de,we,ae){this.pdf.internal.out([t(a(ie+z)),t(i(fe+re)),t(a(Z+z)),t(i(de+re)),t(a(we+z)),t(i(ae+re)),"c"].join(" "))},pe=function(z,re,ie,fe){for(var Z=2*Math.PI,de=Math.PI/2;re>ie;)re-=Z;var we=Math.abs(ie-re);we<Z&&fe&&(we=Z-we);for(var ae=[],ye=fe?-1:1,_e=re;we>1e-5;){var ke=_e+ye*Math.min(we,de);ae.push(ue.call(this,z,_e,ke)),we-=Math.abs(ke-_e),_e=ke}return ae},ue=function(z,re,ie){var fe=(ie-re)/2,Z=z*Math.cos(fe),de=z*Math.sin(fe),we=Z,ae=-de,ye=we*we+ae*ae,_e=ye+we*Z+ae*de,ke=4/3*(Math.sqrt(2*ye*_e)-_e)/(we*de-ae*Z),qe=we-ke*ae,Ke=ae+ke*we,ne=qe,He=-Ke,ft=fe+re,dt=Math.cos(ft),Be=Math.sin(ft);return{x1:z*Math.cos(re),y1:z*Math.sin(re),x2:qe*dt-Ke*Be,y2:qe*Be+Ke*dt,x3:ne*dt-He*Be,y3:ne*Be+He*dt,x4:z*Math.cos(ie),y4:z*Math.sin(ie)}},J=function(z){return 180*z/Math.PI},le=function(z,re,ie,fe,Z,de){var we=z+.5*(ie-z),ae=re+.5*(fe-re),ye=Z+.5*(ie-Z),_e=de+.5*(fe-de),ke=Math.min(z,Z,we,ye),qe=Math.max(z,Z,we,ye),Ke=Math.min(re,de,ae,_e),ne=Math.max(re,de,ae,_e);return new c(ke,Ke,qe-ke,ne-Ke)},me=function(z,re,ie,fe,Z,de,we,ae){var ye,_e,ke,qe,Ke,ne,He,ft,dt,Be,pt,Ye,xt,mt,Xt=ie-z,Ut=fe-re,Et=Z-ie,qt=de-fe,zt=we-Z,st=ae-de;for(_e=0;_e<41;_e++)dt=(He=(ke=z+(ye=_e/40)*Xt)+ye*((Ke=ie+ye*Et)-ke))+ye*(Ke+ye*(Z+ye*zt-Ke)-He),Be=(ft=(qe=re+ye*Ut)+ye*((ne=fe+ye*qt)-qe))+ye*(ne+ye*(de+ye*st-ne)-ft),_e==0?(pt=dt,Ye=Be,xt=dt,mt=Be):(pt=Math.min(pt,dt),Ye=Math.min(Ye,Be),xt=Math.max(xt,dt),mt=Math.max(mt,Be));return new c(Math.round(pt),Math.round(Ye),Math.round(xt-pt),Math.round(mt-Ye))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,re,ie=(z=this.ctx.lineDash,re=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:re}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(ht.API),function(e){var t=function(l){var c,d,f,h,m,g,p,b,w,N;for(d=[],f=0,h=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;h>f;f+=4)(m=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(g=(m=((m=((m=((m=(m-(N=m%85))/85)-(w=m%85))/85)-(b=m%85))/85)-(p=m%85))/85)%85,d.push(g+33,p+33,b+33,w+33,N+33)):d.push(122);return function(k,L){for(var E=L;E>0;E--)k.pop()}(d,c.length),String.fromCharCode.apply(String,d)+"~>"},r=function(l){var c,d,f,h,m,g=String,p="length",b=255,w="charCodeAt",N="slice",k="replace";for(l[N](-2),l=l[N](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),f=[],h=0,m=(l+=c="uuuuu"[N](l[p]%5||5))[p];m>h;h+=5)d=52200625*(l[w](h)-33)+614125*(l[w](h+1)-33)+7225*(l[w](h+2)-33)+85*(l[w](h+3)-33)+(l[w](h+4)-33),f.push(b&d>>24,b&d>>16,b&d>>8,b&d);return function(L,E){for(var I=E;I>0;I--)L.pop()}(f,c[p]),g.fromCharCode.apply(g,f)},n=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",f=0;f<l.length;f+=2)d+=String.fromCharCode("0x"+(l[f]+l[f+1]));return d},i=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=$b(c)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};e.processDataByFilters=function(l,c){var d=0,f=l||"",h=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}}(ht.API),function(e){e.loadFile=function(t,r,n){return function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(d,f,h){var m=new XMLHttpRequest,g=0,p=function(b){var w=b.length,N=[],k=String.fromCharCode;for(g=0;g<w;g+=1)N.push(k(255&b.charCodeAt(g)));return N.join("")};if(m.open("GET",d,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return p(m.responseText)}(a,i,l)}catch{}return c}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(ht.API),function(e){function t(){return(It.html2canvas?Promise.resolve(It.html2canvas):vg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(It.DOMPurify?Promise.resolve(It.DOMPurify):vg(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=xr(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(c,d){var f=document.createElement(c);for(var h in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[h]=d.style[h];return f},i=function c(d,f){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(c(m,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h},l=function c(d){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),h=c.convert(Promise.resolve(),f);return(h=h.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c),d){case"string":return this.then(r).then(function(f){return this.set({src:a("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var f=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var b=h[p],w=b.src.find(function(N){return N.format==="truetype"});w&&f.addFont(w.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),d(this.prop.container,g)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(n(c)!=="object")return this;var d=Object.keys(c||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var f=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(f):f})},l.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(c=c||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,f,h){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,f,h){return this.setProgress(c?this.progress.val+c:null,d||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},l.prototype.then=function(c,d){var f=this;return this.thenCore(c,d,function(h,m){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,h),g}).then(h,m).then(function(g){return f.updateProgress(1),g})})},l.prototype.thenCore=function(c,d,f){f=f||Promise.prototype.then;var h=this;c&&(c=c.bind(h)),d&&(d=d.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:l.convert(Object.assign({},h),Promise.prototype),g=f.call(m,c,d);return l.convert(g,h.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(f){d=d.thenCore(f)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,ht.getPageSize=function(c,d,f){if(xr(c)==="object"){var h=c;c=h.orientation,d=h.unit||d,f=h.format||f}d=d||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var m,g=(""+f).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+d}var b,w=0,N=0;if(p.hasOwnProperty(g))w=p[g][1]/m,N=p[g][0]/m;else try{w=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",N>w&&(b=N,N=w,w=b);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",w>N&&(b=N,N=w,w=b)}return{width:N,height:w,unit:d,k:m,orientation:c}},e.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Dg):null;var f=new l(d);return d.worker?f:f.from(c).doCallback()}}(ht.API),ht.API.addJS=function(e){var t,r,n=function(a){for(var i="",l=0;l<a.length;l++){var c=a[l];if(c==="("||c===")"){for(var d=0,f=l-1;f>=0&&a[f]==="\\";f--)d++;i+=d%2==0?"\\"+c:c}else i+=c}return i}(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],c=n.exec(l);if(c!=null){var d=c[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(i=0;i<f;i++){var m=r.internal.newObject();h.push(m);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(ht.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,l,c){var d,f=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=function(m){for(var g,p=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,w={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=p,t.indexOf(m.charCodeAt(N+1))!==-1){g=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),w={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:g,numcomponents:m.charCodeAt(N+9)};break}p=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}h={data:r,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:f,index:n,alias:a}}return h}}(ht.API),ht.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=BE(e,{checkCrc:!0}),l=i.width,c=i.height,d=i.channels,f=i.palette,h=i.depth;a=f&&d===1?function(U){for(var B=U.width,Y=U.height,C=U.data,T=U.palette,H=U.depth,V=!1,W=[],pe=[],ue=void 0,J=!1,le=0,me=0;me<T.length;me++){var ee=j5(T[me],4),z=ee[0],re=ee[1],ie=ee[2],fe=ee[3];W.push(z,re,ie),fe!=null&&(fe===0?(le++,pe.length<1&&pe.push(me)):fe<255&&(J=!0))}if(J||le>1){V=!0,pe=void 0;var Z=B*Y;ue=new Uint8Array(Z);for(var de=new DataView(C.buffer),we=0;we<Z;we++){var ae=Mg(de,we,H),ye=j5(T[ae],4)[3];ue[we]=ye}}else le===0&&(pe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:C,alphaBytes:ue,needSMask:V,palette:W,mask:pe}}(i):d===2||d===4?function(U){for(var B=U.data,Y=U.width,C=U.height,T=U.channels,H=U.depth,V=T===2?"DeviceGray":"DeviceRGB",W=T-1,pe=Y*C,ue=W,J=pe*ue,le=1*pe,me=Math.ceil(J*H/8),ee=Math.ceil(le*H/8),z=new Uint8Array(me),re=new Uint8Array(ee),ie=new DataView(B.buffer),fe=new DataView(z.buffer),Z=new DataView(re.buffer),de=!1,we=0;we<pe;we++){for(var ae=we*T,ye=0;ye<ue;ye++)AN(fe,Mg(ie,ae+ye,H),we*ue+ye,H);var _e=Mg(ie,ae+ue,H);_e<(1<<H)-1&&(de=!0),AN(Z,_e,1*we,H)}return{colorSpace:V,colorsPerPixel:W,sMaskBitsPerComponent:de?H:void 0,colorBytes:z,alphaBytes:re,needSMask:de}}(i):function(U){var B=U.data,Y=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Y,colorsPerPixel:Y==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?function(C){for(var T=C.length,H=new Uint8Array(2*T),V=new DataView(H.buffer,H.byteOffset,H.byteLength),W=0;W<T;W++)V.setUint16(2*W,C[W],!1);return H}(B):B,needSMask:!1}}(i);var m,g,p,b=a,w=b.colorSpace,N=b.colorsPerPixel,k=b.sMaskBitsPerComponent,L=b.colorBytes,E=b.alphaBytes,I=b.needSMask,M=b.palette,F=b.mask,R=null;return n!==ht.API.image_compression.NONE&&typeof $b=="function"?(R=function(U){var B;switch(U){case ht.API.image_compression.FAST:B=11;break;case ht.API.image_compression.MEDIUM:B=13;break;case ht.API.image_compression.SLOW:B=14;break;default:B=12}return B}(n),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(R," /Colors ").concat(N," /BitsPerComponent ").concat(h," /Columns ").concat(l),e=wN(L,Math.ceil(l*N*h/8),N,h,n),I&&(p=wN(E,Math.ceil(l*k/8),1,k,n))):(m=void 0,g=void 0,e=L,I&&(p=E)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:g,transparency:F,palette:M,sMask:p,predictor:R,width:l,height:c,bitsPerComponent:h,sMaskBitsPerComponent:k,colorSpace:w}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new oL(t),l=i.width,c=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:l,height:c},h=new Rg(100).encode(f,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A}(ht.API),zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zs.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){Sr.log("bit decode error:"+r)}},zs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var d=this.palette[i>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}r!==0&&(this.pos+=4-r)}},zs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,c=i>>4,d=15&i,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*a+1>=this.width)break;f=this.palette[d],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},zs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},zs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,c=(i>>5&t)/t*255|0,d=(i>>10&t)/t*255|0,f=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=f}this.pos+=e}},zs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,d=(l>>5&r)/r*255|0,f=(l>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=f,this.data[h+1]=d,this.data[h+2]=c,this.data[h+3]=255}this.pos+=e}},zs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},zs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=l}},zs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new zs(t,!1),l=i.width,c=i.height,d={data:i.getData(),width:l,height:c},f=new Rg(100).encode(d,100);return e.processJPEG.call(this,f,r,n,a)}}(ht.API),CN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new CN(t),l=i.width,c=i.height,d={data:i.getData(),width:l,height:c},f=new Rg(100).encode(d,100);return e.processJPEG.call(this,f,r,n,a)}}(ht.API),ht.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),c=0,d=0,f=0;f<a;f+=4){var h=n[f],m=n[f+1],g=n[f+2],p=n[f+3];i[c++]=h,i[c++]=m,i[c++]=g,l[d++]=p}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ht.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sd=ht.API,Up=Sd.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,d=c.fof?c.fof:1,f=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=t.doKerning!==!1,g=0,p=e.length,b=0,w=c[0]||d,N=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?N.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(g=m&&xr(f[n])==="object"&&!isNaN(parseInt(f[n][b],10))?f[n][b]/h:0,N.push((c[n]||w)/d+g)),b=n;return N},xN=Sd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Sd.processArabic&&(e=Sd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Up.apply(this,arguments).reduce(function(i,l){return i+l},0)},bN=function(e,t,r,n){for(var a=[],i=0,l=e.length,c=0;i!==l&&c+t[i]<r;)c+=t[i],i++;a.push(e.slice(0,i));var d=i;for(c=0;i!==l;)c+t[i]>n&&(a.push(e.slice(d,i)),c=0,d=i),c+=t[i],i++;return d!==i&&a.push(e.slice(d,i)),a},yN=function(e,t,r){r||(r={});var n,a,i,l,c,d,f,h=[],m=[h],g=r.textIndent||0,p=0,b=0,w=e.split(" "),N=Up.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var k=Array(d).join(" "),L=[];w.map(function(I){(I=I.split(/\s*\n/)).length>1?L=L.concat(I.map(function(M,F){return(F&&M.length?`
`:"")+M})):L.push(I[0])}),w=L,d=xN.apply(this,[k,r])}for(i=0,l=w.length;i<l;i++){var E=0;if(n=w[i],d&&n[0]==`
`&&(n=n.substr(1),E=1),g+p+(b=(a=Up.apply(this,[n,r])).reduce(function(I,M){return I+M},0))>t||E){if(b>t){for(c=bN.apply(this,[n,a,t-(g+p),t]),h.push(c.shift()),h=[c.pop()];c.length;)m.push([c.shift()]);b=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(I,M){return I+M},0)}else h=[n];m.push(h),g=b+d,p=N}else h.push(n),g+=p+b,p=N}return f=d?function(I,M){return(M?k:"")+I.join(" ")}:function(I){return I.join(" ")},m.map(f)},Sd.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var c,d,f=[];for(c=0,d=n.length;c<d;c++)f=f.concat(yN.apply(this,[n[c],l,i]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var l=function(g){return"0x"+parseInt(g,10).toString(16)},c=e.__fontmetrics__.compress=function(g){var p,b,w,N,k=["{"];for(var L in g){if(p=g[L],isNaN(parseInt(L,10))?b="'"+L+"'":(L=parseInt(L,10),b=(b=l(L).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof p=="number")p<0?(w=l(p).slice(3),N="-"):(w=l(p).slice(2),N=""),w=N+w.slice(0,-1)+a[w.slice(-1)];else{if(xr(p)!=="object")throw new Error("Don't know what to do with value type "+xr(p)+".");w=c(p)}k.push(b+w)}return k.push("}"),k.join("")},d=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,b,w,N,k={},L=1,E=k,I=[],M="",F="",R=g.length-1,U=1;U<R;U+=1)(N=g[U])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(N):N=="{"?(I.push([E,w]),E={},w=void 0):N=="}"?((b=I.pop())[0][b[1]]=E,w=void 0,E=b[0]):N=="-"?L=-1:w===void 0?n.hasOwnProperty(N)?(M+=n[N],w=parseInt(M,16)*L,L=1,M=""):M+=N:n.hasOwnProperty(N)?(F+=n[N],E[w]=parseInt(F,16)*L,L=1,w=void 0,F=""):F+=N;return k},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var p=g.font,b=m.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var w=h.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(ht.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(s0(c)),l.metadata=e.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])}(ht),ht.API.addSvgAsImage=function(e,t,r,n,a,i,l,c){if(isNaN(t)||isNaN(r))throw Sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=a;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(It.canvg?Promise.resolve(It.canvg):vg(()=>import("./index.es-CZabgCeh.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),t,r,n,a,l,c)})},ht.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},ht.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],f=0,h=0,m=0;function g(b,w){var N,k=!1;for(N=0;N<b.length;N+=1)b[N]===w&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=c.length;for(m=0;m<p;m+=1)r[c[m]].value=r[c[m]].defaultValue,r[c[m]].explicitSet=!1}if(xr(e)==="object"){for(a in e)if(i=e[a],g(c,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&g(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(f=0;f<i.length;f+=1)if(n=!0,i[f].length===1&&typeof i[f][0]=="number")d.push(String(i[f]-1));else if(i[f].length>1){for(h=0;h<i[f].length;h+=1)typeof i[f][h]!="number"&&(n=!1);n===!0&&d.push([i[f][0]-1,i[f][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?w.push("/"+b+" /"+r[b].value):w.push("/"+b+" "+r[b].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},ht.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",cL),this.internal.events.subscribe("postPutResources",lL)),this},function(e){var t=e.API,r=t.pdfEscape16=function(i,l){for(var c,d=l.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,g=i.length;m<g;++m){if(c=l.metadata.characterToGlyph(i.charCodeAt(m)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=i.charCodeAt(m),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return h.join("");c=c.toString(16),h.push(f[4-c.length],c)}return h.join("")},n=function(i){var l,c,d,f,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],m=0,g=(c=Object.keys(i).sort(function(p,b){return p-b})).length;m<g;m++)l=c[m],d.length>=100&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(f=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+f+">"));return d.length&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var c=l.font,d=l.out,f=l.newObject,h=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var m=c.metadata.Unicode.widths,g=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),p="",b=0;b<g.length;b++)p+=String.fromCharCode(g[b]);var w=f();h({data:p,addLength1:!0,objectId:w}),d("endobj");var N=f();h({data:n(c.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var k=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Ed(c.fontName)),d("/FontFile2 "+w+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var L=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+Ed(c.fontName)),d("/FontDescriptor "+k+" 0 R"),d("/W "+e.API.PDFObject.convert(m)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+N+" 0 R"),d("/BaseFont /"+Ed(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+L+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var c=l.font,d=l.out,f=l.newObject,h=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var m=c.metadata.rawData,g="",p=0;p<m.length;p++)g+=String.fromCharCode(m[p]);var b=f();h({data:g,addLength1:!0,objectId:b}),d("endobj");var w=f();h({data:n(c.metadata.toUnicode),addLength1:!0,objectId:w}),d("endobj");var N=f();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+b+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+Ed(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=f();for(var k=0;k<c.metadata.hmtx.widths.length;k++)c.metadata.hmtx.widths[k]=parseInt(c.metadata.hmtx.widths[k]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Ed(c.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,c=i.text||"",d=i.x,f=i.y,h=i.options||{},m=i.mutex||{},g=m.pdfEscape,p=m.activeFontKey,b=m.fonts,w=p,N="",k=0,L="",E=b[w].encoding;if(b[w].encoding!=="Identity-H")return{text:c,x:d,y:f,options:h,mutex:m};for(L=c,w=p,Array.isArray(c)&&(L=c[0]),k=0;k<L.length;k+=1)b[w].metadata.hasOwnProperty("cmap")&&(l=b[w].metadata.cmap.unicode.codeMap[L[k].charCodeAt(0)]),l||L[k].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?N+=L[k]:N+="";var I="";return parseInt(w.slice(1))<14||E==="WinAnsiEncoding"?I=g(N,w).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(I=r(N,b[w])),m.isHex=!0,{text:I,x:d,y:f,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var l=i.text||"",c=[],d={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([a(Object.assign({},d,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(a(Object.assign({},d,{text:l[f]})).text);i.text=c}else i.text=a(Object.assign({},d,{text:l})).text}])}(ht),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ht.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,c,d,f,h,m=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,E=0;this.__bidiEngine__={};var I=function(C){var T=C.charCodeAt(),H=T>>8,V=w[H];return V!==void 0?m[256*V+(255&T)]:H===252||H===253?"AL":k.test(H)?"L":H===8?"R":"N"},M=function(C){for(var T,H=0;H<C.length;H++){if((T=I(C.charAt(H)))==="L")return!1;if(T==="R")return!0}return!1},F=function(C,T,H,V){var W,pe,ue,J,le=T[V];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(le="AN");break;case"AL":L=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":V<1||V+1>=T.length||(W=H[V-1])!=="EN"&&W!=="AN"||(pe=T[V+1])!=="EN"&&pe!=="AN"?le="N":L&&(pe="AN"),le=pe===W?pe:"N";break;case"ES":le=(W=V>0?H[V-1]:"B")==="EN"&&V+1<T.length&&T[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&H[V-1]==="EN"){le="EN";break}if(L){le="N";break}for(ue=V+1,J=T.length;ue<J&&T[ue]==="ET";)ue++;le=ue<J&&T[ue]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(J=T.length,ue=V+1;ue<J&&T[ue]==="NSM";)ue++;if(ue<J){var me=C[V],ee=me>=1425&&me<=2303||me===64286;if(W=T[ue],ee&&(W==="R"||W==="AL")){le="R";break}}}le=V<1||(W=T[V-1])==="B"?"N":H[V-1];break;case"B":L=!1,a=!0,le=E;break;case"S":i=!0,le="N"}return le},R=function(C,T,H){var V=C.split("");return H&&U(V,H,{hiLevel:E}),V.reverse(),T&&T.reverse(),V.join("")},U=function(C,T,H){var V,W,pe,ue,J,le=-1,me=C.length,ee=0,z=[],re=E?p:g,ie=[];for(L=!1,a=!1,i=!1,W=0;W<me;W++)ie[W]=I(C[W]);for(pe=0;pe<me;pe++){if(J=ee,z[pe]=F(C,ie,z,pe),V=240&(ee=re[J][b[z[pe]]]),ee&=15,T[pe]=ue=re[ee][5],V>0)if(V===16){for(W=le;W<pe;W++)T[W]=1;le=-1}else le=-1;if(re[ee][6])le===-1&&(le=pe);else if(le>-1){for(W=le;W<pe;W++)T[W]=ue;le=-1}ie[pe]==="B"&&(T[pe]=0),H.hiLevel|=ue}i&&function(fe,Z,de){for(var we=0;we<de;we++)if(fe[we]==="S"){Z[we]=E;for(var ae=we-1;ae>=0&&fe[ae]==="WS";ae--)Z[ae]=E}}(ie,T,me)},B=function(C,T,H,V,W){if(!(W.hiLevel<C)){if(C===1&&E===1&&!a)return T.reverse(),void(H&&H.reverse());for(var pe,ue,J,le,me=T.length,ee=0;ee<me;){if(V[ee]>=C){for(J=ee+1;J<me&&V[J]>=C;)J++;for(le=ee,ue=J-1;le<ue;le++,ue--)pe=T[le],T[le]=T[ue],T[ue]=pe,H&&(pe=H[le],H[le]=H[ue],H[ue]=pe);ee=J}ee++}}},Y=function(C,T,H){var V=C.split(""),W={hiLevel:E};return H||(H=[]),U(V,H,W),function(pe,ue,J){if(J.hiLevel!==0&&h)for(var le,me=0;me<pe.length;me++)ue[me]===1&&(le=N.indexOf(pe[me]))>=0&&(pe[me]=N[le+1])}(V,H,W),B(2,V,T,H,W),B(1,V,T,H,W),V.join("")};return this.__bidiEngine__.doBidiReorder=function(C,T,H){if(function(W,pe){if(pe)for(var ue=0;ue<W.length;ue++)pe[ue]=ue;c===void 0&&(c=M(W)),f===void 0&&(f=M(W))}(C,T),l||!d||f)if(l&&d&&c^f)E=c?1:0,C=R(C,T,H);else if(!l&&d&&f)E=c?1:0,C=Y(C,T,H),C=R(C,T);else if(!l||c||d||f){if(l&&!d&&c^f)C=R(C,T),c?(E=0,C=Y(C,T,H)):(E=1,C=Y(C,T,H),C=R(C,T));else if(l&&c&&!d&&f)E=1,C=Y(C,T,H),C=R(C,T);else if(!l&&!d&&c^f){var V=h;c?(E=1,C=Y(C,T,H),E=0,h=!1,C=Y(C,T,H),h=V):(E=0,C=Y(C,T,H),C=R(C,T),E=1,h=!1,C=Y(C,T,H),h=V,C=R(C,T))}}else E=0,C=Y(C,T,H);else E=c?1:0,C=Y(C,T,H);return C},this.__bidiEngine__.setOptions=function(C){C&&(l=C.isInputVisual,d=C.isOutputVisual,c=C.isInputRtl,f=C.isOutputRtl,h=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(l=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?l.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):l.push([r.doBidiReorder(a[c])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Tc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kL(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new uL(this.contents),this.head=new fL(this),this.name=new gL(this),this.cmap=new L6(this),this.toUnicode={},this.hhea=new hL(this),this.maxp=new xL(this),this.hmtx=new bL(this),this.post=new mL(this),this.os2=new pL(this),this.loca=new jL(this),this.glyf=new yL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,f;for(f=[],l=0,c=(d=this.bbox).length;l<c;l++)t=d[l],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,l,c;for(l=0,i=0,c=(t=""+t).length;0<=c?i<c:i>c;i=0<=c?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Xs,Tc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,l,c,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*c+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),uL=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,l,c,d,f,h,m,g,p,b,w;for(w in p=Object.keys(r).length,d=Math.log(2),m=16*Math.floor(Math.log(p)/d),l=Math.floor(m/d),h=16*p-m,(a=new Tc).writeInt(this.scalarType),a.writeShort(p),a.writeShort(m),a.writeShort(l),a.writeShort(h),i=16*p,f=a.pos+i,c=null,b=[],r)for(g=r[w],a.writeString(w),a.writeInt(e(g)),a.writeInt(f),a.writeInt(g.length),b=b.concat(g),w==="head"&&(c=f),f+=g.length;f%4;)b.push(0),f++;return a.write(b),n=2981146554-e(a.data),a.pos=c+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,l;for(r=D6.call(r);r.length%4;)r.push(0);for(i=new Tc(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),dL={}.hasOwnProperty,Fo=function(e,t){for(var r in t)dL.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Xs=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var fL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Tc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),_N=function(){function e(t,r){var n,a,i,l,c,d,f,h,m,g,p,b,w,N,k,L,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(p=t.readUInt16(),g=p/2,t.pos+=6,i=function(){var I,M;for(M=[],d=I=0;0<=g?I<g:I>g;d=0<=g?++I:--I)M.push(t.readUInt16());return M}(),t.pos+=2,w=function(){var I,M;for(M=[],d=I=0;0<=g?I<g:I>g;d=0<=g?++I:--I)M.push(t.readUInt16());return M}(),f=function(){var I,M;for(M=[],d=I=0;0<=g?I<g:I>g;d=0<=g?++I:--I)M.push(t.readUInt16());return M}(),h=function(){var I,M;for(M=[],d=I=0;0<=g?I<g:I>g;d=0<=g?++I:--I)M.push(t.readUInt16());return M}(),a=(this.length-t.pos+this.offset)/2,c=function(){var I,M;for(M=[],d=I=0;0<=a?I<a:I>a;d=0<=a?++I:--I)M.push(t.readUInt16());return M}(),d=k=0,E=i.length;k<E;d=++k)for(N=i[d],n=L=b=w[d];b<=N?L<=N:L>=N;n=b<=N?++L:--L)h[d]===0?l=n+f[d]:(l=c[h[d]/2+(n-b)-(g-d)]||0)!==0&&(l+=f[d]),this.codeMap[n]=65535&l}t.pos=m}return e.encode=function(t,r){var n,a,i,l,c,d,f,h,m,g,p,b,w,N,k,L,E,I,M,F,R,U,B,Y,C,T,H,V,W,pe,ue,J,le,me,ee,z,re,ie,fe,Z,de,we,ae,ye,_e,ke;switch(V=new Tc,l=Object.keys(t).sort(function(qe,Ke){return qe-Ke}),r){case"macroman":for(w=0,N=function(){var qe=[];for(b=0;b<256;++b)qe.push(0);return qe}(),L={0:0},i={},W=0,le=l.length;W<le;W++)L[ae=t[a=l[W]]]==null&&(L[ae]=++w),i[a]={old:t[a],new:L[t[a]]},N[a]=L[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(N),{charMap:i,subtable:V.data,maxGlyphID:w+1};case"unicode":for(T=[],m=[],E=0,L={},n={},k=f=null,pe=0,me=l.length;pe<me;pe++)L[M=t[a=l[pe]]]==null&&(L[M]=++E),n[a]={old:M,new:L[M]},c=L[M]-a,k!=null&&c===f||(k&&m.push(k),T.push(a),f=c),k=a;for(k&&m.push(k),m.push(65535),T.push(65535),Y=2*(B=T.length),U=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(U/2)/Math.LN2,R=2*B-U,d=[],F=[],p=[],b=ue=0,ee=T.length;ue<ee;b=++ue){if(C=T[b],h=m[b],C===65535){d.push(0),F.push(0);break}if(C-(H=n[C].new)>=32768)for(d.push(0),F.push(2*(p.length+B-b)),a=J=C;C<=h?J<=h:J>=h;a=C<=h?++J:--J)p.push(n[a].new);else d.push(H-C),F.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*B+2*p.length),V.writeUInt16(0),V.writeUInt16(Y),V.writeUInt16(U),V.writeUInt16(g),V.writeUInt16(R),de=0,z=m.length;de<z;de++)a=m[de],V.writeUInt16(a);for(V.writeUInt16(0),we=0,re=T.length;we<re;we++)a=T[we],V.writeUInt16(a);for(ye=0,ie=d.length;ye<ie;ye++)c=d[ye],V.writeUInt16(c);for(_e=0,fe=F.length;_e<fe;_e++)I=F[_e],V.writeUInt16(I);for(ke=0,Z=p.length;ke<Z;ke++)w=p[ke],V.writeUInt16(w);return{charMap:n,subtable:V.data,maxGlyphID:E+1}}},e}(),L6=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new _N(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=_N.encode(t,r),(a=new Tc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),hL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),pL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),mL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,c,d;for(d=[],i=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;i=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},e}(),vL=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,l,c,d,f,h,m,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},i=h=0,m=n.length;h<m;i=++h)a=n[i],t.pos=a.offset,f=t.readString(a.length),l=new vL(f,a),d[g=a.nameID]==null&&(d[g]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),xL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),bL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,l,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)h.push(t.readInt16());return h}(),this.widths=(function(){var f,h,m,g;for(g=[],f=0,h=(m=this.metrics).length;f<h;f++)i=m[f],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),D6=[].slice,yL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,l,c,d,f,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(c=new Tc(r.read(a))).readShort(),f=c.readShort(),m=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[t]=l===-1?new NL(c,f,m,d,h):new wL(c,l,f,m,d,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,l,c,d;for(l=[],i=[],c=0,d=r.length;c<d;c++)a=t[r[c]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e}(),wL=function(){function e(t,r,n,a,i,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),NL=function(){function e(t,r,n,a,i){var l,c;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Tc(D6.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),jL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,Xs),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<r.length&&r[i]==l){++i,n[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var f=new Array(4*n.length),h=0;h<n.length;++h)f[4*h+3]=255&n[h],f[4*h+2]=(65280&n[h])>>8,f[4*h+1]=(16711680&n[h])>>16,f[4*h]=(4278190080&n[h])>>24;return f},e}(),kL=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,l,c,d;for(a={},l=0,c=t.length;l<c;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,l,c,d,f,h,m,g,p,b,w,N,k;for(a in n=L6.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),p={0:0},k=n.charMap)p[(d=k[a]).old]=d.new;for(b in g=n.maxGlyphID,l)b in p||(p[b]=g++);return h=function(L){var E,I;for(E in I={},L)I[L[E]]=E;return I}(p),m=Object.keys(h).sort(function(L,E){return L-E}),w=function(){var L,E,I;for(I=[],L=0,E=m.length;L<E;L++)c=m[L],I.push(h[c]);return I}(),i=this.font.glyf.encode(l,w,p),f=this.font.loca.encode(i.offsets,w),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();ht.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+function(){var c,d,f;for(f=[],c=0,d=r.length;c<d;c++)n=r[c],f.push(t.convert(n));return f}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+r},t}();function T6(e,t,r,n,a){n=n||{};var i=1.15,l=a.internal.scaleFactor,c=a.internal.getFontSize()/l,d=a.getLineHeightFactor?a.getLineHeightFactor():i,f=c*d,h=/\r\n|\r|\n/g,m="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(h):e,g=m.length||1),r+=c*(2-i),n.valign==="middle"?r-=g/2*f:n.valign==="bottom"&&(r-=g*f),n.halign==="center"||n.halign==="right"){var p=c;if(n.halign==="center"&&(p*=.5),m&&g>=1){for(var b=0;b<m.length;b++)a.text(m[b],t-a.getStringUnitWidth(m[b])*p,r),r+=f;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var ON={},Ud=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:ON=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,d=l.fontName;if(t.font&&(d=t.font),t.fontStyle){c=t.fontStyle;var f=this.getFontList()[d];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(d,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return ON||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Zb=function(e,t){return Zb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Zb(e,t)};function M6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zb(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var R6=function(e){M6(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function SL(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function AL(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function j0(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return a}function F6(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var l=z6(a,!1);l&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,l)}function z6(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function km(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function B6(e,t){var r=km(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function PL(e,t,r,n,a){var i={},l=1.3333333333333333,c=Fg(t,function(E){return a.getComputedStyle(E).backgroundColor});c!=null&&(i.fillColor=c);var d=Fg(t,function(E){return a.getComputedStyle(E).color});d!=null&&(i.textColor=d);var f=_L(n,r);f&&(i.cellPadding=f);var h="borderTopColor",m=l*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var p=(parseFloat(g)||0)/m;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var b=Fg(t,function(E){return a.getComputedStyle(E)[h]});b!=null&&(i.lineColor=b);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var N=parseInt(n.fontSize||"");isNaN(N)||(i.fontSize=N/l);var k=CL(n);k&&(i.fontStyle=k);var L=(n.fontFamily||"").toLowerCase();return e.indexOf(L)!==-1&&(i.font=L),i}function CL(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Fg(e,t){var r=U6(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function U6(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:U6(e.parentElement,t):r}function _L(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(c){return parseInt(c||"0")/n}),l=km(i,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function q6(e,t,r,n,a){var i,l;n===void 0&&(n=!1),a===void 0&&(a=!1);var c;typeof t=="string"?c=r.document.querySelector(t):c=t;var d=Object.keys(e.getFontList()),f=e.scaleFactor(),h=[],m=[],g=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:g};for(var p=0;p<c.rows.length;p++){var b=c.rows[p],w=(l=(i=b==null?void 0:b.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),N=OL(d,f,r,b,n,a);N&&(w==="thead"?h.push(N):w==="tfoot"?g.push(N):m.push(N))}return{head:h,body:m,foot:g}}function OL(e,t,r,n,a,i){for(var l=new R6(n),c=0;c<n.cells.length;c++){var d=n.cells[c],f=r.getComputedStyle(d);if(a||f.display!=="none"){var h=void 0;i&&(h=PL(e,d,t,f,r)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:h,_element:d,content:IL(d)})}}var m=r.getComputedStyle(n);if(l.length>0&&(a||m.display!=="none"))return l}function IL(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function EL(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function kl(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(i[d]=c[d])}return i}function LL(e,t){var r=new Ud(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();EL(a,n,t);var i=kl({},a,n,t),l;typeof window<"u"&&(l=window);var c=DL(a,n,t),d=TL(a,n,t),f=ML(r,i),h=FL(r,i,l);return{id:t.tableId,content:h,hooks:d,styles:c,settings:f}}function DL(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(d){if(d==="columnStyles"){var f=e[d],h=t[d],m=r[d];n.columnStyles=kl({},f,h,m)}else{var g=[e,t,r],p=g.map(function(b){return b[d]||{}});n[d]=kl({},p[0],p[1],p[2])}},i=0,l=Object.keys(n);i<l.length;i++){var c=l[i];a(c)}return n}function TL(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=n;i<l.length;i++){var c=l[i];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function ML(e,t){var r,n,a,i,l,c,d,f,h,m,g,p,b=km(t.margin,40/e.scaleFactor()),w=(r=RL(e,t.startY))!==null&&r!==void 0?r:b.top,N;t.showFoot===!0?N="everyPage":t.showFoot===!1?N="never":N=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var k;t.showHead===!0?k="everyPage":t.showHead===!1?k="never":k=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var L=(i=t.useCss)!==null&&i!==void 0?i:!1,E=t.theme||(L?"plain":"striped"),I=!!t.horizontalPageBreak,M=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:L,theme:E,startY:w,margin:b,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:k,showFoot:N,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:I,horizontalPageBreakRepeat:M,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function RL(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;i=l===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function FL(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(r){var c=q6(e,t.html,r,l,t.useCss)||{};n=c.head||n,a=c.body||n,i=c.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||zL(n,a,i);return{columns:d,head:n,body:a,foot:i}}function zL(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,c;Array.isArray(n)?c=n[parseInt(i)]:c=n[i],typeof c=="object"&&!Array.isArray(c)&&(l=(c==null?void 0:c.colSpan)||1);for(var d=0;d<l;d++){var f=void 0;Array.isArray(n)?f=a.length:f=i+(d>0?"_".concat(d):"");var h={dataKey:f};a.push(h)}}),a}var Qb=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),BL=function(e){M6(t,e);function t(r,n,a,i,l,c){var d=e.call(this,r,n,c)||this;return d.cell=a,d.row=i,d.column=l,d.section=i.section,d}return t}(Qb),UL=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,l){for(var c=0,d=r;c<d.length;c++){var f=d[c],h=new BL(t,this,n,a,i,l),m=f(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new Qb(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new Qb(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),$6=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof R6&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var l=n.cells[i.index];if(!l)return 0;var c=r.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),f=d+c;return f>a?f:a},0)},e}(),W6=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=km(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),qL=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},e}();function $L(e,t){WL(e,t);var r=[],n=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=Jb(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=Jb(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),VL(t),KL(t,e),HL(t)}function WL(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=B6(e,t);t.allRows().forEach(function(i){for(var l=0,c=t.columns;l<c.length;l++){var d=c[l],f=i.cells[d.index];if(f){var h=t.hooks.didParseCell;t.callCellHooks(e,h,f,i,d,null);var m=f.padding("horizontal");f.contentWidth=j0(f.text,f.styles,e)+m;var g=j0(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=g+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var p=10/r;f.minWidth=f.styles.minCellWidth||p,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,c=t.columns;l<c.length;l++){var d=c[l],f=i.cells[d.index];if(f&&f.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,f.wrappedWidth),d.minWidth=Math.max(d.minWidth,f.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,f.minReadableWidth);else{var h=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(d.minWidth=m,d.wrappedWidth=m)}f&&(f.colSpan>1&&!d.minWidth&&(d.minWidth=f.minWidth),f.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=f.minWidth))}})}function Jb(e,t,r){for(var n=t,a=e.reduce(function(p,b){return p+b.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],c=l.wrappedWidth/a,d=n*c,f=l.width+d,h=r(l),m=f<h?h:f;t-=m-l.width,l.width=m}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(p){return t<0?p.width>r(p):!0});g.length&&(t=Jb(g,t,r))}return t}function HL(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],l=0,c=e.columns;l<c.length;l++){var d=c[l],f=t[d.index];if(r>1)r--,delete i.cells[d.index];else if(f)f.cell.height+=i.height,r=f.cell.colSpan,delete i.cells[d.index],f.left--,f.left<=1&&delete t[d.index];else{var h=i.cells[d.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=n.length-a,g=h.rowSpan>m?m:h.rowSpan;t[d.index]={cell:h,left:g,row:i}}}}}function VL(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,l=0,c=0;c<e.columns.length;c++){var d=e.columns[c];if(l-=1,l>1&&e.columns[c+1])i+=d.width,delete n.cells[d.index];else if(a){var f=a;delete n.cells[d.index],a=null,f.width=d.width+i}else{var f=n.cells[d.index];if(!f)continue;if(l=f.colSpan,i=0,f.colSpan>1){a=f,i+=d.width;continue}f.width=d.width+i}}}function KL(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],l=0,c=e.columns;l<c.length;l++){var d=c[l],f=i.cells[d.index];if(f){t.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,h+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=IN(f.text,h,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=IN(f.text,h,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,h);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<g*f.rowSpan?r={height:g,count:f.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>i.height&&(i.height=g)}}r.count--}}function IN(e,t,r,n,a){return e.map(function(i){return GL(i,t,r,n,a)})}function GL(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=j0(e,r,n))return e;for(;t<j0(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function YL(e,t){var r=new Ud(e),n=XL(t,r.scaleFactor()),a=new UL(t,n);return $L(r,a),r.applyStyles(r.userStyles),a}function XL(e,t){var r=e.content,n=QL(r.columns);if(r.head.length===0){var a=EN(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=EN(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,l=e.styles;return{columns:n,head:zg("head",r.head,n,l,i,t),body:zg("body",r.body,n,l,i,t),foot:zg("foot",r.foot,n,l,i,t)}}function zg(e,t,r,n,a,i){var l={},c=t.map(function(d,f){for(var h=0,m={},g=0,p=0,b=0,w=r;b<w.length;b++){var N=w[b];if(l[N.index]==null||l[N.index].left===0)if(p===0){var k=void 0;Array.isArray(d)?k=d[N.index-g-h]:k=d[N.dataKey];var L={};typeof k=="object"&&!Array.isArray(k)&&(L=(k==null?void 0:k.styles)||{});var E=JL(e,N,f,a,n,i,L),I=new W6(k,E,e);m[N.dataKey]=I,m[N.index]=I,p=I.colSpan-1,l[N.index]={left:I.rowSpan-1,times:p}}else p--,g++;else l[N.index].left--,p=l[N.index].times,h++}return new $6(d,f,e,m)});return c}function EN(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=ZL(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function ZL(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function QL(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new qL(a,t,r)})}function JL(e,t,r,n,a,i,l){var c=AL(n),d;e==="head"?d=a.headStyles:e==="body"?d=a.bodyStyles:e==="foot"&&(d=a.footStyles);var f=kl({},c.table,c[e],a.styles,d),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},m=e==="body"?h:{},g=e==="body"&&r%2===0?kl({},c.alternateRow,a.alternateRowStyles):{},p=SL(i),b=kl({},p,f,g,m);return kl(b,l)}function eD(e,t,r){var n;r===void 0&&(r={});var a=B6(e,t),i=new Map,l=[],c=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(g){var p=t.columns.find(function(b){return b.dataKey===g||b.index===g});p&&!i.has(p.index)&&(i.set(p.index,!0),l.push(p.index),c.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var f=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(f||a>=m)f=!1,l.push(h),c.push(t.columns[h]),a-=m;else break;h++}return{colIndexes:l,columns:c,lastIndex:h-1}}function tD(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=eD(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function rD(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=n+a.bottom+l;if(r.pageBreak==="avoid"){var d=t.body,f=d.reduce(function(g,p){return g+p.height},0);c+=f}var h=new Ud(e);(r.pageBreak==="always"||r.startY!=null&&c>h.pageSize().height)&&(V6(h),i.y=a.top),t.callWillDrawPageHooks(h,i);var m=kl({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?nD(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return _l(h,t,g,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,p){var b=p===t.body.length-1;k0(h,t,g,b,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return _l(h,t,g,i,t.columns)})),F6(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function nD(e,t,r,n){var a=tD(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,h){e.applyStyles(e.userStyles),h>0?ah(e,t,r,n,f.columns,!0):LN(e,t,n,f.columns),aD(e,t,r,n,f.columns),Bg(e,t,n,f.columns)});else for(var l=-1,c=a[0],d=function(){var f=l;if(c){e.applyStyles(e.userStyles);var h=c.columns;l>=0?ah(e,t,r,n,h,!0):LN(e,t,n,h),f=DN(e,t,l+1,n,h),Bg(e,t,n,h)}var m=f-l;a.slice(1).forEach(function(g){e.applyStyles(e.userStyles),ah(e,t,r,n,g.columns,!0),DN(e,t,l+1,n,g.columns,m),Bg(e,t,n,g.columns)}),l=f};l<t.body.length-1;)d()}function LN(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return _l(e,t,i,r,n)})}function aD(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var c=l===t.body.length-1;k0(e,t,i,c,r,n,a)})}function DN(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(r+i,t.body.length),c=-1;return t.body.slice(r,l).forEach(function(d,f){var h=r+f===t.body.length-1,m=H6(e,t,h,n);d.canEntireRowFit(m,a)&&(_l(e,t,d,n,a),c=r+f)}),c}function Bg(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return _l(e,t,i,r,n)})}function iD(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function sD(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,c=r.columns;l<c.length;l++){var d=c[l],f=e.cells[d.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new W6(f.raw,f.styles,f.section);h=kl(h,f),h.text=[];var m=iD(f,t,n);f.text.length>m&&(h.text=f.text.splice(m,f.text.length));var g=n.scaleFactor(),p=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(g,p),f.contentHeight>=t&&(f.contentHeight=t,h.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),h.contentHeight=h.getContentHeight(g,p),h.contentHeight>i&&(i=h.contentHeight),a[d.index]=h}}var b=new $6(e.raw,-1,e.section,a,!0);b.height=i;for(var w=0,N=r.columns;w<N.length;w++){var d=N[w],h=b.cells[d.index];h&&(h.height=b.height);var f=e.cells[d.index];f&&(f.height=e.height)}return b}function oD(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,l=i.top+i.bottom,c=a-l;t.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,e),f=d<r;if(d>c)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>c;return m?(h&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function k0(e,t,r,n,a,i,l){var c=H6(e,t,n,i);if(r.canEntireRowFit(c,l))_l(e,t,r,i,l);else if(oD(e,r,c,t)){var d=sD(r,c,t,e);_l(e,t,r,i,l),ah(e,t,a,i,l),k0(e,t,d,n,a,i,l)}else ah(e,t,a,i,l),k0(e,t,r,n,a,i,l)}function _l(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,l=a;i<l.length;i++){var c=l[i],d=r.cells[c.index];if(!d){n.x+=c.width;continue}e.applyStyles(d.styles),d.x=n.x,d.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,d,r,c,n);if(f===!1){n.x+=c.width;continue}lD(e,d,n);var h=d.getTextPos();T6(d.text,h.x,h.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,r,c,n),n.x+=c.width}n.y+=r.height}function lD(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=z6(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),cD(e,t,r,n.lineWidth))}function cD(e,t,r,n){var a,i,l,c;n.top&&(a=r.x,i=r.y,l=r.x+t.width,c=r.y,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),d(n.top,a,i,l,c)),n.bottom&&(a=r.x,i=r.y+t.height,l=r.x+t.width,c=r.y+t.height,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),d(n.bottom,a,i,l,c)),n.left&&(a=r.x,i=r.y,l=r.x,c=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.left,a,i,l,c)),n.right&&(a=r.x+t.width,i=r.y,l=r.x+t.width,c=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.right,a,i,l,c));function d(f,h,m,g,p){e.getDocument().setLineWidth(f),e.getDocument().line(h,m,g,p,"S")}}function H6(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function ah(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(c){return _l(e,t,c,n,a)}),t.callEndPageHooks(e,n);var l=t.settings.margin;F6(e,t,r,n),V6(e),t.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return _l(e,t,c,n,a)}),e.applyStyles(e.userStyles))}function V6(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function uD(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=LL(this,n),i=YL(this,a);return rD(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){T6(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Ud.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Ud.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Ud(this),i=q6(a,t,window,r,!1),l=i.head,c=i.body,d=((n=l[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:d,rows:c,data:c}}}var Ug;try{if(typeof window<"u"&&window){var TN=window,MN=TN.jsPDF||((Ug=TN.jspdf)===null||Ug===void 0?void 0:Ug.jsPDF);MN&&uD(MN)}}catch(e){console.error("Could not apply autoTable plugin",e)}const dD="CWS - Slovakia",qf=e=>e?new Date(e).toLocaleDateString():"-",fD=e=>{if(!e||Number.isNaN(e))return"0m 0s";const t=Math.max(0,Math.round(e*3600)),r=Math.floor(t/3600),n=Math.floor(t%3600/60),a=t%60;return r>0?`${r}h ${n}m ${a}s`:`${n}m ${a}s`},qg=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},Bn=e=>e==null?"":String(e),Ad=e=>{const t=(e==null?void 0:e.url)||(e==null?void 0:e.dataUrl)||"",r=(e==null?void 0:e.type)||"";return typeof r=="string"&&r.startsWith("image/")||typeof t=="string"&&(t.startsWith("data:image")||t.startsWith("blob:")||/\.(jpg|jpeg|png|gif|webp|svg)(\?.*)?$/i.test(t))},hD=e=>(e==null?void 0:e.url)||(e==null?void 0:e.dataUrl)||"",qp=(e,t)=>{const r=Array.isArray(t==null?void 0:t.attachments)?t.attachments:[];if(Array.isArray(e))return e;if(e&&typeof e=="object"){if(Array.isArray(e.attachments))return e.attachments;if(typeof e.url=="string"||typeof e.dataUrl=="string")return[e]}return typeof e=="string"&&e.length>0&&(e.startsWith("data:image")||e.startsWith("http")||e.startsWith("blob:"))?[{url:e}]:r},pD=e=>new Promise(t=>{const r=new Image;r.onload=()=>t({w:r.naturalWidth||r.width,h:r.naturalHeight||r.height}),r.onerror=()=>t(null),r.src=e}),RN=async(e,t)=>{const r=new ht({unit:"pt",format:"letter"}),n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=36,l=24,c=46,d=36,f=`Work Orders List for ${t.dateRange.start} - ${t.dateRange.end}`,h=`Generated: ${new Date().toLocaleString()}`;let m=0;const g=R=>{r.setTextColor(30,64,175),r.setFont("helvetica","bold"),r.setFontSize(14),r.text("Online Maintenance Web Portal",n/2,l,{align:"center"}),r.setDrawColor(200),r.setLineWidth(.6),r.line(i,l+10,n-i,l+10),R&&(r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(0),r.text(f,i,l+28),r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(90),r.text(h,i,l+42),r.setTextColor(0))},p=(R,U)=>{const B=a-18;r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(100),r.text(`Generated for ${dD}`,i,B),r.text(`Page ${R} of ${U}`,n-i,B,{align:"right"}),r.setTextColor(0)},b=()=>{g(!0),m=l+c+8},w=()=>{r.addPage(),g(!1),m=l+18+8},N=R=>{m+R>a-d&&w()},k=R=>{const U=R.procedureInstances||[],B=[];if(t.procedureFormat==="Summary"){if(!U.length)return"";for(const C of U){const T=Bn(C.procedureNameSnapshot||"Procedure"),H=(C.procedureSchemaSnapshot||[]).reduce((pe,ue)=>{var J;return pe+(((J=ue.fields)==null?void 0:J.length)||0)},0),V=Object.keys(C.responses||{}).length,W=H>0?Math.round(V/H*100):100;B.push(`- ${T}: ${W}%`)}return B.join(`
`)}for(const C of U){const T=Bn(C.procedureNameSnapshot||"Procedure");B.push(T);const H=C.procedureSchemaSnapshot||[],V=C.responses||{},W=Bn(R.assignedTo),pe=C.updatedAt?qf(C.updatedAt):"";for(const ue of H){ue!=null&&ue.title&&B.push(Bn(ue.title));for(const J of(ue==null?void 0:ue.fields)||[]){const le=V[J.id];let me="-";if(le!=null&&le!=="")if(J.type==="yesno_na"||J.type==="inspection")me=String(le);else if(J.type==="meter")me=`${le}${J.unit?` ${J.unit}`:""}`;else if(J.type==="date")me=qf(String(le));else if(J.type==="signature"){const ee=typeof le=="string"?le:Bn((le==null?void 0:le.name)||(le==null?void 0:le.signedBy));me=ee?`Signed by ${ee}${pe?` on ${pe}`:""}`:"Signed"}else J.type==="photo"||J.type==="file"?me=`${qp(le,J).length} attachment(s)`:me=String(le);B.push(`${Bn(J.label||"Field")}: ${me}`),W&&pe&&le!==void 0&&le!==null&&le!==""&&B.push(`Filled by ${W} on ${pe}`)}}B.push("")}const Y=R.sections;if(Array.isArray(Y)&&Y.length){B.push("Legacy Form Data");for(const C of Y){C!=null&&C.title&&B.push(Bn(C.title));for(const T of(C==null?void 0:C.fields)||[]){const H=T==null?void 0:T.value;B.push(`${Bn(T.label||"Field")}: ${H==null||H===""?"-":String(H)}`)}}}return B.join(`
`).trim()},L=async(R,U=[],B=3)=>{const Y=U.filter(Ad),C=U.filter(le=>!Ad(le));if(Y.length===0&&C.length===0)return;N(18),r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(0),r.text(R,i,m),m+=10;const T=3,H=6,W=(n-i*2-(T-1)*H)/T;let pe=0,ue=0;const J=Math.min(Y.length,B);for(let le=0;le<J;le++){const me=hD(Y[le]);if(!me)continue;const ee=await pD(me),z=ee&&ee.w?ee.h/ee.w:.75,re=W,ie=Math.max(W*z,72);pe===0&&N(ie+18);const fe=i+pe*(W+H),Z=Y[le].type||"";let de="JPEG";Z.includes("png")||me.startsWith("data:image/png")?de="PNG":(Z.includes("webp")||me.startsWith("data:image/webp"))&&(de="WEBP");try{r.addImage(me,de,fe,m,re,ie)}catch{r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(80),r.text(`${Y[le].name||"image"} (not embedded)`,fe,m+10),r.setTextColor(0)}ue=Math.max(ue,ie),pe++,t.onProgress&&t.onProgress(`Embedding photos (${le+1}/${J})`),await new Promise(requestAnimationFrame),pe>=T&&(pe=0,m+=ue+10,ue=0)}if(pe>0&&(m+=ue+10),Y.length>J&&(r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(80),r.text(`+${Y.length-J} more images not embedded`,i,m),r.setTextColor(0),m+=12),C.length>0){const le=C.slice(0,3).map(me=>me.name||"file").join(", ");r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(80),r.text(`${C.length} non-image file(s): ${le}${C.length>3?"":""}`,i,m),r.setTextColor(0),m+=12}},E=e.filter(R=>{const U=qg(R.createdAt),B=qg(R.completedAt),Y=qg(R.dueDate);let C=!1;return t.includeStatus.planned&&U&&U>=t.dateRange.start&&U<=t.dateRange.end&&(C=!0),t.includeStatus.due&&Y&&Y>=t.dateRange.start&&Y<=t.dateRange.end&&(C=!0),t.includeStatus.completed&&R.status==="Done"&&B&&B>=t.dateRange.start&&B<=t.dateRange.end&&(C=!0),C}).sort((R,U)=>new Date(U.createdAt).getTime()-new Date(R.createdAt).getTime());if(b(),E.length===0){r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(0),r.text("No work orders found for the selected criteria.",i,m);const R=r.getNumberOfPages();for(let U=1;U<=R;U++)r.setPage(U),p(U,R);return r}const I=(R,U)=>{r.setFont("helvetica","normal"),r.setFontSize(9);const Y=r.splitTextToSize(R,n-i*2);for(const C of Y)N(12),r.text(C,i,m),m+=12},M=R=>{const B=`#${Bn(R.workOrderNumber??R.id??"-")}  ${Bn(R.title||"-")}`;N(18),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(0),r.text(B,i,m),m+=14,r.setFont("helvetica","normal"),r.setFontSize(9);const Y=[];R.asset&&Y.push(`Asset: ${Bn(R.asset)}`),R.location&&Y.push(`Location: ${Bn(R.location)}`),R.assignedTo&&Y.push(`Assigned To: ${Bn(R.assignedTo)}`),R.dueDate&&Y.push(`Due: ${qf(R.dueDate)}`),R.status&&Y.push(`Status: ${Bn(R.status)}`),R.priority&&Y.push(`Priority: ${Bn(R.priority)}`),Y.push(`Total Time: ${fD(R.totalTimeHours)}`),Y.push(`Cost: ${R.totalCost!=null?`$${Number(R.totalCost).toFixed(2)}`:"-"}`),I(Y.join("    "));const C=k(R);if(C&&(N(12),r.setFont("helvetica","bold"),r.setFontSize(9),r.text("Procedure Answers",i,m),m+=12,r.setFont("helvetica","normal"),r.setFontSize(9),I(C),m+=12),t.additionalOptions.maintenancePlan&&R.isRepeating&&R.schedule){N(12);const T=R.schedule,H=`Maintenance Plan
Frequency: ${Bn(T.frequency||T.rrule||"-")}
Start: ${qf(T.startDate)}${T.endDate?`
End: ${qf(T.endDate)}`:""}`;I(H),m+=12}};for(const[R,U]of E.entries()){t.additionalOptions.onePerPage&&R>0&&w(),M(U);const B=U.procedureInstances||[];for(const T of B){const H=T.procedureSchemaSnapshot||[],V=T.responses||{};for(const W of H)for(const pe of(W==null?void 0:W.fields)||[]){const ue=V[pe.id],J=qp(ue,pe);if(pe.type==="signature"){const le=ue&&typeof ue=="object"?ue:null,ee=(le?qp(le,pe):J).filter(Ad);ee.length&&await L(`${Bn(pe.label||"Signature")}`,ee,1);continue}(pe.type==="photo"||pe.type==="file")&&J.some(Ad)&&await L(`${Bn(pe.label||"Photos")}`,J,3)}}const Y=U.sections||[];for(const T of Y)for(const H of(T==null?void 0:T.fields)||[]){const V=qp(H.value,H);(H.type==="photo"||H.type==="file")&&V.some(Ad)&&await L(`${Bn(H.label||"Photos")}`,V,3)}const C=Array.isArray(U.attachments)?U.attachments:[];C.length&&C.some(Ad)&&await L("Work Order Photos",C,6),N(36),r.setDrawColor(220),r.setLineWidth(1.2),r.line(i,m,n-i,m),m+=24}const F=r.getNumberOfPages();for(let R=1;R<=F;R++)r.setPage(R),p(R,F);return r},FN=(e,t)=>{e.save(t)},mD=({pdfUrl:e,onClose:t,onDownload:r,filename:n})=>s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 lg:p-8",children:s.jsxs("div",{className:"bg-white w-full max-w-5xl h-full flex flex-col rounded-xl shadow-2xl overflow-hidden border border-[var(--border)]",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-[var(--border)] flex items-center justify-between bg-white shrink-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"PDF Report Preview"}),s.jsx("p",{className:"text-sm text-gray-500 truncate max-w-[300px] lg:max-w-md",children:n})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-accent text-white rounded-lg text-sm font-bold hover:bg-accent-hover transition-colors shadow-sm",children:[s.jsx(WO,{size:18}),"Download PDF"]}),s.jsxs("button",{onClick:()=>{var i;const a=document.getElementById("pdf-preview-iframe");(i=a==null?void 0:a.contentWindow)==null||i.print()},className:"flex items-center gap-2 px-4 py-2 border border-[var(--border)] text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-50 transition-colors",children:[s.jsx(QO,{size:18}),"Print"]}),s.jsx("div",{className:"w-px h-8 bg-zinc-200 mx-2"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-all",children:s.jsx(bm,{size:24})})]})]}),s.jsx("div",{className:"flex-1 bg-zinc-100 relative overflow-hidden",children:s.jsx("iframe",{id:"pdf-preview-iframe",src:`${e}#toolbar=0`,className:"w-full h-full border-none",title:"PDF Preview"})}),s.jsx("div",{className:"px-6 py-4 border-t border-[var(--border)] bg-gray-50 flex justify-end shrink-0",children:s.jsx("button",{onClick:t,className:"px-6 py-2 border border-[var(--border)] text-gray-700 rounded-lg text-sm font-bold hover:bg-white transition-colors",children:"Close Preview"})})]})}),vD=()=>{const{workOrders:e}=Gs(),[t,r]=P.useState("PDF"),[n,a]=P.useState({start:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[i,l]=P.useState({planned:!1,due:!1,completed:!0}),[c,d]=P.useState("Full"),[f,h]=P.useState({maintenancePlan:!0,onePerPage:!1}),[m,g]=P.useState(!1),[p,b]=P.useState({id:!0,title:!0,status:!0,priority:!0,dueDate:!0,assignedTo:!0,asset:!0,location:!0,categories:!1,createdAt:!0,completedAt:!0}),[w,N]=P.useState(!1),[k,L]=P.useState(null),[E,I]=P.useState(null),[M,F]=P.useState(""),R=()=>({dateRange:n,includeStatus:i,procedureFormat:c,additionalOptions:f,selectedColumns:p,onProgress:V=>F(V)}),U=()=>`work-orders-${i.completed?"completed":"work-orders"}_${n.start}_to_${n.end}`,B=async()=>{try{N(!0),I(null),F("");const V=R(),W=await RN(e,V),pe=W.output("bloburl");L({url:pe,doc:W})}catch(V){console.error(V),I("Failed to generate PDF preview.")}finally{N(!1)}},Y=async()=>{if(t==="PDF")try{N(!0),I(null),F("");const V=R(),W=await RN(e,V);FN(W,`${U()}.pdf`)}catch(V){console.error(V),I("Failed to export PDF.")}finally{N(!1)}else C()},C=()=>{const V=R(),W=Object.entries(p).filter(([me,ee])=>ee).map(([me])=>me),pe=e.filter(me=>{var ie;const ee=me.createdAt.split("T")[0],z=(ie=me.completedAt)==null?void 0:ie.split("T")[0],re=me.dueDate.split("T")[0];return!!(V.includeStatus.planned&&ee>=V.dateRange.start&&ee<=V.dateRange.end||V.includeStatus.due&&re>=V.dateRange.start&&re<=V.dateRange.end||V.includeStatus.completed&&me.status==="Done"&&z&&z>=V.dateRange.start&&z<=V.dateRange.end)}),ue=[W.join(","),...pe.map(me=>W.map(ee=>{let z=me[ee];return ee==="categories"&&(z=(me.categories||[]).join("; ")),(ee==="dueDate"||ee==="createdAt"||ee==="completedAt")&&(z=z?new Date(z).toLocaleDateString():""),`"${String(z||"").replace(/"/g,'""')}"`}).join(","))].join(`
`),J=new Blob([ue],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a");le.href=URL.createObjectURL(J),le.setAttribute("download",`${U()}.csv`),document.body.appendChild(le),le.click(),document.body.removeChild(le)},T=V=>{b(W=>({...W,[V]:!W[V]}))},H=e.filter(V=>{var J;const W=V.createdAt.split("T")[0],pe=(J=V.completedAt)==null?void 0:J.split("T")[0],ue=V.dueDate.split("T")[0];return!!(i.planned&&W>=n.start&&W<=n.end||i.due&&ue>=n.start&&ue<=n.end||i.completed&&V.status==="Done"&&pe&&pe>=n.start&&pe<=n.end)}).length;return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-12",children:[H>50&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Sb,{className:"text-amber-600 shrink-0",size:20}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-amber-800",children:["Large export: ",H," work orders selected"]}),s.jsx("p",{className:"text-xs text-amber-700",children:"Exporting many items may take a moment to generate."})]})]}),E&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Sb,{className:"text-red-600 shrink-0",size:20}),s.jsx("p",{className:"text-sm font-medium text-red-800",children:E})]}),s.jsxs("div",{className:"bg-white border border-[var(--border)] rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-[var(--border)] bg-gray-50 flex items-center gap-3",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded",children:s.jsx(KO,{className:"text-blue-600",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Export Work Order List"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Generate a detailed report of your work orders."})]})]}),s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"From"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"date",value:n.start,onChange:V=>a(W=>({...W,start:V.target.value})),className:"w-full border border-[var(--border)] rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"To"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"date",value:n.end,onChange:V=>a(W=>({...W,end:V.target.value})),className:"w-full border border-[var(--border)] rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Export Format"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>r("CSV"),className:`flex-1 flex items-center justify-center gap-2 p-3 border rounded-lg transition-all ${t==="CSV"?"border-blue-500 bg-blue-50 text-blue-700":"border-[var(--border)] hover:bg-gray-50"}`,children:[s.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${t==="CSV"?"border-blue-500 bg-blue-500":"border-[var(--border)]"}`,children:t==="CSV"&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"font-medium",children:"CSV (Excel)"})]}),s.jsxs("button",{onClick:()=>r("PDF"),className:`flex-1 flex items-center justify-center gap-2 p-3 border rounded-lg transition-all ${t==="PDF"?"border-blue-500 bg-blue-50 text-blue-700":"border-[var(--border)] hover:bg-gray-50"}`,children:[s.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${t==="PDF"?"border-blue-500 bg-blue-500":"border-[var(--border)]"}`,children:t==="PDF"&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"font-medium",children:"PDF Document"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Work Orders to include in this date range"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-3 p-3 border border-[var(--border)] rounded hover:bg-gray-50 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:i.planned,onChange:V=>l(W=>({...W,planned:V.target.checked})),className:"w-4 h-4 text-blue-600 rounded border-[var(--border)]"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Planned / Created"})]}),s.jsxs("label",{className:"flex items-center gap-3 p-3 border border-[var(--border)] rounded hover:bg-gray-50 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:i.due,onChange:V=>l(W=>({...W,due:V.target.checked})),className:"w-4 h-4 text-blue-600 rounded border-[var(--border)]"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Due"})]}),s.jsxs("label",{className:"flex items-center gap-3 p-3 border border-[var(--border)] rounded hover:bg-gray-50 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:i.completed,onChange:V=>l(W=>({...W,completed:V.target.checked})),className:"w-4 h-4 text-blue-600 rounded border-[var(--border)]"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Procedure Format"}),s.jsxs("select",{value:c,onChange:V=>d(V.target.value),className:"w-full border border-[var(--border)] rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[s.jsx("option",{value:"Summary",children:"Summary"}),s.jsx("option",{value:"Full",children:"Full"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Additional Options"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.maintenancePlan,onChange:V=>h(W=>({...W,maintenancePlan:V.target.checked})),className:"w-4 h-4 text-blue-600 rounded border-[var(--border)]"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Include Maintenance Plan"})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.onePerPage,onChange:V=>h(W=>({...W,onePerPage:V.target.checked})),className:"w-4 h-4 text-blue-600 rounded border-[var(--border)]"}),s.jsx("span",{className:"text-sm text-gray-700",children:"1 Work Order per page"})]})]})]}),s.jsxs("div",{className:"border border-[var(--border)] rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>g(!m),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsx("span",{className:"font-medium text-sm",children:"Columns to Include"}),m?s.jsx(X1,{size:20}):s.jsx(UO,{size:20})]}),m&&s.jsx("div",{className:"p-4 grid grid-cols-2 md:grid-cols-3 gap-3 bg-white border-t border-[var(--border)]",children:Object.entries(p).map(([V,W])=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${W?"bg-blue-500 border-blue-500":"border-[var(--border)] group-hover:border-blue-400"}`,children:W&&s.jsx(OS,{size:12,className:"text-white"})}),s.jsx("input",{type:"checkbox",className:"hidden",checked:W,onChange:()=>T(V)}),s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:V.replace(/([A-Z])/g," $1")})]},V))})]})]}),s.jsxs("div",{className:"p-6 border-t border-[var(--border)] bg-gray-50 flex justify-end gap-3",children:[s.jsx("button",{type:"button",className:"px-6 py-2 border border-[var(--border)] rounded-lg text-sm font-medium hover:bg-gray-100",onClick:()=>alert("Scheduling exports coming soon!"),children:"Schedule"}),w&&M&&s.jsx("div",{className:"text-xs text-gray-500 mr-2 truncate max-w-[40%]",title:M,children:M}),s.jsx("div",{className:"flex-1"}),s.jsxs("button",{onClick:B,disabled:w||t==="CSV",className:"flex items-center gap-2 px-6 py-2 border border-[var(--border)] rounded-lg text-sm font-medium hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[w&&t==="PDF"&&s.jsx(Jw,{size:16,className:"animate-spin"}),"Preview"]}),s.jsxs("button",{onClick:Y,disabled:w||H===0,className:"flex items-center gap-2 px-6 py-2 bg-accent text-white rounded-lg text-sm font-medium hover:bg-accent-hover shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[w&&s.jsx(Jw,{size:16,className:"animate-spin"}),"Export"]})]})]}),k&&s.jsx(mD,{pdfUrl:k.url,filename:`${U()}.pdf`,onClose:()=>{URL.revokeObjectURL(k.url),L(null)},onDownload:()=>{FN(k.doc,`${U()}.pdf`)}})]})},gD=()=>{const{workOrders:e}=Gs(),[t,r]=P.useState("work-orders"),[n,a]=P.useState({start:new Date(new Date().setMonth(new Date().getMonth()-1)),end:new Date}),i=P.useMemo(()=>e.filter(c=>{const d=new Date(c.createdAt),f=c.completedAt?new Date(c.completedAt):null,h=m=>m>=n.start&&m<=n.end;return h(d)||f&&h(f)}),[e,n]),l=P.useMemo(()=>{const c=i.filter(W=>{const pe=new Date(W.createdAt);return pe>=n.start&&pe<=n.end}).length,d=i.filter(W=>{if(!W.completedAt)return!1;const pe=new Date(W.completedAt);return pe>=n.start&&pe<=n.end}).length,f=c>0?d/c*100:0,h={Preventive:i.filter(W=>W.workType==="Preventive").length,Reactive:i.filter(W=>W.workType==="Corrective").length,Inspection:i.filter(W=>W.workType==="Inspection").length,Other:i.filter(W=>W.workType==="Other").length},m=h.Preventive+h.Reactive+h.Inspection+h.Other,g=m>0?h.Preventive/m*100:0,p=i.filter(W=>W.isRepeating).length,b=i.length-p,w=i.length>0?p/i.length*100:0,N={Open:i.filter(W=>W.status==="Open").length,OnHold:i.filter(W=>W.status==="On Hold").length,InProgress:i.filter(W=>W.status==="In Progress").length,Done:i.filter(W=>W.status==="Done").length,SkippedCanceled:0},k={None:i.filter(W=>!W.priority).length,Low:i.filter(W=>W.priority==="Low").length,Medium:i.filter(W=>W.priority==="Medium").length,High:i.filter(W=>W.priority==="High").length},L=i.reduce((W,pe)=>W+(pe.totalTimeHours||0),0),E=i.reduce((W,pe)=>W+(pe.totalCost||0),0),I=i.filter(W=>W.status==="Done"&&W.completedAt),M=I.reduce((W,pe)=>{const ue=new Date(pe.createdAt).getTime(),J=new Date(pe.completedAt).getTime();return W+(J-ue)/(1e3*60*60)},0),F=I.length>0?M/I.length:0,R=I.filter(W=>!W.isRepeating),U=R.length>0?R.reduce((W,pe)=>{const ue=new Date(pe.createdAt).getTime(),J=new Date(pe.completedAt).getTime();return W+(J-ue)/(1e3*60*60)},0)/R.length:0,B=new Date,Y=i.filter(W=>W.status!=="Done"&&new Date(W.dueDate)<B).length,C=i.length-Y,T=i.reduce((W,pe)=>{if(pe.workType==="Inspection"){pe.sections.some(le=>le.fields.some(me=>me.type==="checkbox"&&me.value===!1));const ue=pe.sections.flatMap(le=>le.fields).filter(le=>le.label.toLowerCase().includes("pass")).length,J=pe.sections.flatMap(le=>le.fields).filter(le=>le.label.toLowerCase().includes("fail")).length;W.pass+=ue,W.fail+=J}return W},{pass:0,fail:0,flag:0}),H=i.reduce((W,pe)=>(W[pe.asset]=(W[pe.asset]||0)+1,W),{}),V=i.reduce((W,pe)=>(W[pe.assignedTo]=(W[pe.assignedTo]||0)+1,W),{});return{created:c,completed:d,completionRate:f,byType:h,preventiveRatio:g,repeating:p,nonRepeating:b,repeatingRatio:w,statusDist:N,priorityDist:k,totalTime:L,totalCost:E,totalHoursToComplete:M,avgHoursToComplete:F,mttr:U,overdue:Y,onTime:C,inspectionStats:T,byAsset:H,byUser:V}},[i,n]);return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4 mb-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:[s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Reporting"}),s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("button",{type:"button",className:"items-start bg-transparent caret-transparent gap-x-1 flex shrink-0 justify-between gap-y-1 text-center p-2 rounded-bl rounded-br rounded-tl rounded-tr",children:s.jsxs("span",{className:"box-border caret-transparent flex text-nowrap",children:[n.start.toLocaleDateString()," - ",n.end.toLocaleDateString()]})})}),s.jsx("button",{type:"button",className:"text-blue-500 font-medium items-center bg-transparent caret-transparent flex shrink-0 justify-center text-center px-2 py-1 rounded-bl rounded-br rounded-tl rounded-tr hover:bg-gray-100",onClick:()=>{const c=window.prompt("Enter Start Date (YYYY-MM-DD):",n.start.toISOString().split("T")[0]),d=window.prompt("Enter End Date (YYYY-MM-DD):",n.end.toISOString().split("T")[0]);c&&d&&a({start:new Date(c),end:new Date(d)})},children:"Date Presets"})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:[s.jsxs("div",{className:"text-sm text-gray-500 mr-4",children:["Total Time: ",l.totalTime.toFixed(1),"h | Total Cost: $",l.totalCost.toFixed(2)]}),s.jsx("button",{type:"button",className:"relative text-accent font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-3 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:bg-accent hover:text-white transition-colors",children:"Export"}),s.jsx("button",{type:"button",className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:bg-accent-hover hover:border-accent-hover",children:"Build report"})]})]})}),s.jsxs("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] box-border caret-transparent flex shrink-0 flex-wrap px-4",children:[s.jsx("button",{type:"button",onClick:()=>r("work-orders"),className:`${t==="work-orders"?"text-accent border-b-accent":"text-[var(--muted)] border-b-transparent"} bg-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all font-medium`,children:"Work Orders"}),s.jsx("button",{type:"button",onClick:()=>r("asset-health"),className:`${t==="asset-health"?"text-accent border-b-accent":"text-[var(--muted)] border-b-transparent"} bg-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all font-medium`,children:"Asset Health"}),s.jsx("button",{type:"button",onClick:()=>r("details"),className:`${t==="details"?"text-accent border-b-accent":"text-[var(--muted)] border-b-transparent"} bg-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all font-medium`,children:"Reporting Details"}),s.jsx("button",{type:"button",onClick:()=>r("activity"),className:`${t==="activity"?"text-accent border-b-accent":"text-[var(--muted)] border-b-transparent"} bg-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all font-medium`,children:"Recent Activity"}),s.jsx("button",{type:"button",onClick:()=>r("export"),className:`${t==="export"?"text-accent border-b-accent":"text-[var(--muted)] border-b-transparent"} bg-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all font-medium`,children:"Export Data"}),s.jsx("button",{type:"button",onClick:()=>r("dashboards"),className:`${t==="dashboards"?"text-accent border-b-accent":"text-[var(--muted)] border-b-transparent"} bg-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all font-medium`,children:"Custom Dashboards"})]}),t==="work-orders"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 px-4 py-3",children:s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0",children:[s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] grow gap-x-2",children:[s.jsx("button",{type:"button",className:"items-center bg-transparent caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:"Assigned To"}),s.jsx("button",{type:"button",className:"items-center bg-transparent caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:"Due Date"}),s.jsx("button",{type:"button",className:"items-center bg-transparent caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:"Location"}),s.jsx("button",{type:"button",className:"items-center bg-transparent caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:"Priority"}),s.jsx("button",{type:"button",className:"items-center bg-transparent caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:"Add Filter"})]}),s.jsx("button",{type:"button",className:"items-center bg-transparent caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300 ml-2",children:"My Filters"})]})}),s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-auto px-4 pb-8",children:s.jsxs("div",{className:"box-border caret-transparent w-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-[20.0004px] font-semibold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[28.0006px]",children:"Work Orders"}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[s.jsxs("div",{children:["Overdue: ",s.jsx("span",{className:"text-red-500 font-bold",children:l.overdue})]}),s.jsxs("div",{children:["On-Time: ",s.jsx("span",{className:"text-green-500 font-bold",children:l.onTime})]}),s.jsxs("div",{children:["MTTR: ",s.jsxs("span",{className:"font-bold",children:[l.mttr.toFixed(1),"h"]})]})]})]}),s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{type:"button",className:"text-[var(--accent)] font-medium text-lg hover:text-[var(--accent-2)] transition-colors",children:"Created vs. Completed"}),s.jsx("button",{type:"button",className:"text-[var(--accent)] font-medium text-sm hover:text-[var(--accent-2)] transition-colors",children:"Add to Dashboard"})]}),s.jsxs("div",{className:"flex items-start gap-8 mb-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-5xl font-bold mb-2 text-[var(--text)]",children:l.created}),s.jsx("div",{className:"text-[var(--accent)] border border-[var(--accent)] px-3 py-1 rounded text-sm",children:"Created"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-5xl font-bold mb-2 text-[var(--status-active)]",children:l.completed}),s.jsx("div",{className:"text-[var(--status-active)] border border-[var(--status-active)] px-3 py-1 rounded text-sm",children:"Completed"})]})]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("div",{className:"text-5xl font-bold text-[var(--text)]",children:[l.completionRate.toFixed(1),s.jsx("span",{className:"text-2xl",children:"%"})]}),s.jsx("div",{className:"text-[var(--muted)] mt-2",children:"Percent Completed"}),s.jsx("div",{className:"text-[var(--muted)] text-xs mt-1",children:l.completed>l.created?"*More Work Orders were completed than created during this time period":""})]})]}),s.jsxs("div",{className:"h-64 bg-[var(--panel-2)] border border-[var(--border)] rounded flex flex-col items-center justify-center text-[var(--muted)]",children:[s.jsx("div",{className:"text-sm mb-2",children:"Completion Trend (Sample Data)"}),s.jsx("div",{className:"flex items-end gap-2 h-32",children:[40,60,45,80,55,90,70].map((c,d)=>s.jsx("div",{className:"w-8 bg-blue-200",style:{height:`${c}%`}},d))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{type:"button",className:"text-blue-500 font-medium text-lg hover:text-blue-400",children:"Work Orders by Type"}),s.jsx("button",{type:"button",className:"text-blue-500 font-medium text-sm hover:text-blue-400",children:"Add to Dashboard"})]}),s.jsxs("div",{className:"flex items-start gap-8 mb-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:l.byType.Preventive}),s.jsx("div",{className:"text-teal-500 border border-teal-500 px-2 py-1 rounded text-xs",children:"Preventive"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:l.byType.Reactive}),s.jsx("div",{className:"text-blue-500 border border-blue-500 px-2 py-1 rounded text-xs",children:"Reactive"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-400",children:l.byType.Inspection}),s.jsx("div",{className:"text-gray-400 border border-[var(--border)] px-2 py-1 rounded text-xs",children:"Inspection"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-400",children:l.byType.Other}),s.jsx("div",{className:"text-gray-400 border border-[var(--border)] px-2 py-1 rounded text-xs",children:"Other"})]})]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("div",{className:"text-4xl font-bold",children:[l.preventiveRatio.toFixed(1),s.jsx("span",{className:"text-xl",children:"%"})]}),s.jsx("div",{className:"text-gray-600 mt-2 text-sm",children:"Total Preventive Ratio"})]})]}),s.jsx("div",{className:"h-48 bg-gray-50 rounded flex items-center justify-center text-gray-400",children:s.jsxs("div",{className:"flex gap-1 items-end h-32",children:[s.jsx("div",{className:"w-12 bg-teal-400",style:{height:`${l.preventiveRatio}%`}}),s.jsx("div",{className:"w-12 bg-blue-400",style:{height:`${100-l.preventiveRatio}%`}})]})})]}),s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{type:"button",className:"text-blue-500 font-medium text-lg hover:text-blue-400",children:"Non-Repeating vs. Repeating"}),s.jsx("button",{type:"button",className:"text-blue-500 font-medium text-sm hover:text-blue-400",children:"Add to Dashboard"})]}),s.jsxs("div",{className:"flex items-start gap-8 mb-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:l.nonRepeating}),s.jsx("div",{className:"text-gray-400 border border-[var(--border)] px-2 py-1 rounded text-xs",children:"Non-Repeating"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:l.repeating}),s.jsx("div",{className:"text-gray-400 border border-[var(--border)] px-2 py-1 rounded text-xs",children:"Repeating"})]})]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("div",{className:"text-4xl font-bold",children:[l.repeatingRatio.toFixed(1),s.jsx("span",{className:"text-xl",children:"%"})]}),s.jsx("div",{className:"text-gray-600 mt-2 text-sm",children:"Repeating Ratio"})]})]}),s.jsx("div",{className:"h-48 bg-gray-50 rounded flex items-center justify-center text-gray-400",children:i.length>0?s.jsxs("div",{className:"flex gap-1 items-end h-32",children:[s.jsx("div",{className:"w-12 bg-gray-300",style:{height:`${100-l.repeatingRatio}%`}}),s.jsx("div",{className:"w-12 bg-blue-300",style:{height:`${l.repeatingRatio}%`}})]}):"No data"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-medium text-lg",children:"Status"}),s.jsx("button",{type:"button",className:"text-blue-500 font-medium text-sm hover:text-blue-400",children:"Add to Dashboard"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[s.jsxs("div",{className:"text-gray-600 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["Open: ",l.statusDist.Open]}),s.jsxs("div",{className:"text-gray-600 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["On Hold: ",l.statusDist.OnHold]}),s.jsxs("div",{className:"text-gray-600 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["In Progress: ",l.statusDist.InProgress]}),s.jsxs("div",{className:"text-gray-600 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["Done: ",l.statusDist.Done]}),s.jsxs("div",{className:"text-gray-400 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["Skipped/Canceled: ",l.statusDist.SkippedCanceled]})]}),s.jsx("div",{className:"h-48 bg-gray-50 rounded flex items-center justify-center text-gray-400",children:i.length>0?"Status distribution chart":"No data"})]}),s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-medium text-lg",children:"Priority"}),s.jsx("button",{type:"button",className:"text-blue-500 font-medium text-sm hover:text-blue-400",children:"Add to Dashboard"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[s.jsxs("div",{className:"text-gray-600 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["None: ",l.priorityDist.None]}),s.jsxs("div",{className:"text-gray-600 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["Low: ",l.priorityDist.Low]}),s.jsxs("div",{className:"text-gray-600 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["Medium: ",l.priorityDist.Medium]}),s.jsxs("div",{className:"text-gray-600 border border-[var(--border)] px-2 py-1 rounded text-xs",children:["High: ",l.priorityDist.High]})]}),s.jsx("div",{className:"h-48 bg-gray-50 rounded flex items-center justify-center text-gray-400",children:i.length>0?"Priority distribution chart":"No data"})]})]}),s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6 mb-8",children:[s.jsx("h4",{className:"font-medium text-lg mb-4",children:"Repeating Work Orders"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"pb-2 font-semibold",children:"ID"}),s.jsx("th",{className:"pb-2 font-semibold",children:"Title"}),s.jsx("th",{className:"pb-2 font-semibold",children:"Status"}),s.jsx("th",{className:"pb-2 font-semibold",children:"Priority"}),s.jsx("th",{className:"pb-2 font-semibold",children:"Due Date"})]})}),s.jsx("tbody",{children:i.filter(c=>c.isRepeating).length>0?i.filter(c=>c.isRepeating).map(c=>s.jsxs("tr",{className:"border-b last:border-0",children:[s.jsx("td",{className:"py-2",children:c.workOrderNumber}),s.jsx("td",{className:"py-2",children:c.title}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${c.status==="Done"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:c.status})}),s.jsx("td",{className:"py-2",children:c.priority}),s.jsx("td",{className:"py-2",children:new Date(c.dueDate).toLocaleDateString()})]},c.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"py-4 text-center text-gray-400",children:"No repeating work orders in this period"})})})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6",children:[s.jsx("h4",{className:"font-medium text-lg mb-4",children:"By Asset"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(l.byAsset).length>0?Object.entries(l.byAsset).map(([c,d])=>s.jsxs("div",{className:"flex justify-between items-center text-sm p-2 border-b last:border-0",children:[s.jsx("span",{className:"truncate",children:c}),s.jsx("span",{className:"font-bold bg-gray-100 px-2 rounded",children:d})]},c)):s.jsx("div",{className:"text-gray-400 text-center py-4 italic",children:"No data"})})]}),s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6",children:[s.jsx("h4",{className:"font-medium text-lg mb-4",children:"By User"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(l.byUser).length>0?Object.entries(l.byUser).map(([c,d])=>s.jsxs("div",{className:"flex justify-between items-center text-sm p-2 border-b last:border-0",children:[s.jsx("span",{className:"truncate",children:c}),s.jsx("span",{className:"font-bold bg-gray-100 px-2 rounded",children:d})]},c)):s.jsx("div",{className:"text-gray-400 text-center py-4 italic",children:"No data"})})]})]}),s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid p-6 mb-8",children:[s.jsx("h4",{className:"font-medium text-lg mb-4",children:"Inspections Summary"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded bg-green-50",children:[s.jsx("div",{className:"text-2xl font-bold text-green-700",children:l.inspectionStats.pass}),s.jsx("div",{className:"text-xs text-green-600 uppercase font-semibold",children:"Passes"})]}),s.jsxs("div",{className:"text-center p-4 border rounded bg-red-50",children:[s.jsx("div",{className:"text-2xl font-bold text-red-700",children:l.inspectionStats.fail}),s.jsx("div",{className:"text-xs text-red-600 uppercase font-semibold",children:"Failures"})]}),s.jsxs("div",{className:"text-center p-4 border rounded bg-yellow-50",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:l.inspectionStats.flag}),s.jsx("div",{className:"text-xs text-yellow-600 uppercase font-semibold",children:"Flags"})]})]})]}),s.jsxs("div",{className:"bg-sky-50 border border-blue-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-lg font-semibold mb-2",children:"Looking for something else?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"We would love to hear from you, share all your needs and suggestions for Reporting Dashboard."}),s.jsx("button",{type:"button",className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 inline-flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:bg-accent-hover hover:border-accent-hover transition-colors",children:"Send Suggestions"})]})]})})]}),t==="export"&&s.jsx("div",{className:"flex-1 overflow-auto p-4",children:s.jsx(vD,{})}),t!=="work-orders"&&t!=="export"&&s.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400 italic",children:"Coming Soon..."})]})},xD=({assets:e,selectedAssetId:t,onSelectAsset:r})=>s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent flex flex-col shrink-0 max-w-[500px] min-w-[300px] w-2/5 mr-4 rounded-tl rounded-tr border-solid",children:[s.jsx("div",{className:"relative items-center bg-[var(--panel-2)] border-b-[var(--border)] border-l-transparent border-r-transparent border-t-transparent box-border caret-transparent flex shrink-0 h-12 justify-between z-[1] border-b",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow p-3",children:s.jsx("div",{className:"relative text-[12.6px] box-border caret-transparent flex basis-[0%] grow leading-[15.12px] opacity-[0.85]",children:s.jsx("div",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsxs("button",{type:"button",className:"text-[var(--text)] text-sm items-center bg-transparent caret-transparent flex shrink-0 leading-[16.8px] max-w-full text-center font-medium",children:["Sort By:",s.jsx("div",{className:"text-[var(--accent)] items-center box-border caret-transparent flex basis-[0%] grow stroke-[var(--accent)] font-medium",children:s.jsxs("span",{className:"box-border caret-transparent block basis-[0%] grow text-ellipsis text-nowrap overflow-hidden ml-1",children:[s.jsx("span",{className:"font-medium box-border caret-transparent shrink-0 text-nowrap",children:"Name"}),": Ascending Order"]})})]})})})})}),s.jsx("div",{className:"relative box-border caret-transparent basis-[0%] grow overflow-x-hidden overflow-y-auto pb-8 rounded-bl rounded-br",children:e.length===0?s.jsx("div",{className:"text-center text-[var(--muted)] py-8 px-4",children:s.jsx("p",{className:"text-sm",children:"No assets found"})}):s.jsx("div",{children:e.map(n=>s.jsxs("div",{onClick:()=>r(n.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[98px] cursor-pointer hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] px-4 py-3 transition-colors border-l-2 ${t===n.id?"bg-[var(--panel-2)] border-l-[var(--accent)]":"border-l-transparent"} group`,children:[s.jsx(Oo,{imageUrl:n.imageUrl,alt:n.name,fallbackIcon:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] transition-opacity ${t===n.id?"opacity-100":"group-hover:opacity-100"}`}),className:"h-12 w-12 mr-3"}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 my-px",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:n.name,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:n.name})})}),s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-1",children:s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent basis-[0%] grow text-ellipsis text-nowrap w-full overflow-hidden opacity-80",children:"At Slovakia"})}),s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-px",children:s.jsx("div",{className:"relative box-border caret-transparent shrink-0",children:s.jsxs("div",{className:"text-[11px] items-center box-border caret-transparent gap-x-1 flex shrink-0 leading-[15.12px] border border-[var(--border)] px-2 py-1 rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsx("div",{className:"bg-teal-500 box-border caret-transparent shrink-0 h-1.5 w-1.5 rounded-[50%]"})}),s.jsx("span",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden ml-1 opacity-90",children:n.status})]})})})]})]},n.id))})})]}),bD=e=>typeof e.type=="string"&&e.type.startsWith("image/"),K6=({attachments:e,onChange:t,disabled:r})=>{const n=async i=>{if(!i.target.files||i.target.files.length===0)return;const l=[];for(let c=0;c<i.target.files.length;c++){const d=await qS.uploadFile(i.target.files[c]);l.push(d)}t([...e||[],...l])},a=i=>t((e||[]).filter(l=>l.id!==i));return s.jsx("div",{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e||[]).map(i=>s.jsxs("div",{className:"relative group",children:[bD(i)?s.jsx("img",{src:i.url,alt:i.name,className:"w-20 h-20 object-cover rounded border border-[var(--border)]"}):s.jsxs("div",{className:"w-40 border border-[var(--border)] rounded px-2 py-1 text-xs flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"truncate",title:i.name,children:i.name})]}),!r&&s.jsx("button",{onClick:()=>a(i.id),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",title:"Remove",children:""})]},i.id)),!r&&s.jsxs("label",{className:"w-20 h-20 flex flex-col items-center justify-center border-2 border-dashed border-[var(--border)] rounded hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-colors text-gray-400 hover:text-blue-500",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-[10px] mt-1",children:"Add"}),s.jsx("input",{type:"file",multiple:!0,onChange:n,className:"hidden"})]})]})})},s2=({currentImageUrl:e,onImageUploaded:t,onImageRemoved:r,label:n="Entity Image"})=>{const a=P.useRef(null),[i,l]=P.useState(e),c=f=>{var m;const h=(m=f.target.files)==null?void 0:m[0];if(h){const g=new FileReader;g.onloadend=()=>{const p=g.result;l(p),t(p)},g.readAsDataURL(h)}},d=()=>{l(void 0),r(),a.current&&(a.current.value="")};return s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold",children:n}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"relative h-24 w-24 rounded-lg border-2 border-dashed border-[var(--border)] bg-[var(--panel-2)] flex items-center justify-center overflow-hidden group",children:i?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:i,alt:"Preview",className:"h-full w-full object-cover"}),s.jsx("button",{onClick:d,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",type:"button",children:s.jsx(bm,{size:12})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center text-[var(--muted)] cursor-pointer hover:text-accent transition-colors",onClick:()=>{var f;return(f=a.current)==null?void 0:f.click()},children:[s.jsx(tI,{size:20,className:"mb-1"}),s.jsx("span",{className:"text-[10px]",children:"Upload"})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[var(--muted)] mb-2",children:"Add a photo to help identify this entity. JPG, PNG or WebP. Max 5MB."}),s.jsx("button",{type:"button",onClick:()=>{var f;return(f=a.current)==null?void 0:f.click()},className:"text-xs font-medium text-accent hover:text-accent-hover transition-colors",children:i?"Change Image":"Select Image"})]})]}),s.jsx("input",{type:"file",ref:a,onChange:c,accept:"image/*",className:"hidden"})]})},yD={name:"",status:"Active",assetTag:"",description:"",criticality:"Medium",locationId:"",locationName:"",parentAssetId:"",category:"",manufacturer:"",model:"",serialNumber:"",installDate:"",warrantyEnd:"",imageUrl:"",notes:"",meters:[],attachments:[]},G6=({open:e,initial:t,onClose:r,onSubmit:n})=>{const a=P.useMemo(()=>({...yD,...t}),[t]),[i,l]=P.useState(a),[c,d]=P.useState({});if(Ah.useEffect(()=>{l(a)},[a]),!e)return null;const f=g=>l(p=>({...p,...g})),h=()=>{var p;const g={};return(p=i.name)!=null&&p.trim()||(g.name="Name is required"),i.status||(g.status="Status is required"),d(g),Object.keys(g).length===0},m=()=>{h()&&n({...i})};return s.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-end",onClick:r,children:s.jsxs("div",{className:"bg-white w-full max-w-xl h-full overflow-auto border-l border-[var(--border)]",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"px-4 py-3 border-b border-[var(--border)] flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-semibold",children:t!=null&&t.id?"Edit Asset":"New Asset"}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:r,children:""})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx(s2,{currentImageUrl:i.imageUrl,onImageUploaded:g=>f({imageUrl:g}),onImageRemoved:()=>f({imageUrl:""}),label:"Asset Photo"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Name",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{value:i.name,onChange:g=>f({name:g.target.value}),className:`w-full border rounded px-2 py-1 text-sm ${c.name?"border-red-400":"border-[var(--border)]"}`}),c.name&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:c.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Status",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:i.status,onChange:g=>f({status:g.target.value}),className:`w-full border rounded px-2 py-1 text-sm ${c.status?"border-red-400":"border-[var(--border)]"}`,children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Out of Service",children:"Out of Service"})]}),c.status&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:c.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Criticality"}),s.jsxs("select",{value:i.criticality||"Medium",onChange:g=>f({criticality:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Asset Tag"}),s.jsx("input",{value:i.assetTag||"",onChange:g=>f({assetTag:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Category"}),s.jsx("input",{value:i.category||"",onChange:g=>f({category:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsx("div",{children:s.jsx(_h,{label:"Location",value:i.locationId||null,onChange:(g,p)=>f({locationId:g||"",locationName:p})})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Parent Asset ID"}),s.jsx("input",{value:i.parentAssetId||"",onChange:g=>f({parentAssetId:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Manufacturer"}),s.jsx("input",{value:i.manufacturer||"",onChange:g=>f({manufacturer:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Model"}),s.jsx("input",{value:i.model||"",onChange:g=>f({model:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Serial Number"}),s.jsx("input",{value:i.serialNumber||"",onChange:g=>f({serialNumber:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Install Date"}),s.jsx("input",{type:"date",value:i.installDate||"",onChange:g=>f({installDate:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Warranty End"}),s.jsx("input",{type:"date",value:i.warrantyEnd||"",onChange:g=>f({warrantyEnd:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Description"}),s.jsx("textarea",{value:i.description||"",onChange:g=>f({description:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm min-h-[72px]"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Notes"}),s.jsx("textarea",{value:i.notes||"",onChange:g=>f({notes:g.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm min-h-[72px]"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:"Attachments"}),s.jsx(K6,{attachments:i.attachments||[],onChange:g=>f({attachments:g})})]})]}),s.jsxs("div",{className:"px-4 py-3 border-t border-[var(--border)] bg-gray-50 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:r,children:"Cancel"}),s.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",onClick:m,children:"Save"})]})]})})},wD=({assetId:e})=>{const{getAssetById:t,updateAsset:r,deleteAsset:n}=Ro(),{workOrders:a}=Gs(),{meters:i}=Ch(),{parts:l}=Ih(),[c,d]=P.useState(!1),[f,h]=P.useState(!1),m=e?t(e):void 0,g=P.useMemo(()=>m?(i||[]).filter(N=>N.assetId===m.id):[],[i,m]),p=P.useMemo(()=>m?a.filter(k=>k.assetId&&k.assetId===m.id||!k.assetId&&k.asset===m.name).sort((k,L)=>new Date(L.updatedAt||L.createdAt).getTime()-new Date(k.updatedAt||k.createdAt).getTime()).slice(0,10):[],[a,m]),b=P.useMemo(()=>m?l.filter(N=>N.compatibleAssetIds.includes(m.id)):[],[l,m]),w=P.useMemo(()=>{if(!m)return[];const N=new Map;return p.forEach(k=>{(k.parts||[]).filter(L=>L.consumed).forEach(L=>{const E=N.get(L.partId);E?E.count+=L.quantityUsed:N.set(L.partId,{partId:L.partId,partName:L.partName,count:L.quantityUsed})})}),Array.from(N.values())},[p]);return e?m?s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"omp-panel shadow-none box-border caret-transparent flex grow w-full overflow-hidden border-solid",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-x-hidden overflow-y-auto w-full",children:[s.jsxs("header",{className:"bg-[var(--panel-2)] border-b-[var(--border)] border-l-transparent border-r-transparent border-t-transparent box-border caret-transparent gap-x-2 flex flex-col shrink-0 gap-y-2 py-4 border-b",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 flex-wrap justify-between gap-y-2 px-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex gap-y-2",children:[s.jsx(Oo,{imageUrl:m.imageUrl,alt:m.name,fallbackIcon:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-6 w-6"}),className:"h-16 w-16"}),s.jsx("div",{className:"box-border caret-transparent",children:s.jsxs("div",{className:"box-border caret-transparent gap-x-1 flex gap-y-1",children:[s.jsx("h3",{className:"text-xl font-semibold box-border caret-transparent tracking-[-0.2px] leading-7 text-[var(--text)]",children:m.name}),s.jsx("button",{title:"Copy Link",type:"button",className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded-[50%] hover:text-accent-hover",children:s.jsx("span",{className:"box-border caret-transparent flex text-nowrap",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-35.svg",alt:"Icon",className:"box-border caret-transparent h-5 text-nowrap w-5"})})})]})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsx("button",{type:"button",onClick:()=>d(!0),className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Edit"})}),s.jsx("button",{type:"button",onClick:()=>h(!0),className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"text-slate-500 box-border caret-transparent flex shrink-0 text-nowrap hover:text-gray-600",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-40.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"})})})]})]}),s.jsxs("div",{className:"bg-[var(--panel-2)] border-b-[var(--border)] border-l-transparent border-r-transparent border-t-transparent box-border caret-transparent flex shrink-0 flex-wrap border-b px-4",children:[s.jsx("button",{type:"button",className:"text-accent border-b-accent border-l-transparent border-r-transparent border-t-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all font-medium",children:"Details"}),s.jsx("button",{type:"button",className:"text-[var(--muted)] border-b-transparent border-l-transparent border-r-transparent border-t-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all font-medium",children:"History"})]})]}),s.jsxs("div",{className:"relative box-border caret-transparent flex flex-col grow scroll-smooth overflow-auto scroll-pt-4 p-6",children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold",children:"Status"}),s.jsx("button",{type:"button",className:"text-accent text-[10px] font-medium hover:text-accent-hover uppercase tracking-wider",children:"See More"})]}),s.jsxs("div",{className:"relative items-center bg-[var(--panel-2)] box-border caret-transparent flex shrink-0 flex-wrap h-10 justify-between min-h-[22px] w-full border border-[var(--border)] rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:[s.jsx("div",{className:"relative items-center box-border caret-transparent flex basis-[0%] grow flex-wrap overflow-hidden px-2 py-0.5",children:s.jsxs("div",{className:"text-[13px] content-start items-center box-border caret-transparent flex shrink-0 justify-start leading-[15.12px] text-nowrap",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0 text-nowrap mr-2",children:s.jsx("div",{className:"bg-teal-500 box-border caret-transparent shrink-0 h-1.5 text-nowrap w-1.5 rounded-[50%]"})}),s.jsx("div",{title:m.status,className:"box-border caret-transparent basis-[0%] grow text-ellipsis text-nowrap overflow-hidden opacity-90",children:m.status})]})}),s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 overflow-hidden",children:s.jsx("div",{className:"text-accent box-border caret-transparent flex shrink-0 pr-1 pb-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-47.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 leading-[14px] w-5 opacity-80"})})})]}),s.jsx("div",{className:"text-[var(--muted)] text-[11px] mt-1 italic opacity-70",children:"Last updated: MaintainX, 31/12/2024, 21:36"})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:"Attachments"}),s.jsx(K6,{attachments:m.attachments||[],onChange:N=>r(m.id,{attachments:N})})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"Asset Types"}),s.jsx("div",{className:"text-sm",children:"Equipment"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"QR Code/Barcode"}),s.jsx("div",{className:"text-sm mb-1 font-mono tracking-tighter",children:"1D0UCME97QHDX"}),s.jsx("div",{className:"bg-gray-100 h-24 w-24 rounded flex items-center justify-center",children:s.jsx("div",{className:"text-gray-400 text-[10px]",children:"QR Code"})})]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:"Location"}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0",children:[s.jsx("div",{className:"bg-sky-100 border border-blue-300 h-7 w-7 flex items-center justify-center rounded-lg mr-2",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-49.svg",alt:"Icon",className:"h-4 w-4"})}),s.jsx("div",{className:"text-sm font-medium",children:m.locationName||"-"})]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Meters (",g.length,")"]}),g.length===0?s.jsx("div",{className:"text-[var(--muted)] text-xs italic",children:"No meters linked."}):s.jsx("div",{className:"space-y-1",children:g.map(N=>s.jsxs("button",{onClick:()=>{window.location.hash="#meters",setTimeout(()=>window.dispatchEvent(new CustomEvent("select-meter",{detail:{id:N.id}})),0)},className:"w-full text-left p-2 border border-[var(--border)] rounded hover:bg-gray-50 flex justify-between items-center group transition-colors",children:[s.jsx("div",{className:"text-sm font-medium text-accent group-hover:underline",children:N.name}),s.jsx("div",{className:"text-xs text-[var(--muted)]",children:typeof N.lastReading=="number"?`${N.lastReading}${N.unit?` ${N.unit}`:""}`:"No readings"})]},N.id))})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"Criticality"}),s.jsx("div",{className:"text-sm font-medium",children:m.criticality||"None"})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"Manufacturer"}),s.jsx("div",{className:"text-sm",children:m.manufacturer})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"Model"}),s.jsx("div",{className:"text-sm",children:m.model||"None"})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:"Sub-Assets (0)"}),s.jsx("p",{className:"text-xs text-[var(--muted)] mb-2",children:"Add sub elements inside this Asset"}),s.jsx("button",{className:"text-accent text-xs font-semibold hover:text-accent-hover uppercase tracking-wider",children:"+ Create Sub-Asset"})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Compatible Parts (",b.length,")"]}),b.length===0?s.jsx("div",{className:"text-xs text-[var(--muted)] italic",children:"No compatible parts linked."}):s.jsx("div",{className:"space-y-1",children:b.map(N=>s.jsxs("button",{type:"button",onClick:()=>{window.location.hash="#parts",setTimeout(()=>window.dispatchEvent(new CustomEvent("select-part",{detail:{id:N.id}})),100)},className:"w-full items-center box-border caret-transparent flex shrink-0 p-2 border border-[var(--border)] rounded hover:bg-gray-50 cursor-pointer transition-colors group text-left",children:[s.jsx(Oo,{imageUrl:N.imageUrl,alt:N.name,fallbackIcon:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:"h-4 w-4"}),className:"h-7 w-7 mr-3"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium group-hover:text-accent transition-colors",children:N.name}),s.jsxs("div",{className:"text-xs text-[var(--muted)]",children:[N.inventory.reduce((k,L)=>k+L.quantity,0)," in stock"]})]})]},N.id))}),w.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Parts Used (",w.length,")"]}),s.jsx("div",{className:"space-y-1",children:w.map(N=>s.jsxs("div",{className:"text-xs border border-[var(--border)] rounded p-2 flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:N.partName}),s.jsxs("span",{className:"text-[var(--muted)]",children:[N.count," consumed"]})]},N.partId))})]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:"Procedures (4)"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 p-2 border border-[var(--border)] rounded hover:bg-gray-50 cursor-pointer transition-colors group",children:[s.jsx("div",{className:"bg-sky-100 border border-blue-300 h-7 w-7 flex items-center justify-center rounded-lg mr-3",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-12.svg",alt:"Icon",className:"h-4 w-4"})}),s.jsx("div",{className:"text-sm font-medium group-hover:text-accent transition-colors",children:"Door Delay Troubleshooting"})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 p-2 border border-[var(--border)] rounded hover:bg-gray-50 cursor-pointer transition-colors group",children:[s.jsx("div",{className:"bg-sky-100 border border-blue-300 h-7 w-7 flex items-center justify-center rounded-lg mr-3",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-12.svg",alt:"Icon",className:"h-4 w-4"})}),s.jsx("div",{className:"text-sm",children:"Quarterly Door inspections"})]})]}),s.jsx("button",{className:"text-accent text-sm font-medium mt-3 hover:text-accent-hover",children:"See all "})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-4"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-6",children:[s.jsx("h2",{className:"text-base font-semibold mb-3",children:"Automations (0)"}),s.jsx("div",{className:"bg-sky-50 border border-blue-200 rounded p-4 mb-3",children:s.jsx("p",{className:"text-sm font-semibold text-blue-600",children:"Add a Meter to this Asset to enable Automations."})}),s.jsx("button",{className:"text-blue-500 text-sm font-medium hover:text-blue-400",children:"Create Meter"})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-4"}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-2 mb-6",children:[s.jsx("div",{children:"Created By Admin on 31/12/2024, 21:36"}),s.jsx("div",{children:"Last updated By Admin on 17/12/2025, 09:27"})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-4"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-6",children:[s.jsx("h2",{className:"text-base font-semibold mb-3",children:"Mean time between failures (MTBF)"}),s.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 rounded",children:s.jsx("div",{className:"text-gray-400 text-sm",children:"No data available"})})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-4"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0",children:[s.jsx("h2",{className:"text-base font-medium mb-3",children:"Related Work Orders"}),p.length===0?s.jsx("div",{className:"text-gray-500 text-sm",children:"No related work orders"}):s.jsx("div",{className:"space-y-2",children:p.map(N=>s.jsxs("button",{onClick:()=>{window.location.hash="#workorders",setTimeout(()=>window.dispatchEvent(new CustomEvent("select-work-order",{detail:{id:N.id}})),0)},className:"w-full text-left p-3 border border-[var(--border)] rounded hover:bg-gray-50",children:[s.jsxs("div",{className:"text-sm font-medium",children:["#",N.workOrderNumber||N.id,"  ",N.title]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[N.status,"  ",new Date(N.updatedAt||N.createdAt).toLocaleString()]})]},N.id))})]})]}),s.jsx(G6,{open:c,initial:m,onClose:()=>d(!1),onSubmit:N=>{r(m.id,N),d(!1)}}),f&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",onClick:()=>h(!1),children:s.jsxs("div",{className:"bg-white w-full max-w-sm rounded-lg shadow-lg border border-[var(--border)] p-4",onClick:N=>N.stopPropagation(),children:[s.jsx("div",{className:"text-lg font-semibold mb-2",children:"Delete Asset"}),s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:['Are you sure you want to delete \\"',m.name,'\\"? This cannot be undone.']}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:()=>h(!1),children:"Cancel"}),s.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-sm",onClick:()=>{n(m.id),h(!1),window.dispatchEvent(new CustomEvent("asset-deleted",{detail:{id:m.id}}))},children:"Delete"})]})]})})]})})}):s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"omp-panel shadow-none box-border caret-transparent flex grow w-full overflow-hidden border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-[var(--status-offline)] bg-[var(--panel-2)]",children:"Error loading asset"})})}):s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"omp-panel shadow-none box-border caret-transparent flex grow w-full overflow-hidden border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-[var(--muted)] bg-[var(--panel-2)]",children:"Select an asset to view details"})})})},ND=({value:e,onChange:t,categories:r=[]})=>{const{locations:n}=Eu(),a=i=>t({...e,...i});return s.jsx("div",{className:"box-border caret-transparent shrink-0 mb-4 mx-4",children:s.jsxs("div",{className:"omp-panel shadow-none box-border caret-transparent flex basis-[0%] grow items-center justify-between p-3 rounded-lg overflow-x-auto",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"box-border caret-transparent flex w-[300px]",children:s.jsx("input",{type:"search",placeholder:"Search...",value:e.search,onChange:i=>a({search:i.target.value}),className:"bg-gray-50 box-border caret-transparent leading-5 h-10 -outline-offset-2 w-full border border-[var(--border)] px-3 rounded-md text-sm"})}),s.jsxs("select",{value:e.status,onChange:i=>a({status:i.target.value}),className:"border border-[var(--border)] rounded px-2 h-10 text-sm bg-white min-w-[120px]",children:[s.jsx("option",{value:"All",children:"All Statuses"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Out of Service",children:"Out of Service"})]}),s.jsxs("select",{value:e.locationId,onChange:i=>{const l=i.target.value,c=n.find(d=>d.id===l);a({locationId:l,location:(c==null?void 0:c.name)||"All"})},className:"border border-[var(--border)] rounded px-2 h-10 text-sm bg-white min-w-[120px]",children:[s.jsx("option",{value:"All",children:"All Locations"}),n.map(i=>s.jsxs("option",{value:i.id,children:[i.parentLocationId?" ":"",i.name]},i.id))]}),s.jsxs("select",{value:e.category,onChange:i=>a({category:i.target.value}),className:"border border-[var(--border)] rounded px-2 h-10 text-sm bg-white min-w-[120px]",children:[s.jsx("option",{value:"All",children:"All Categories"}),r.map(i=>s.jsx("option",{value:i,children:i},i))]}),s.jsxs("select",{value:e.criticality,onChange:i=>a({criticality:i.target.value}),className:"border border-[var(--border)] rounded px-2 h-10 text-sm bg-white min-w-[120px]",children:[s.jsx("option",{value:"All",children:"All Criticalities"}),s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4 shrink-0",children:[s.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"Sort:"}),s.jsxs("select",{value:e.sortBy,onChange:i=>a({sortBy:i.target.value}),className:"border border-[var(--border)] rounded px-2 h-10 text-sm bg-white",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"updatedAt",children:"Updated"}),s.jsx("option",{value:"criticality",children:"Criticality"})]}),s.jsxs("select",{value:e.sortDir,onChange:i=>a({sortDir:i.target.value}),className:"border border-[var(--border)] rounded px-2 h-10 text-sm bg-white",children:[s.jsx("option",{value:"asc",children:"Asc"}),s.jsx("option",{value:"desc",children:"Desc"})]})]})]})})},jD=()=>{const[e,t]=P.useState(null),[r,n]=P.useState(!1),[a,i]=P.useState({search:"",status:"All",location:"All",locationId:"All",category:"All",criticality:"All",sortBy:"name",sortDir:"asc"}),{assets:l,addAsset:c}=Ro();P.useEffect(()=>{const h=m=>{var g;(g=m==null?void 0:m.detail)!=null&&g.id&&m.detail.id===e&&t(null)};return window.addEventListener("asset-deleted",h),()=>window.removeEventListener("asset-deleted",h)},[e]);const d=P.useMemo(()=>Array.from(new Set((l||[]).map(h=>h.category).filter(Boolean))),[l]),f=P.useMemo(()=>{const h=a.search.trim().toLowerCase(),m=E=>!h||[E.name,E.assetTag,E.manufacturer,E.model,E.serialNumber].some(I=>(I||"").toLowerCase().includes(h)),g=E=>a.status==="All"||E.status===a.status,p=E=>{if(a.locationId==="All")return!0;const I=FS(a.locationId),M=new Set([a.locationId,...I]);return E.locationId&&M.has(E.locationId)},b=E=>a.category==="All"||E.category===a.category,w=E=>a.criticality==="All"||E.criticality===a.criticality,N=(l||[]).filter(E=>m(E)&&g(E)&&p(E)&&b(E)&&w(E)),k=a.sortDir==="asc"?1:-1,L=E=>E*k;return[...N].sort((E,I)=>a.sortBy==="name"?L(E.name.localeCompare(I.name)):a.sortBy==="updatedAt"?L(new Date(E.updatedAt).getTime()-new Date(I.updatedAt).getTime()):a.sortBy==="criticality"?L((E.criticality||"").localeCompare(I.criticality||"")):0)},[l,a]);return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4 mb-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Assets"})}),s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:s.jsx("div",{className:"relative box-border caret-transparent flex shrink-0",children:s.jsxs("button",{type:"button",onClick:()=>n(!0),className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-md border-solid hover:bg-accent-hover hover:border-accent-hover",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-22.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"}),s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"New Asset"})]})})})]})}),s.jsx(ND,{value:a,onChange:i,categories:d}),s.jsxs("div",{className:"relative box-border caret-transparent flex basis-[0%] grow mx-4",children:[s.jsx(xD,{assets:f,selectedAssetId:e,onSelectAsset:t}),s.jsx(wD,{assetId:e})]}),s.jsx(G6,{open:r,onClose:()=>n(!1),onSubmit:h=>{const m=c(h);n(!1),t(m.id)}})]})},kD=({categories:e,archivedCategories:t=[],selectedCategoryId:r,onSelectCategory:n})=>s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex flex-col shrink-0 max-w-[500px] min-w-[300px] w-2/5 border border-[var(--border)] mr-4 rounded-tl rounded-tr border-solid",children:s.jsxs("div",{className:"relative box-border caret-transparent basis-[0%] grow overflow-x-hidden overflow-y-auto pb-8 rounded-bl rounded-br rounded-tl rounded-tr",children:[e.map(a=>s.jsxs("div",{onClick:()=>n(a.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[64px] cursor-pointer hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] border-l-2 transition-colors ${r===a.id?"bg-[var(--panel-2)] border-l-[var(--accent)]":"border-l-transparent"} group`,children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0 ml-4 mr-3",children:s.jsx("div",{className:`box-border caret-transparent shrink-0 h-8 w-8 transition-opacity ${r===a.id?"opacity-100":"group-hover:opacity-100"}`,children:s.jsx("img",{src:a.icon,alt:a.name,className:"box-border caret-transparent shrink-0 h-8 w-8"})})}),s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center py-3",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:a.name,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:a.name})})})]},a.id)),t.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase bg-gray-50 border-b border-[var(--border)]",children:"Archived"}),t.map(a=>s.jsxs("div",{onClick:()=>n(a.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[64px] cursor-pointer hover:bg-gray-50 opacity-60 border-l-2 transition-colors ${r===a.id?"bg-slate-50 border-l-[var(--accent)]":"border-l-transparent"}`,children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0 ml-4 mr-3",children:s.jsx("div",{className:"box-border caret-transparent shrink-0 h-8 w-8",children:s.jsx("img",{src:a.icon,alt:a.name,className:"box-border caret-transparent shrink-0 h-8 w-8"})})}),s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center py-3",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2 items-center gap-2",children:[s.jsx("div",{title:a.name,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:a.name}),s.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-1.5 py-0.5 rounded",children:"Archived"})]})})]},a.id))]})]})}),SD=({category:e,workOrders:t,onEdit:r,onArchive:n,onRestore:a})=>{const{getUserById:i}=xs(),[l,c]=P.useState(!1);if(!e)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-gray-500 bg-[var(--panel-2)]",children:"Select a category to view details"})})});const d=i(e.createdByUserId),f=i(e.updatedByUserId),h=m=>{const g=new Date(m);return g.toLocaleDateString()+", "+g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid relative",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-x-hidden overflow-y-auto w-full",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap justify-between gap-y-2",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex gap-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold box-border caret-transparent tracking-[-0.2px] leading-7",children:e.name}),!e.isActive&&s.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded tracking-wider",children:"Archived"}),s.jsx("button",{title:"Copy Link",type:"button",className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded-[50%] hover:text-accent-hover",children:s.jsx("span",{className:"box-border caret-transparent flex text-nowrap",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-35.svg",alt:"Icon",className:"box-border caret-transparent h-5 text-nowrap w-5"})})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsx("button",{type:"button",onClick:r,className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Edit"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{type:"button",onClick:()=>c(!l),className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded hover:text-accent-hover",children:s.jsx("span",{className:"text-slate-500 box-border caret-transparent flex shrink-0 text-nowrap hover:text-gray-600",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-40.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"})})}),l&&s.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-[var(--border)] rounded shadow-lg z-10 min-w-[150px]",children:[e.isActive&&s.jsx("button",{type:"button",onClick:()=>{n(),c(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Archive Category"}),!e.isActive&&s.jsx("button",{type:"button",onClick:()=>{a(),c(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Restore Category"})]})]})]})]})}),s.jsxs("div",{className:"relative box-border caret-transparent flex flex-col grow scroll-smooth overflow-auto scroll-pt-4 px-6 pt-6",children:[e.description&&s.jsx("div",{className:"text-sm text-gray-700 mb-4 pb-4 border-b border-[var(--border)] leading-relaxed italic",children:e.description}),s.jsxs("div",{className:"text-[10px] text-[var(--muted)] space-y-1 mb-4 pb-4 border-b border-[var(--border)] italic",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Created By",s.jsx("div",{className:"items-center bg-white bg-cover box-border caret-transparent flex shrink-0 h-3 justify-center w-3 bg-center rounded-[50%]",style:{backgroundImage:`url('${(d==null?void 0:d.avatarUrl)||"https://app.getmaintainx.com/img/static/user_placeholders/RandomPicture4.png"}')`}}),s.jsx("span",{className:"text-blue-500 hover:underline cursor-pointer",children:(d==null?void 0:d.fullName)||"Admin"}),s.jsxs("span",{children:["on ",h(e.createdAt)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:["Last updated By",s.jsx("div",{className:"items-center bg-white bg-cover box-border caret-transparent flex shrink-0 h-3 justify-center w-3 bg-center rounded-[50%]",style:{backgroundImage:`url('${(f==null?void 0:f.avatarUrl)||"https://app.getmaintainx.com/img/static/user_placeholders/RandomPicture4.png"}')`}}),s.jsx("span",{className:"text-blue-500 hover:underline cursor-pointer",children:(f==null?void 0:f.fullName)||"Admin"}),s.jsxs("span",{children:["on ",h(e.updatedAt)]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold",children:"Work Order History"})}),s.jsx("div",{className:"space-y-1",children:t.length===0?s.jsx("div",{className:"text-[var(--muted)] text-xs italic py-6 text-center border border-dashed border-[var(--border)] rounded",children:"No history."}):t.map(m=>s.jsxs("div",{className:"relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[80px] cursor-pointer hover:bg-gray-50 py-2 group transition-colors",children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0 mr-3 rounded",children:s.jsx("div",{title:m.title,className:"font-semibold items-center box-border caret-transparent flex shrink-0 h-10 justify-center w-10 border border-[var(--border)] overflow-hidden rounded border-solid",children:s.jsx("figure",{className:"bg-cover box-border caret-transparent shrink-0 h-full w-full bg-center bg-gray-50",style:{backgroundImage:m.assetImageUrl?`url('${m.assetImageUrl}')`:void 0}})})}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center",children:[s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 mb-0.5",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:m.title,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden font-medium text-sm group-hover:text-blue-500 transition-colors",children:m.title})}),s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("span",{className:"text-blue-500 text-[9px] font-bold uppercase tracking-tighter bg-sky-50 px-1 py-0.5 rounded border border-sky-100",children:e.name})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between mb-1",children:[s.jsxs("div",{className:"text-gray-500 text-[11px] box-border caret-transparent basis-[0%] grow text-ellipsis text-nowrap w-full overflow-hidden italic",children:[m.status==="Done"?"Done":"By"," ",m.assignedTo||"Admin"]}),s.jsxs("div",{className:"text-gray-400 text-[10px] font-mono box-border caret-transparent shrink-0",children:["#",m.workOrderNumber]})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between",children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0",children:s.jsxs("div",{className:"text-[10px] items-center box-border caret-transparent gap-x-1 flex shrink-0 leading-none uppercase font-bold tracking-wider",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsx("div",{className:`${m.status==="Done"?"text-teal-500":"text-blue-500"} box-border caret-transparent shrink-0 h-2.5 w-2.5 mr-1`,children:m.status==="Done"?"":""})}),s.jsx("span",{className:`${m.status==="Done"?"text-teal-500":"text-blue-500"} box-border caret-transparent text-ellipsis text-nowrap overflow-hidden`,children:m.status})]})}),s.jsx("div",{className:"box-border caret-transparent flex shrink-0",children:s.jsx("div",{className:`text-[9px] font-bold items-center box-border caret-transparent flex shrink-0 tracking-widest uppercase leading-none border border-[var(--border)] px-1.5 py-0.5 rounded ${m.priority==="High"?"text-red-500":m.priority==="Medium"?"text-orange-500":"text-teal-500"}`,children:m.priority})})]})]})]},m.id))})]})]})]})})})},$g=[{value:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23D9F5F1'/%3e%3cpath%20d='M29.552%2010.121a1.21%201.21%200%2000-1.017-.242%209.689%209.689%200%2001-7.532-1.538%201.21%201.21%200%2000-1.38%200%209.688%209.688%200%2001-7.533%201.538%201.21%201.21%200%2000-1.465%201.187v9.021a10.9%2010.9%200%20004.565%208.876l4.42%203.149a1.21%201.21%200%20001.405%200l4.42-3.149A10.9%2010.9%200%200030%2020.087v-9.021a1.21%201.21%200%2000-.448-.945zm-1.974%209.966a8.476%208.476%200%2001-3.548%206.902l-3.718%202.652-3.717-2.652a8.476%208.476%200%2001-3.548-6.902v-7.629a12.11%2012.11%200%20007.265-1.683%2012.11%2012.11%200%20007.266%201.683v7.63zm-5.4-2.773l-3.258%203.27-1.078-1.09a1.216%201.216%200%2000-1.72%201.72l1.938%201.937a1.211%201.211%200%20001.72%200l4.165-4.13a1.216%201.216%200%2000-1.72-1.72l-.048.013z'%20fill='%233FCBBB'/%3e%3c/svg%3e",label:"Shield"},{value:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23FFE4D0'/%3e%3cpath%20d='M29.585%2024.71l-2.42-2.42a1.002%201.002%200%2000-1.42%200l-3.58%203.58a1%201%200%2000-.29.71V29a1%201%200%20001%201h2.42a1.002%201.002%200%2000.71-.29l3.58-3.58a1.002%201.002%200%20000-1.42zM24.875%2028h-1v-1l2.58-2.58%201%201-2.58%202.58zm-6%200h-4a1%201%200%2001-1-1V13a1%201%200%20011-1h5v3a3%203%200%20003%203h3v1a1%201%200%20102%200v-2-.06a1.306%201.306%200%2000-.06-.27v-.09a1.071%201.071%200%2000-.19-.28l-6-6a1.071%201.071%200%2000-.28-.19.323.323%200%2000-.09%200l-.32-.11h-6.06a3%203%200%2000-3%203v14a3%203%200%20003%203h4a1%201%200%20000-2zm3-14.59l2.59%202.59h-1.59a1%201%200%2001-1-1v-1.59zm-5%208.59h6a1%201%200%20000-2h-6a1%201%200%20100%202zm0-4h1a1%201%200%20000-2h-1a1%201%200%20000%202zm2%206h-2a1%201%200%20100%202h2a1%201%200%20000-2z'%20fill='%23FF7439'/%3e%3c/svg%3e",label:"Document"},{value:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23FFE5DF'/%3e%3cpath%20d='M19.977%2023.34a.904.904%200%20100%201.807.904.904%200%20000-1.807zm9.644%201.329l-7.276-12.653a2.71%202.71%200%2000-4.735%200l-7.23%2012.653a2.712%202.712%200%20002.313%204.094h14.569a2.711%202.711%200%20002.359-4.094zm-1.564%201.807a.902.902%200%2001-.795.461h-14.57a.903.903%200%2001-.794-.46.904.904%200%20010-.905l7.23-12.653a.904.904%200%20011.609%200l7.275%2012.653a.904.904%200%2001.045.922v-.018zm-8.08-10.366a.904.904%200%2000-.903.904v3.615a.904.904%200%20101.807%200v-3.616a.904.904%200%2000-.904-.903z'%20fill='%23FF7C60'/%3e%3c/svg%3e",label:"Warning"},{value:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M32%2064a32%2032%200%201%200%200-64%2032%2032%200%200%200%200%2064Z'%20fill='%23FFF5CC'/%3e%3cpath%20d='M45.36%2026.56a1.6%201.6%200%200%200-1.39-.96h-7.32l2.03-7.58A1.6%201.6%200%200%200%2037.14%2016h-11.2a1.6%201.6%200%200%200-1.6%201.18l-4.28%2016a1.6%201.6%200%200%200%201.55%202.02h6.19l-2.9%2010.78a1.6%201.6%200%200%200%202.74%201.49l17.44-19.2a1.6%201.6%200%200%200%20.28-1.71ZM29.7%2040.44l1.71-6.4a1.6%201.6%200%200%200-1.53-2.01h-6.14l3.42-12.83h7.89L33%2026.78a1.6%201.6%200%200%200%201.6%202.02h5.71L29.7%2040.44Z'%20fill='%23FC0'/%3e%3c/svg%3e",label:"Lightning"},{value:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23FCEBFF'/%3e%3cpath%20d='M29.667%2023.55l-4.51-4.501c.093-.46.14-.928.139-1.397a7.652%207.652%200%2000-10.887-6.936.998.998%200%2000-.29%201.617l4.341%204.33-1.796%201.797-4.33-4.34a.998.998%200%2000-.88-.27%201%201%200%2000-.738.559%207.653%207.653%200%20006.986%2010.887c.469.001.937-.046%201.397-.14l4.5%204.51a.997.997%200%20001.417%200%20.996.996%200%20000-1.416l-4.89-4.89a.997.997%200%2000-.947-.26%205.865%205.865%200%2001-1.477.2%205.657%205.657%200%2001-5.708-5.648%205.988%205.988%200%2001.08-.998l3.911%203.922a1%201%200%20001.417%200l3.174-3.204a.998.998%200%20000-1.387l-3.882-3.911c.33-.054.664-.081.998-.08a5.658%205.658%200%20015.648%205.658c-.004.499-.07.995-.2%201.477a.998.998%200%2000.26.948l4.89%204.89a1.002%201.002%200%20001.416-1.418h-.04z'%20fill='%23EA7BFF'/%3e%3c/svg%3e",label:"Wrench"},{value:"data:image/svg+xml,%3csvg%20width='40'%20height='40'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2040c11.046%200%2020-8.954%2020-20S31.046%200%2020%200%200%208.954%200%2020s8.954%2020%2020%2020z'%20fill='%23DDF9FC'/%3e%3cpath%20d='M29.479%2024.407l-2.07-1.19.921-.248a1.036%201.036%200%2010-.538-1.998l-2.918.787-2.804-1.625%202.804-1.625%202.918.787h.27a1.043%201.043%200%2010.268-2.07l-.92-.196%202.069-1.19a1.04%201.04%200%2000-.65-1.93%201.037%201.037%200%2000-.385.129l-2.235%201.304.31-1.149a1.035%201.035%200%2010-1.997-.538l-.848%203.105-2.64%201.583v-3.24l2.143-2.141a1.034%201.034%200%2010-1.47-1.46l-.672.673v-2.39a1.035%201.035%200%2010-2.07%200v2.556l-.838-.838a1.036%201.036%200%2010-1.47%201.459l2.308%202.307v3.105l-2.66-1.573-.848-3.104a1.033%201.033%200%2000-1.913-.266%201.035%201.035%200%2000-.084.804l.331%201.107-2.235-1.283a1.037%201.037%200%2000-1.52%201.17c.072.267.246.493.485.63l2.07%201.17-.87.269a1.044%201.044%200%2000.27%202.07h.268l2.919-.787%202.752%201.552-2.804%201.625-2.918-.787a1.035%201.035%200%2010-.487%201.997l.921.249-2.07%201.19a1.038%201.038%200%20001.036%201.8l2.183-1.283-.31%201.149a1.035%201.035%200%2000.714%201.304c.089.01.18.01.269%200a1.035%201.035%200%20001.034-.766l.85-3.104%202.617-1.584v3.24l-2.142%202.142a1.034%201.034%200%20000%201.459%201.036%201.036%200%2000.735.31%201.035%201.035%200%2000.735-.31l.672-.673v2.39a1.035%201.035%200%20002.07%200v-2.556l.838.839a1.036%201.036%200%20101.47-1.46l-2.308-2.307v-3.105l2.66%201.542.848%203.105a1.035%201.035%200%20001.035.765c.09.01.18.01.269%200a1.038%201.038%200%2000.734-1.272l-.372-1.108%202.215%201.284a1.037%201.037%200%20001.52-1.171%201.04%201.04%200%2000-.486-.63h.021z'%20fill='%2354DFF2'/%3e%3c/svg%3e",label:"Snowflake"}],Wg=[{value:"bg-teal-50",label:"Teal"},{value:"bg-orange-50",label:"Orange"},{value:"bg-red-50",label:"Red"},{value:"bg-yellow-50",label:"Yellow"},{value:"bg-purple-50",label:"Purple"},{value:"bg-cyan-50",label:"Cyan"},{value:"bg-pink-50",label:"Pink"},{value:"bg-blue-50",label:"Blue"}],AD=({isOpen:e,onClose:t,onSave:r,category:n})=>{const[a,i]=P.useState(""),[l,c]=P.useState($g[0].value),[d,f]=P.useState(Wg[0].value),[h,m]=P.useState(""),[g,p]=P.useState("");if(P.useEffect(()=>{n?(i(n.name),c(n.icon),f(n.color),m(n.description||"")):(i(""),c($g[0].value),f(Wg[0].value),m("")),p("")},[n,e]),!e)return null;const b=w=>{if(w.preventDefault(),!a.trim()){p("Name is required");return}try{r({name:a.trim(),icon:l,color:d,description:h.trim()||void 0}),t()}catch(N){p(N.message)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[s.jsxs("header",{className:"px-6 py-4 border-b border-[var(--border)] flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:n?"Edit Category":"New Category"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),s.jsx("input",{type:"text",required:!0,className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:a,onChange:w=>{i(w.target.value),p("")},placeholder:"e.g. Preventive Maintenance"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:$g.map(w=>s.jsx("button",{type:"button",onClick:()=>c(w.value),className:`p-1 rounded border-2 ${l===w.value?"border-blue-500":"border-transparent"} hover:border-blue-300`,children:s.jsx("img",{src:w.value,alt:w.label,className:"w-8 h-8"})},w.label))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Wg.map(w=>s.jsx("button",{type:"button",onClick:()=>f(w.value),className:`w-8 h-8 rounded ${w.value} border-2 ${d===w.value?"border-blue-500":"border-[var(--border)]"} hover:border-blue-300`,title:w.label},w.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),s.jsx("textarea",{className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500 min-h-[80px]",value:h,onChange:w=>m(w.target.value),placeholder:"Brief description of this category..."})]}),g&&s.jsx("p",{className:"text-red-500 text-xs",children:g}),s.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-bold text-white bg-accent hover:bg-accent-hover rounded",children:n?"Save Changes":"Create Category"})]})]})]})})},PD=()=>{const{activeCategories:e,archivedCategories:t,selectedCategoryId:r,selectCategory:n,getCategoryById:a,createCategory:i,updateCategory:l,archiveCategory:c,restoreCategory:d}=wm(),{workOrders:f}=Gs(),{activeUser:h}=xs(),[m,g]=P.useState(!1),[p,b]=P.useState(null),w=r?a(r):null,N=P.useMemo(()=>r?f.filter(F=>F.categoryId===r):[],[f,r]),k=()=>{b(null),g(!0)},L=()=>{w&&(b(w),g(!0))},E=F=>{const R=(h==null?void 0:h.id)||"admin-001";if(p)l(p.id,F,R);else{const U=i(F,R);n(U.id)}},I=()=>{if(r){const F=(h==null?void 0:h.id)||"admin-001";c(r,F)}},M=()=>{if(r){const F=(h==null?void 0:h.id)||"admin-001";d(r,F)}};return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Categories"})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow max-w-[400px]",children:s.jsx("form",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsx("input",{type:"search",placeholder:"Search Categories",className:"bg-gray-50 bg-[url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2711%27%20height=%2712%27%3E%3Cg%20fill=%27none%27%20fill-rule=%27evenodd%27%20stroke=%27%23868686%27%20stroke-width=%271.25%27%20transform=%27translate%281%201.5)] bg-no-repeat box-border caret-transparent shrink-0 leading-5 min-h-10 -outline-offset-2 w-full border border-[var(--border)] bg-[position:10px_50%] pl-[30px] pr-2 py-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid"})})}),s.jsxs("button",{type:"button",onClick:k,className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:bg-accent-hover hover:border-accent-hover",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-22.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"}),s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"New Category"})]})]})]})}),s.jsxs("div",{className:"relative box-border caret-transparent flex basis-[0%] grow mx-4",children:[s.jsx(kD,{categories:e,archivedCategories:t,selectedCategoryId:r,onSelectCategory:n}),s.jsx(SD,{category:w||null,workOrders:N,onEdit:L,onArchive:I,onRestore:M})]}),s.jsx(AD,{isOpen:m,onClose:()=>g(!1),onSave:E,category:p})]})},CD=({parts:e,selectedPartId:t,onSelectPart:r})=>s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex flex-col shrink-0 max-w-[500px] min-w-[300px] w-2/5 border border-[var(--border)] mr-4 rounded-tl rounded-tr border-solid",children:[s.jsx("div",{className:"relative items-center border-b-zinc-200 border-l-neutral-800 border-r-neutral-800 border-t-neutral-800 box-border caret-transparent flex shrink-0 h-12 justify-between z-[1] border-b",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow p-3",children:s.jsx("div",{className:"relative text-[12.6px] box-border caret-transparent flex basis-[0%] grow leading-[15.12px]",children:s.jsx("div",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsxs("button",{type:"button",className:"text-gray-600 text-sm items-center bg-transparent caret-transparent flex shrink-0 leading-[16.8px] max-w-full text-center",children:["Sort By:",s.jsxs("div",{className:"text-blue-500 items-center box-border caret-transparent flex basis-[0%] grow stroke-blue-500",children:[s.jsxs("span",{className:"box-border caret-transparent block basis-[0%] grow stroke-blue-500 text-ellipsis text-nowrap overflow-hidden ml-1",children:[s.jsx("span",{className:"font-semibold box-border caret-transparent shrink-0 stroke-blue-500 text-nowrap",children:"Name"}),": Ascending Order"]}),s.jsx("div",{className:"box-border caret-transparent shrink-0 stroke-blue-500 ml-1 mb-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-27.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-[5px] w-2 -scale-100"})})]})]})})})})}),s.jsxs("div",{className:"relative box-border caret-transparent basis-[0%] grow overflow-x-hidden overflow-y-auto pb-8 rounded-bl rounded-br rounded-tl rounded-tr",children:[e.length===0&&s.jsx("div",{className:"flex items-center justify-center h-32 text-[var(--muted)] text-sm italic",children:"No parts found."}),e.map(n=>{var c;const a=Oh(n),i=g0(n),l=((c=n.inventory[0])==null?void 0:c.locationName)??"";return s.jsxs("div",{onClick:()=>r(n.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[98px] cursor-pointer hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] border-l-2 transition-colors ${t===n.id?"bg-[var(--panel-2)] border-l-[var(--accent)]":"border-l-transparent"} group`,children:[s.jsx(Oo,{imageUrl:n.imageUrl,alt:n.name,fallbackIcon:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-10.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] transition-opacity ${t===n.id?"opacity-100":"group-hover:opacity-100"}`}),className:"h-12 w-12 ml-4 mr-3"}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center py-3",children:[s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 my-px",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:n.name,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:n.name})}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 flex items-center gap-1",children:[s.jsxs("span",{className:`text-sm font-medium ${i?"text-amber-600":"text-gray-600"}`,children:[a," ",n.unit||"unit",a!==1?"s":""]}),i&&s.jsx("span",{className:"bg-amber-100 text-amber-700 text-[9px] font-bold uppercase tracking-wide px-1 py-0.5 rounded",children:"Low"})]})]}),s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-1",children:s.jsxs("div",{className:"text-gray-600 text-[12.6px] box-border caret-transparent basis-[0%] grow text-ellipsis text-nowrap w-full overflow-hidden",children:["At ",l,n.inventory.length>1&&s.jsxs("span",{className:"text-blue-500 ml-1",children:["+",n.inventory.length-1," more"]})]})}),s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-px",children:s.jsx("div",{className:"text-gray-500 text-[11px] box-border caret-transparent basis-[0%] grow text-ellipsis text-nowrap w-full overflow-hidden",children:n.partType})})]})]},n.id)})]})]}),_D=["Spare Part","Consumable","Tool","Safety Equipment","Other"],zN={name:"",description:"",partType:"Spare Part",unit:"unit",minStock:1,inventory:[],compatibleAssetIds:[]},Y6=({open:e,initial:t,onClose:r,onSubmit:n})=>{const{locations:a}=Eu(),[i,l]=P.useState(zN),[c,d]=P.useState(""),[f,h]=P.useState(0),[m,g]=P.useState(1),[p,b]=P.useState(null);if(P.useEffect(()=>{e&&(l(t?{name:t.name,description:t.description??"",partType:t.partType,unit:t.unit??"unit",minStock:t.minStock,inventory:t.inventory,compatibleAssetIds:t.compatibleAssetIds,imageUrl:t.imageUrl,barcode:t.barcode}:zN),b(null),d(""),h(0),g(1))},[e,t]),!e)return null;const w=(E,I)=>l(M=>({...M,[E]:I})),N=()=>{if(!c){b("Select a location.");return}if(i.inventory.some(M=>M.locationId===c)){b("This location is already listed.");return}const E=a.find(M=>M.id===c);if(!E)return;const I={locationId:c,locationName:E.name,quantity:f,minQuantity:m};l(M=>({...M,inventory:[...M.inventory,I]})),d(""),h(0),g(1),b(null)},k=E=>{l(I=>({...I,inventory:I.inventory.filter(M=>M.locationId!==E)}))},L=()=>{if(!i.name.trim()){b("Name is required.");return}n(i)};return s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-start justify-end",onClick:r,children:s.jsxs("div",{className:"bg-white h-full w-full max-w-md shadow-xl flex flex-col overflow-y-auto",onClick:E=>E.stopPropagation(),children:[s.jsxs("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] px-4 py-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t?"Edit Part":"New Part"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:r,className:"border border-[var(--border)] px-3 py-1 rounded text-sm hover:border-neutral-300",children:"Cancel"}),s.jsx("button",{type:"button",onClick:L,className:"bg-accent text-white border border-accent px-3 py-1 rounded text-sm hover:bg-accent-hover transition-colors",children:t?"Save":"Create"})]})]}),p&&s.jsx("div",{className:"mx-4 mt-3 text-xs text-red-600 bg-red-50 border border-red-100 rounded px-3 py-2",children:p}),s.jsxs("div",{className:"p-4 space-y-5 flex-1",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-1",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:i.name,onChange:E=>w("name",E.target.value),placeholder:"Part name"})]}),s.jsx(s2,{currentImageUrl:i.imageUrl,onImageUploaded:E=>w("imageUrl",E),onImageRemoved:()=>w("imageUrl",""),label:"Part Photo"}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full border border-[var(--border)] rounded p-2 text-sm min-h-[60px]",value:i.description??"",onChange:E=>w("description",E.target.value),placeholder:"Optional description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-1",children:"Part Type"}),s.jsx("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:i.partType,onChange:E=>w("partType",E.target.value),children:_D.map(E=>s.jsx("option",{value:E,children:E},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-1",children:"Unit"}),s.jsx("input",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:i.unit??"",onChange:E=>w("unit",E.target.value),placeholder:"unit, L, kg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-1",children:"Global Minimum Stock"}),s.jsx("input",{type:"number",min:0,className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:i.minStock,onChange:E=>w("minStock",Math.max(0,Number(E.target.value)))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-2",children:"Inventory by Location"}),i.inventory.length>0&&s.jsx("div",{className:"border border-[var(--border)] rounded overflow-hidden mb-2",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-[var(--panel-2)] border-b border-[var(--border)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Location"}),s.jsx("th",{className:"text-center px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Qty"}),s.jsx("th",{className:"text-center px-2 py-1 font-medium text-[var(--muted)] uppercase",children:"Min"}),s.jsx("th",{className:"px-2 py-1"})]})}),s.jsx("tbody",{children:i.inventory.map(E=>s.jsxs("tr",{className:"border-b border-[var(--border)] last:border-0",children:[s.jsx("td",{className:"px-2 py-1",children:E.locationName}),s.jsx("td",{className:"px-2 py-1 text-center",children:s.jsx("input",{type:"number",min:0,className:"w-14 border border-[var(--border)] rounded px-1 py-0.5 text-center text-xs",value:E.quantity,onChange:I=>{const M=Math.max(0,Number(I.target.value));l(F=>({...F,inventory:F.inventory.map(R=>R.locationId===E.locationId?{...R,quantity:M}:R)}))}})}),s.jsx("td",{className:"px-2 py-1 text-center",children:s.jsx("input",{type:"number",min:0,className:"w-14 border border-[var(--border)] rounded px-1 py-0.5 text-center text-xs",value:E.minQuantity,onChange:I=>{const M=Math.max(0,Number(I.target.value));l(F=>({...F,inventory:F.inventory.map(R=>R.locationId===E.locationId?{...R,minQuantity:M}:R)}))}})}),s.jsx("td",{className:"px-2 py-1 text-center",children:s.jsx("button",{type:"button",onClick:()=>k(E.locationId),className:"text-red-400 hover:text-red-600 text-xs",title:"Remove location",children:""})})]},E.locationId))})]})}),s.jsxs("div",{className:"border border-dashed border-[var(--border)] rounded p-2 space-y-2",children:[s.jsx("div",{className:"text-[10px] text-[var(--muted)] uppercase font-semibold",children:"Add Location"}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-1 text-sm",value:c,onChange:E=>d(E.target.value),children:[s.jsx("option",{value:"",children:"Select location"}),a.filter(E=>!i.inventory.some(I=>I.locationId===E.id)).map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-[var(--muted)]",children:"Quantity"}),s.jsx("input",{type:"number",min:0,className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",value:f,onChange:E=>h(Math.max(0,Number(E.target.value)))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-[var(--muted)]",children:"Min Qty"}),s.jsx("input",{type:"number",min:0,className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",value:m,onChange:E=>g(Math.max(0,Number(E.target.value)))})]})]}),s.jsx("button",{type:"button",onClick:N,className:"text-blue-500 text-xs font-bold uppercase tracking-widest hover:text-blue-400",children:"+ Add to Inventory"})]})]})]})]})})},OD=({partId:e})=>{const{getPartById:t,updatePart:r,deletePart:n,restock:a}=Ih(),{workOrders:i}=Gs(),{assets:l}=Ro(),[c,d]=P.useState("details"),[f,h]=P.useState(!1),[m,g]=P.useState(!1),[p,b]=P.useState(!1),[w,N]=P.useState(""),[k,L]=P.useState(1),[E,I]=P.useState(null),M=e?t(e):void 0;if(!e)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-gray-500 bg-[var(--panel-2)]",children:"Select a part to view details"})})});if(!M)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-gray-500 bg-[var(--panel-2)]",children:"Part not found."})})});const F=Oh(M),R=g0(M),U=i.filter(H=>(H.parts||[]).some(V=>V.partId===M.id)),B=l.filter(H=>M.compatibleAssetIds.includes(H.id)),Y=U.filter(H=>(H.parts||[]).some(V=>V.partId===M.id&&V.consumed)),C=()=>{if(U.length>0){I(`Cannot delete: this part is used in ${U.length} work order(s).`);return}n(M.id),g(!1),window.dispatchEvent(new CustomEvent("part-deleted",{detail:{id:M.id}}))},T=()=>{if(!w||k<=0)return;const H=M.inventory.find(V=>V.locationId===w);a(M.id,w,(H==null?void 0:H.locationName)??w,k),b(!1),L(1),N("")};return s.jsxs("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:[s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-x-hidden overflow-y-auto w-full",children:[s.jsxs("header",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] box-border caret-transparent gap-x-2 flex flex-col shrink-0 gap-y-2 py-4 border-b",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 flex-wrap justify-between gap-y-2 px-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex gap-y-2",children:[s.jsx(Oo,{imageUrl:M.imageUrl,alt:M.name,fallbackIcon:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-10.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-6 w-6"}),className:"h-16 w-16"}),s.jsxs("div",{className:"box-border caret-transparent",children:[s.jsx("div",{className:"box-border caret-transparent gap-x-1 flex gap-y-1",children:s.jsx("h3",{className:"text-xl font-semibold box-border caret-transparent tracking-[-0.2px] leading-7",children:M.name})}),s.jsx("div",{className:"items-center box-border caret-transparent gap-x-1 flex h-[18px] gap-y-1",children:s.jsxs("span",{className:`text-sm box-border caret-transparent block italic ${R?"text-amber-600 font-semibold":"text-gray-600"}`,children:[F," ",M.unit||"unit",F!==1?"s":""," in stock",R&&"  Needs Restock"]})})]})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsx("button",{type:"button",onClick:()=>b(!0),className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Restock"})}),s.jsx("button",{type:"button",onClick:()=>h(!0),className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Edit"})}),s.jsx("button",{type:"button",onClick:()=>{g(!0),I(null)},className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"text-slate-500 box-border caret-transparent flex shrink-0 text-nowrap hover:text-gray-600",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-40.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"})})})]})]}),s.jsxs("div",{className:"bg-[var(--panel-2)] border-b-[var(--border)] border-l-transparent border-r-transparent border-t-transparent box-border caret-transparent flex shrink-0 flex-wrap border-b px-4",children:[s.jsx("button",{type:"button",onClick:()=>d("details"),className:`${c==="details"?"text-[var(--accent)] border-b-[var(--accent)]":"text-[var(--muted)] border-b-transparent"} border-l-transparent border-r-transparent border-t-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all`,children:"Details"}),s.jsx("button",{type:"button",onClick:()=>d("history"),className:`${c==="history"?"text-[var(--accent)] border-b-[var(--accent)]":"text-[var(--muted)] border-b-transparent"} border-l-transparent border-r-transparent border-t-transparent caret-transparent block basis-[0%] grow text-center -mb-px px-2 py-2.5 border-t-0 border-x-0 border-b-2 hover:bg-[var(--panel)] transition-all`,children:"History"})]})]}),s.jsx("div",{className:"relative box-border caret-transparent flex flex-col grow scroll-smooth overflow-auto scroll-pt-4 p-6 pt-6",children:c==="details"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"Minimum in Stock"}),s.jsxs("span",{className:"text-sm font-medium",children:[M.minStock," ",M.unit||"unit",M.minStock!==1?"s":""]})]}),s.jsxs("div",{className:"box-border caret-transparent shrink-0",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"Available Quantity"}),s.jsxs("span",{className:`text-sm font-medium ${R?"text-amber-600":""}`,children:[F," ",M.unit||"unit",F!==1?"s":""]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"Part Type"}),s.jsx("span",{className:"text-sm",children:M.partType})]}),M.description&&s.jsxs("div",{className:"box-border caret-transparent shrink-0",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-1",children:"Description"}),s.jsx("span",{className:"text-sm",children:M.description})]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Location (",M.inventory.length,")"]}),M.inventory.length===0?s.jsx("div",{className:"text-xs text-[var(--muted)] italic",children:"No inventory locations configured."}):s.jsx("div",{className:"border border-[var(--border)] rounded overflow-hidden",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-[var(--panel-2)] border-b border-[var(--border)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left font-medium text-[var(--muted)] px-3 py-2 uppercase tracking-tight opacity-[0.85]",children:"Location"}),s.jsx("th",{className:"text-center font-medium text-[var(--muted)] px-3 py-2 uppercase tracking-tight opacity-[0.85]",children:"In Stock"}),s.jsx("th",{className:"text-center font-medium text-[var(--muted)] px-3 py-2 uppercase tracking-tight opacity-[0.85]",children:"Min"}),s.jsx("th",{className:"text-center font-medium text-[var(--muted)] px-3 py-2 uppercase tracking-tight opacity-[0.85]",children:"Status"})]})}),s.jsx("tbody",{children:M.inventory.map(H=>{const V=H.quantity<=H.minQuantity;return s.jsxs("tr",{className:"border-b border-[var(--border)] last:border-0 hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:"h-3 w-3"}),s.jsx("span",{className:"text-accent font-medium",children:H.locationName})]})}),s.jsx("td",{className:`px-3 py-2 text-center font-medium ${V?"text-amber-600":""}`,children:H.quantity}),s.jsx("td",{className:"px-3 py-2 text-center text-gray-500",children:H.minQuantity}),s.jsx("td",{className:"px-3 py-2 text-center",children:V?s.jsx("span",{className:"bg-amber-100 text-amber-700 text-[9px] font-bold uppercase tracking-wide px-1.5 py-0.5 rounded",children:"Low"}):s.jsx("span",{className:"bg-green-50 text-green-700 text-[9px] font-bold uppercase tracking-wide px-1.5 py-0.5 rounded",children:"OK"})})]},H.locationId)})})]})})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Compatible Assets (",B.length,")"]}),B.length===0?s.jsx("div",{className:"text-xs text-[var(--muted)] italic",children:"No assets linked."}):s.jsx("div",{className:"space-y-1",children:B.map(H=>s.jsxs("button",{type:"button",onClick:()=>{window.location.hash="#assets",setTimeout(()=>{window.dispatchEvent(new CustomEvent("select-asset",{detail:{id:H.id}}))},100)},className:"w-full border border-[var(--border)] rounded p-2 hover:bg-gray-50 cursor-pointer transition-colors group text-left flex items-center gap-3",children:[s.jsx("div",{className:"bg-sky-100 border border-blue-300 h-7 w-7 flex items-center justify-center rounded-lg",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-7.svg",alt:"Icon",className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium group-hover:text-accent transition-colors",children:H.name})]},H.id))})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"text-[10px] text-[var(--muted)] space-y-1 mb-4 italic",children:[s.jsxs("div",{children:["Created on ",new Date(M.createdAt).toLocaleString()]}),s.jsxs("div",{children:["Last updated on ",new Date(M.updatedAt).toLocaleString()]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Work Order History (",U.length,")"]}),U.length===0?s.jsx("div",{className:"text-[var(--muted)] text-xs italic",children:"No work order history"}):s.jsx("div",{className:"space-y-1",children:U.slice(0,5).map(H=>{const V=(H.parts||[]).find(W=>W.partId===M.id);return s.jsxs("button",{type:"button",onClick:()=>{window.location.hash="#workorders",setTimeout(()=>{window.dispatchEvent(new CustomEvent("select-work-order",{detail:{id:H.id}}))},100)},className:"w-full text-left p-2 border border-[var(--border)] rounded hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"text-xs font-medium",children:[H.workOrderNumber,"  ",H.title]}),s.jsxs("div",{className:"text-[10px] text-[var(--muted)]",children:[V==null?void 0:V.quantityUsed," ",M.unit," used",V!=null&&V.consumed?"  Consumed":"  Pending","  ",H.status]})]},H.id)})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-3",children:["Consumption History (",Y.length," work orders)"]}),Y.length===0?s.jsx("div",{className:"text-[var(--muted)] text-xs italic",children:"No consumption history."}):s.jsx("div",{className:"space-y-2",children:Y.map(H=>{const V=(H.parts||[]).find(W=>W.partId===M.id);return s.jsxs("button",{type:"button",onClick:()=>{window.location.hash="#workorders",setTimeout(()=>{window.dispatchEvent(new CustomEvent("select-work-order",{detail:{id:H.id}}))},100)},className:"w-full text-left p-3 border border-[var(--border)] rounded hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"text-sm font-medium",children:[H.workOrderNumber,"  ",H.title]}),s.jsxs("div",{className:"text-xs text-[var(--muted)] mt-0.5",children:[V==null?void 0:V.quantityUsed," ",M.unit," consumed from ",V==null?void 0:V.locationName]}),s.jsxs("div",{className:"text-[10px] text-[var(--muted)] mt-0.5",children:["Completed ",H.completedAt?new Date(H.completedAt).toLocaleDateString():""]})]},H.id)})})]})})]})}),s.jsx(Y6,{open:f,initial:M,onClose:()=>h(!1),onSubmit:H=>{r(M.id,H),h(!1)}}),m&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",onClick:()=>g(!1),children:s.jsxs("div",{className:"bg-white w-full max-w-sm rounded-lg shadow-lg border border-[var(--border)] p-4",onClick:H=>H.stopPropagation(),children:[s.jsx("div",{className:"text-lg font-semibold mb-2",children:"Delete Part"}),E?s.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-100 rounded px-3 py-2 mb-4",children:E}):s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:['Are you sure you want to delete "',M.name,'"? This cannot be undone.']}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:()=>g(!1),children:"Cancel"}),!E&&s.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-sm",onClick:C,children:"Delete"})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",onClick:()=>b(!1),children:s.jsxs("div",{className:"bg-white w-full max-w-sm rounded-lg shadow-lg border border-[var(--border)] p-4",onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{className:"text-lg font-semibold mb-3",children:["Restock  ",M.name]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-1",children:"Location"}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:w,onChange:H=>N(H.target.value),children:[s.jsx("option",{value:"",children:"Select location"}),M.inventory.map(H=>s.jsxs("option",{value:H.locationId,children:[H.locationName," (current: ",H.quantity,")"]},H.locationId))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold block mb-1",children:"Quantity to Add"}),s.jsx("input",{type:"number",min:1,className:"w-full border border-[var(--border)] rounded p-2 text-sm",value:k,onChange:H=>L(Math.max(1,Number(H.target.value)))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:()=>b(!1),children:"Cancel"}),s.jsx("button",{className:"px-3 py-1 rounded bg-accent text-white text-sm hover:bg-accent-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",onClick:T,disabled:!w||k<=0,children:"Restock"})]})]})})]})},ID=["Spare Part","Consumable","Tool","Safety Equipment","Other"],ED=()=>{var M;const{parts:e,addPart:t}=Ih(),{locations:r}=Eu(),[n,a]=P.useState(null),[i,l]=P.useState(!1),[c,d]=P.useState(""),[f,h]=P.useState(!1),[m,g]=P.useState(""),[p,b]=P.useState(""),[w,N]=P.useState(!1),[k,L]=P.useState(!1);P.useEffect(()=>{!n&&e.length>0&&a(e[0].id)},[e,n]),P.useEffect(()=>{const F=R=>{var U;((U=R.detail)==null?void 0:U.id)===n&&a(null)};return window.addEventListener("part-deleted",F),()=>window.removeEventListener("part-deleted",F)},[n]),P.useEffect(()=>{const F=R=>{var B;const U=(B=R.detail)==null?void 0:B.id;U&&a(U)};return window.addEventListener("select-part",F),()=>window.removeEventListener("select-part",F)},[]);const E=P.useMemo(()=>{let F=[...e];if(f&&(F=F.filter(R=>g0(R))),m&&(F=F.filter(R=>R.partType===m)),p&&(F=F.filter(R=>R.inventory.some(U=>U.locationId===p))),c.trim()){const R=c.trim().toLowerCase();F=F.filter(U=>U.name.toLowerCase().includes(R))}return F.sort((R,U)=>R.name.localeCompare(U.name))},[e,f,m,p,c]),I=P.useMemo(()=>e.filter(F=>g0(F)).length,[e]);return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Parts"})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow max-w-[400px]",children:s.jsx("form",{className:"box-border caret-transparent basis-[0%] grow",onSubmit:F=>F.preventDefault(),children:s.jsx("input",{type:"search",placeholder:"Search Parts",value:c,onChange:F=>d(F.target.value),className:"bg-gray-50 bg-[url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2711%27%20height=%2712%27%3E%3Cg%20fill=%27none%27%20fill-rule=%27evenodd%27%20stroke=%27%23868686%27%20stroke-width=%271.25%27%20transform=%27translate%281%201.5)] bg-no-repeat box-border caret-transparent shrink-0 leading-5 min-h-10 -outline-offset-2 w-full border border-[var(--border)] bg-[position:10px_50%] pl-[30px] pr-2 py-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid"})})}),s.jsx("div",{className:"relative box-border caret-transparent flex shrink-0",children:s.jsxs("button",{type:"button",onClick:()=>l(!0),className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-md border-solid hover:bg-accent-hover hover:border-accent-hover",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-22.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"}),s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"New Part"})]})})]})]})}),s.jsx("div",{className:"box-border caret-transparent shrink-0 mb-4 mx-4",children:s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 gap-y-2",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsxs("button",{type:"button",onClick:()=>h(F=>!F),className:`items-center caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border overflow-hidden px-2 rounded border-solid transition-colors ${f?"bg-amber-50 border-amber-400 text-amber-700":"bg-white border-[var(--border)] hover:border-neutral-300"}`,children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-center px-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-24.svg",alt:"Icon",className:"text-blue-500 text-[8px] box-border caret-transparent shrink-0 h-4 leading-[11.4288px] w-4"})}),s.jsxs("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:["Needs Restock",I>0&&s.jsx("span",{className:"ml-1 bg-amber-100 text-amber-700 text-[9px] font-bold px-1 py-0.5 rounded",children:I})]})]})}),s.jsxs("div",{className:"relative items-center box-border caret-transparent flex shrink-0",children:[s.jsxs("button",{type:"button",onClick:()=>{N(F=>!F),L(!1)},className:`items-center caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border overflow-hidden px-2 rounded border-solid transition-colors ${m?"bg-blue-50 border-blue-400 text-blue-700":"bg-white border-[var(--border)] hover:border-neutral-300"}`,children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-center px-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-25.svg",alt:"Icon",className:"text-blue-500 text-[8px] box-border caret-transparent shrink-0 h-4 leading-[11.4288px] w-4"})}),s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:m||"Part Types"})]}),w&&s.jsxs("div",{className:"absolute top-9 left-0 z-20 bg-white border border-[var(--border)] rounded shadow-lg min-w-[160px]",children:[s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-1.5 text-xs hover:bg-gray-50",onClick:()=>{g(""),N(!1)},children:"All Types"}),ID.map(F=>s.jsx("button",{type:"button",className:`block w-full text-left px-3 py-1.5 text-xs hover:bg-gray-50 ${m===F?"font-semibold text-blue-600":""}`,onClick:()=>{g(F),N(!1)},children:F},F))]})]}),s.jsxs("div",{className:"relative items-center box-border caret-transparent flex shrink-0",children:[s.jsxs("button",{type:"button",onClick:()=>{L(F=>!F),N(!1)},className:`items-center caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border overflow-hidden px-2 rounded border-solid transition-colors ${p?"bg-blue-50 border-blue-400 text-blue-700":"bg-white border-[var(--border)] hover:border-neutral-300"}`,children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-center px-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-25.svg",alt:"Icon",className:"text-blue-500 text-[8px] box-border caret-transparent shrink-0 h-4 leading-[11.4288px] w-4"})}),s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:p?((M=r.find(F=>F.id===p))==null?void 0:M.name)??"Location":"Location"})]}),k&&s.jsxs("div",{className:"absolute top-9 left-0 z-20 bg-white border border-[var(--border)] rounded shadow-lg min-w-[180px] max-h-48 overflow-y-auto",children:[s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-1.5 text-xs hover:bg-gray-50",onClick:()=>{b(""),L(!1)},children:"All Locations"}),r.map(F=>s.jsx("button",{type:"button",className:`block w-full text-left px-3 py-1.5 text-xs hover:bg-gray-50 ${p===F.id?"font-semibold text-blue-600":""}`,onClick:()=>{b(F.id),L(!1)},children:F.name},F.id))]})]}),(f||m||p||c)&&s.jsx("button",{type:"button",onClick:()=>{h(!1),g(""),b(""),d("")},className:"text-xs text-blue-500 hover:text-blue-400 px-1",children:"Clear filters"})]})})})}),s.jsxs("div",{className:"relative box-border caret-transparent flex basis-[0%] grow mx-4",onClick:()=>{N(!1),L(!1)},children:[s.jsx(CD,{parts:E,selectedPartId:n,onSelectPart:a}),s.jsx(OD,{partId:n})]}),s.jsx(Y6,{open:i,onClose:()=>l(!1),onSubmit:F=>{const R=t(F);a(R.id),l(!1)}})]})},LD=({procedures:e,selectedProcedureId:t,onSelectProcedure:r})=>{const n=e.filter(i=>i.isMyTemplate),a=e.filter(i=>!i.isMyTemplate);return s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex flex-col shrink-0 max-w-[500px] min-w-[300px] w-2/5 border border-[var(--border)] mr-4 rounded-tl rounded-tr border-solid",children:[s.jsx("div",{className:"relative items-center border-b-zinc-200 border-l-neutral-800 border-r-neutral-800 border-t-neutral-800 box-border caret-transparent flex shrink-0 h-12 justify-between z-[1] border-b",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow p-3",children:s.jsx("div",{className:"relative text-[12.6px] box-border caret-transparent flex basis-[0%] grow leading-[15.12px] opacity-[0.85]",children:s.jsx("div",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsxs("button",{type:"button",className:"text-gray-600 text-sm items-center bg-transparent caret-transparent flex shrink-0 leading-[16.8px] max-w-full text-center font-medium",children:["Sort By:",s.jsxs("div",{className:"text-accent items-center box-border caret-transparent flex basis-[0%] grow stroke-accent font-medium",children:[s.jsxs("span",{className:"box-border caret-transparent block basis-[0%] grow stroke-accent text-ellipsis text-nowrap overflow-hidden ml-1",children:[s.jsx("span",{className:"font-medium box-border caret-transparent shrink-0 stroke-accent text-nowrap",children:"Name"}),": Ascending Order"]}),s.jsx("div",{className:"box-border caret-transparent shrink-0 stroke-accent ml-1 mb-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-27.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-[5px] w-2 -scale-100"})})]})]})})})})}),s.jsxs("div",{className:"relative box-border caret-transparent basis-[0%] grow overflow-x-hidden overflow-y-auto pb-8 rounded-bl rounded-br",children:[n.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-gray-600 text-sm font-medium box-border caret-transparent shrink-0 px-4 py-3 border-b border-[var(--border)] bg-gray-50 opacity-[0.85]",children:["My Templates (",n.length,")"]}),n.map(i=>s.jsxs("div",{onClick:()=>r(i.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[80px] cursor-pointer hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] border-l-2 transition-colors ${t===i.id?"bg-[var(--panel-2)] border-l-accent":"border-l-transparent"} group`,children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0 ml-4 mr-3",children:s.jsx("div",{className:"items-center bg-accent-muted box-border caret-transparent flex shrink-0 h-12 justify-center w-12 border border-accent/20 rounded-lg",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-12.svg",alt:"Icon",className:`text-accent box-border caret-transparent shrink-0 h-[18px] w-[18px] transition-opacity ${t===i.id?"opacity-100":"group-hover:opacity-100"}`})})}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center py-3 pr-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 my-px",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:i.name,className:`box-border caret-transparent text-ellipsis text-nowrap overflow-hidden ${i.isFeatured?"font-semibold":""}`,children:i.name})}),i.isFeatured&&s.jsx("div",{className:"bg-blue-500 h-1.5 w-1.5 rounded-full ml-1"})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-1",children:[s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent flex items-center gap-2 opacity-80",children:i.category&&s.jsxs("span",{className:"items-center bg-gray-50 inline-flex px-2 py-1 rounded border border-[var(--border)] text-[11px] opacity-90",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/image-1.svg",className:"h-2.5 w-2.5 mr-1 rounded-full",alt:"Category"}),i.category]})}),s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent shrink-0 opacity-70",children:i.fieldCount})]})]})]},i.id))]}):s.jsx("div",{className:"text-[var(--muted)] text-[13px] italic px-4 py-3 border-b border-[var(--border)] opacity-70",children:"No templates created yet."}),a.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[var(--muted)] text-[11px] uppercase tracking-[0.04em] font-medium box-border caret-transparent shrink-0 px-4 py-3 border-b border-[var(--border)] mt-4 bg-gray-50 opacity-[0.85]",children:["All Procedures (",a.length,")"]}),a.map(i=>s.jsxs("div",{onClick:()=>r(i.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[80px] cursor-pointer hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] border-l-2 transition-colors ${t===i.id?"bg-[var(--panel-2)] border-l-accent":"border-l-transparent"} group`,children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0 ml-4 mr-3",children:s.jsx("div",{className:"items-center bg-accent-muted box-border caret-transparent flex shrink-0 h-12 justify-center w-12 border border-accent/20 rounded-lg",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-12.svg",alt:"Icon",className:`text-accent box-border caret-transparent shrink-0 h-[18px] w-[18px] transition-opacity ${t===i.id?"opacity-100":"group-hover:opacity-100"}`})})}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center py-3 pr-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 my-px",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:i.name,className:`box-border caret-transparent text-ellipsis text-nowrap overflow-hidden ${i.isFeatured?"font-semibold":""}`,children:i.name})}),i.isFeatured&&s.jsx("div",{className:"bg-blue-500 h-1.5 w-1.5 rounded-full ml-1"})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-1",children:[s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent flex items-center gap-2 opacity-80",children:i.category&&s.jsxs("span",{className:"items-center bg-gray-50 inline-flex px-2 py-1 rounded border border-[var(--border)] text-[11px] opacity-90",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/image-1.svg",className:"h-2.5 w-2.5 mr-1 rounded-full",alt:"Category"}),i.category]})}),s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent shrink-0 opacity-70",children:i.fieldCount})]})]})]},i.id))]}),e.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-12.svg",alt:"No procedures",className:"h-12 w-12 mb-4 opacity-20"}),s.jsx("p",{className:"text-sm font-medium",children:"No procedures found"}),s.jsx("p",{className:"text-xs",children:"Create a new template to get started"})]})]})]})},DD=({onAddItem:e,onAddSection:t})=>{const r=[{label:"Heading",kind:"Heading"},{label:"Text Block",kind:"TextBlock"},{label:"Text / Notes",kind:"TextInput"},{label:"Number",kind:"NumberInput"},{label:"Multiple Choice",kind:"MultipleChoice"},{label:"Yes / No / N/A",kind:"YesNoNA"},{label:"Inspection (Pass/Flag/Fail)",kind:"Inspection"},{label:"Date",kind:"Date"},{label:"Photo Upload",kind:"Photo"},{label:"File Upload",kind:"File"},{label:"Signature",kind:"Signature"},{label:"Meter Reading",kind:"MeterReading"}];return s.jsxs("div",{className:"bg-white border border-[var(--border)] rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Add Item"}),s.jsx("button",{type:"button",onClick:t,className:"text-blue-500 text-sm font-medium hover:text-blue-400",children:"+ Section"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(n=>s.jsx("button",{type:"button",onClick:()=>e(n.kind),className:"border border-[var(--border)] rounded px-2 py-1 text-xs text-gray-700 hover:border-blue-400 hover:text-blue-500 text-left",children:n.label},n.kind))})]})},TD=({item:e,onChange:t,onRemove:r,onMoveUp:n,onMoveDown:a})=>{const i=s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"border border-[var(--border)] rounded px-2 py-1 text-sm min-w-[200px]",placeholder:e.kind==="Heading"?"Heading text":"Field label",value:e.label||"",onChange:d=>t({label:d.target.value})}),e.kind!=="Heading"&&e.kind!=="TextBlock"&&s.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:!!e.required,onChange:d=>t({required:d.target.checked})}),"Required"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:n,className:"text-xs text-gray-500 hover:text-blue-500",children:""}),s.jsx("button",{type:"button",onClick:a,className:"text-xs text-gray-500 hover:text-blue-500",children:""}),s.jsx("button",{type:"button",onClick:r,className:"text-xs text-red-500 hover:text-red-400",children:"Delete"})]})]}),{meters:l}=Ch(),c=()=>{switch(e.kind){case"TextBlock":return s.jsx("textarea",{className:"w-full border border-[var(--border)] rounded p-2 text-sm min-h-[60px] mt-2",placeholder:"Instructional text...",value:e.text||"",onChange:d=>t({...e,text:d.target.value})});case"TextInput":{const d=e;return s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[s.jsx("input",{className:"border border-[var(--border)] rounded px-2 py-1 text-sm",placeholder:"Placeholder",value:d.placeholder||"",onChange:f=>t({placeholder:f.target.value})}),s.jsxs("label",{className:"text-xs text-gray-600 flex items-center gap-1",children:[s.jsx("input",{type:"checkbox",checked:!!d.multiline,onChange:f=>t({multiline:f.target.checked})})," Multiline"]})]})}case"NumberInput":{const d=e;return s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[s.jsx("input",{className:"border border-[var(--border)] rounded px-2 py-1 text-sm",placeholder:"Unit (e.g., hrs, psi)",value:d.unit||"",onChange:f=>t({unit:f.target.value})}),s.jsx("input",{className:"border border-[var(--border)] rounded px-2 py-1 text-sm",placeholder:"Min",type:"number",value:d.min??"",onChange:f=>t({min:f.target.value===""?void 0:Number(f.target.value)})}),s.jsx("input",{className:"border border-[var(--border)] rounded px-2 py-1 text-sm",placeholder:"Max",type:"number",value:d.max??"",onChange:f=>t({max:f.target.value===""?void 0:Number(f.target.value)})})]})}case"MultipleChoice":{const d=e,f=d.options||[];return s.jsxs("div",{className:"mt-2 space-y-2",children:[f.map((h,m)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[m+1,"."]}),s.jsx("input",{className:"border border-[var(--border)] rounded px-2 py-1 text-sm grow",value:h,onChange:g=>{const p=[...f];p[m]=g.target.value,t({options:p})}}),s.jsx("button",{type:"button",className:"text-xs text-red-500",onClick:()=>t({options:f.filter((g,p)=>p!==m)}),children:"Remove"})]},m)),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"text-xs text-blue-500",onClick:()=>t({options:[...f,`Option ${f.length+1}`]}),children:"+ Option"}),s.jsxs("label",{className:"text-xs text-gray-600 flex items-center gap-1",children:[s.jsx("input",{type:"checkbox",checked:!!d.otherOption,onChange:h=>t({otherOption:h.target.checked})}),' Include "Other"']})]})]})}case"YesNoNA":case"Inspection":case"Date":case"Photo":case"File":case"Signature":return s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"No additional options"});case"MeterReading":{const d=e,f=(l||[]).filter(h=>(h==null?void 0:h.active)!==!1);return s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Meter"}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",value:d.meterId||"",onChange:h=>t({meterId:h.target.value||void 0}),children:[s.jsx("option",{value:"",children:"None"}),f.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Units"}),s.jsx("input",{className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",placeholder:"Units (e.g., kWh)",value:d.unit||"",onChange:h=>t({unit:h.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Allowed Meters (optional)"}),s.jsx("select",{multiple:!0,className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm min-h-[80px]",value:d.allowedMeterIds||[],onChange:h=>{const m=Array.from(h.target.selectedOptions).map(g=>g.value);t({allowedMeterIds:m})},children:f.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"If empty, all active meters will be available when this procedure is used."})]})]})}case"Heading":default:return null}};return s.jsxs("div",{className:"border border-[var(--border)] rounded p-3 bg-white",children:[i,e.helpText!==void 0&&s.jsx("input",{className:"mt-2 w-full border border-[var(--border)] rounded px-2 py-1 text-xs text-gray-600",placeholder:"Help text / notes (optional)",value:e.helpText||"",onChange:d=>t({helpText:d.target.value})}),c()]})},MD=({procedure:e,section:t,index:r,onRename:n,onRemove:a,onMoveUp:i,onMoveDown:l,onAddItem:c,onUpdateItem:d,onRemoveItem:f,onReorderItem:h})=>{const m=(b,w)=>{b.dataTransfer.setData("text/plain",String(w)),b.dataTransfer.effectAllowed="move"},g=(b,w)=>{b.preventDefault();const N=Number(b.dataTransfer.getData("text/plain"));!Number.isNaN(N)&&N!==w&&h(N,w)},p=b=>{b.preventDefault(),b.dataTransfer.dropEffect="move"};return s.jsxs("div",{className:"border border-[var(--border)] rounded-lg overflow-hidden mb-4 bg-white",children:[s.jsxs("div",{className:"px-4 py-3 bg-gray-50 flex items-center justify-between border-b border-[var(--border)]",children:[s.jsxs("div",{className:"flex items-center gap-3 grow",children:[s.jsxs("span",{className:"text-[11px] font-bold text-slate-400 tracking-wider whitespace-nowrap bg-slate-200/50 px-1.5 py-0.5 rounded",children:["SECTION ",r+1]}),s.jsx("input",{className:"font-semibold text-sm text-gray-800 uppercase tracking-tight bg-transparent outline-none w-full placeholder:text-gray-300 border-b border-transparent focus:border-blue-500 transition-colors",placeholder:"UNTITLED SECTION",value:t.title,onChange:b=>n(b.target.value)})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("button",{type:"button",onClick:b=>i(b),className:"p-1 rounded hover:bg-gray-200 text-gray-500 hover:text-blue-500 transition-colors",title:"Move Up",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"m18 15-6-6-6 6"})})}),s.jsx("button",{type:"button",onClick:b=>l(b),className:"p-1 rounded hover:bg-gray-200 text-gray-500 hover:text-blue-500 transition-colors",title:"Move Down",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"m6 9 6 6 6-6"})})}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx("button",{type:"button",onClick:b=>a(b),className:"p-1 rounded hover:bg-red-50 text-red-500 hover:text-red-600 transition-colors",title:"Delete Section",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),s.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),s.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),s.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})]})]}),s.jsxs("div",{className:"p-3 space-y-2",children:[t.items.map((b,w)=>s.jsx("div",{draggable:!0,onDragStart:N=>m(N,w),onDrop:N=>g(N,w),onDragOver:p,className:"rounded border border-transparent hover:border-blue-200",children:s.jsx(TD,{item:b,onChange:N=>d(b.id,N),onRemove:()=>f(b.id),onMoveUp:()=>h(w,Math.max(0,w-1)),onMoveDown:()=>h(w,Math.min(t.items.length-1,w+1))})},b.id)),s.jsx("div",{className:"pt-2",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:["Heading","TextBlock","TextInput","NumberInput","MultipleChoice","YesNoNA","Inspection","Date","Photo","File","Signature","MeterReading"].map(b=>s.jsxs("button",{type:"button",onClick:()=>c(b),className:"text-xs border border-[var(--border)] rounded px-2 py-1 text-gray-700 hover:border-blue-400 hover:text-blue-500",children:["+ ",b]},b))})})]})]})},S0=({isOpen:e,title:t,message:r,confirmLabel:n="Confirm",cancelLabel:a="Cancel",showCancel:i=!0,onConfirm:l,onCancel:c,variant:d="primary"})=>e?s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50",onClick:c,children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",onClick:f=>f.stopPropagation(),children:[s.jsx("div",{className:"px-6 py-4 border-b border-[var(--border)]",children:s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t})}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("p",{className:"text-sm text-gray-600",children:r})}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[i&&s.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-[var(--border)] rounded-md hover:bg-gray-50 transition-colors",children:a}),s.jsx("button",{type:"button",onClick:l,className:`px-4 py-2 text-sm font-medium text-white rounded-md transition-colors ${d==="danger"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:n})]})]})}):null,RD=({procedureId:e,onDelete:t})=>{var I;const{procedures:r,getProcedureById:n,saveProcedure:a}=Ph(),i=P.useMemo(()=>e?r.find(M=>M.id===e)??n(e):void 0,[e,r,n]),[l,c]=P.useState(void 0),[d,f]=P.useState(null),[h,m]=P.useState(!1),[g,p]=P.useState(!1);if(P.useEffect(()=>{c(i?JSON.parse(JSON.stringify(i)):void 0)},[i]),!e||!l)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-gray-500",children:"Select or create a procedure to start building"})})});const b=M=>M.sections.reduce((F,R)=>F+R.items.filter(U=>!["Heading","TextBlock"].includes(U.kind)).length,0),w=M=>{c(F=>{if(!F)return F;const R=typeof M=="function"?M(F):{...F,...M};return R.meta.fieldCount=b(R),R})},N=(M,F)=>{var U;const R=F||d||((U=l.sections[0])==null?void 0:U.id);R&&(w(B=>({...B,sections:B.sections.map(Y=>{if(Y.id!==R)return Y;const C={id:crypto.randomUUID(),kind:M,label:M,required:!1,orderIndex:Y.items.length,...M==="MultipleChoice"?{options:["Option 1","Option 2"]}:{},...M==="TextInput"?{placeholder:"Enter text"}:{}};return{...Y,items:[...Y.items,C]}})})),R!==d&&f(R))},k=()=>{w(M=>({...M,sections:[...M.sections,{id:crypto.randomUUID(),title:`Section ${M.sections.length+1}`,items:[],orderIndex:M.sections.length}]}))},L=()=>{l&&(a(l),p(!0))},E=((I=l.meta)==null?void 0:I.fieldCount)??0;return s.jsxs("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2",children:[s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-hidden w-full",children:[s.jsxs("header",{className:"box-border caret-transparent shrink-0 px-4 py-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap justify-between gap-y-2 mb-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-2 flex gap-y-2 w-full",children:s.jsx("input",{className:"text-xl font-medium box-border caret-transparent tracking-[-0.2px] w-full border-b border-transparent focus:border-accent outline-none",placeholder:"Enter Procedure Name",value:l.name,onChange:M=>w({name:M.target.value})})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsxs("div",{className:"text-xs text-gray-500 mr-2",children:["Fields count: ",E,"/350"]}),s.jsx("button",{type:"button",onClick:()=>m(!0),className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-red-500 px-3 rounded text-red-500 hover:text-red-400 hover:border-red-400 mr-2",children:"Delete Procedure"}),s.jsx("button",{type:"button",onClick:L,className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:text-accent-hover hover:border-accent-hover",children:"Save to Procedure Library"})]})]}),s.jsx("textarea",{className:"w-full border border-[var(--border)] rounded p-2 text-sm min-h-[60px]",placeholder:"Description (optional)",value:l.description||"",onChange:M=>w({description:M.target.value})})]}),s.jsxs("div",{className:"relative box-border caret-transparent flex flex-row grow scroll-smooth overflow-auto scroll-pt-4 px-6 py-4 gap-4",children:[s.jsx("div",{className:"basis-[70%] max-w-[816px] mr-4",children:l.sections.map((M,F)=>s.jsx("div",{onClick:()=>f(M.id),className:`transition-colors duration-200 rounded-lg mb-4 ${d===M.id?"ring-2 ring-accent":""}`,children:s.jsx(MD,{procedure:l,section:M,index:F,onRename:R=>w(U=>({...U,sections:U.sections.map(B=>B.id===M.id?{...B,title:R}:B)})),onRemove:R=>{var U;if(R==null||R.stopPropagation(),w(B=>({...B,sections:B.sections.filter(Y=>Y.id!==M.id).map((Y,C)=>({...Y,orderIndex:C}))})),d===M.id){const B=l.sections.filter(Y=>Y.id!==M.id);f(((U=B[0])==null?void 0:U.id)??null)}},onMoveUp:R=>{R==null||R.stopPropagation(),w(U=>{const B=[...U.sections],Y=Math.max(0,F-1),[C]=B.splice(F,1);return B.splice(Y,0,C),{...U,sections:B.map((T,H)=>({...T,orderIndex:H}))}})},onMoveDown:R=>{R==null||R.stopPropagation(),w(U=>{const B=[...U.sections],Y=Math.min(B.length-1,F+1),[C]=B.splice(F,1);return B.splice(Y,0,C),{...U,sections:B.map((T,H)=>({...T,orderIndex:H}))}})},onAddItem:R=>N(R,M.id),onUpdateItem:(R,U)=>w(B=>({...B,sections:B.sections.map(Y=>Y.id!==M.id?Y:{...Y,items:Y.items.map(C=>C.id===R?{...C,...U}:C)})})),onRemoveItem:R=>w(U=>({...U,sections:U.sections.map(B=>B.id!==M.id?B:{...B,items:B.items.filter(Y=>Y.id!==R).map((Y,C)=>({...Y,orderIndex:C}))})})),onReorderItem:(R,U)=>w(B=>({...B,sections:B.sections.map(Y=>{if(Y.id!==M.id)return Y;const C=[...Y.items],[T]=C.splice(R,1);return C.splice(U,0,T),{...Y,items:C.map((H,V)=>({...H,orderIndex:V}))}})}))})},M.id))}),s.jsx("div",{className:"basis-[30%] min-w-[260px]",children:s.jsx(DD,{onAddItem:N,onAddSection:k})})]})]})}),s.jsx(S0,{isOpen:h,title:"Delete Procedure",message:`Are you sure you want to delete "${l.name}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{t==null||t(l.id),m(!1)},onCancel:()=>m(!1)}),s.jsx(S0,{isOpen:g,title:"Procedure Saved",message:`"${l.name}" has been saved successfully to the library.`,confirmLabel:"OK",showCancel:!1,onConfirm:()=>p(!1),onCancel:()=>p(!1)})]})},FD=()=>{const{addProcedure:e,deleteProcedure:t,search:r,procedures:n}=Ph(),[a,i]=P.useState(null),[l,c]=P.useState(""),d=P.useMemo(()=>r(l),[r,l]),f=()=>{const g=e("Untitled Procedure");i(g.id)},h=g=>{const p=[...n].sort((N,k)=>N.name.localeCompare(k.name)),b=p.findIndex(N=>N.id===g);t(g);const w=p.filter(N=>N.id!==g);if(w.length>0){const N=Math.min(b,w.length-1);i(w[N].id)}else i(null)},m=d.map(g=>({id:g.id,name:g.name,fieldCount:`${g.meta.fieldCount} ${g.meta.fieldCount===1?"field":"fields"}`,category:"",isMyTemplate:!0,isFeatured:g.meta.fieldCount>0}));return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Procedure Library"})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow max-w-[400px]",children:s.jsx("form",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsx("input",{type:"search",placeholder:"Search Procedure Templates",value:l,onChange:g=>c(g.target.value),className:"bg-[var(--panel-2)] bg-[url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2711%27%20height=%2712%27%3E%3Cg%20fill=%27none%27%20fill-rule=%27evenodd%27%20stroke=%27%23868686%27%20stroke-width=%271.25%27%20transform=%27translate%281%201.5)] bg-no-repeat box-border caret-transparent shrink-0 leading-5 min-h-10 -outline-offset-2 w-full border border-[var(--border)] bg-[position:10px_50%] pl-[30px] pr-2 py-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid"})})}),s.jsxs("button",{type:"button",onClick:f,className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:bg-accent-hover hover:border-accent-hover",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-22.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"}),s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"New Procedure Template"})]})]})]})}),s.jsx("div",{className:"box-border caret-transparent shrink-0 px-4 py-3",children:s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow gap-x-2"})})}),s.jsxs("div",{className:"relative box-border caret-transparent flex basis-[0%] grow mx-4",children:[s.jsx(LD,{procedures:m,selectedProcedureId:a,onSelectProcedure:i}),s.jsx(RD,{procedureId:a,onDelete:h})]})]})},zD=({meters:e,selectedMeterId:t,onSelectMeter:r})=>s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex flex-col shrink-0 max-w-[500px] min-w-[300px] w-2/5 border border-[var(--border)] mr-4 rounded-tl rounded-tr border-solid",children:[s.jsx("div",{className:"relative items-center border-b-zinc-200 border-l-neutral-800 border-r-neutral-800 border-t-neutral-800 box-border caret-transparent flex shrink-0 h-12 justify-between z-[1] border-b",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow p-3",children:s.jsx("div",{className:"relative text-[12.6px] box-border caret-transparent flex basis-[0%] grow leading-[15.12px] opacity-[0.85]",children:s.jsx("div",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsxs("button",{type:"button",className:"text-gray-600 text-sm items-center bg-transparent caret-transparent flex shrink-0 leading-[16.8px] max-w-full text-center font-medium",children:["Sort By:",s.jsxs("div",{className:"text-blue-500 items-center box-border caret-transparent flex basis-[0%] grow stroke-blue-500 font-medium",children:[s.jsxs("span",{className:"box-border caret-transparent block basis-[0%] grow stroke-blue-500 text-ellipsis text-nowrap overflow-hidden ml-1",children:[s.jsx("span",{className:"font-medium box-border caret-transparent shrink-0 stroke-blue-500 text-nowrap",children:"Name"}),": Ascending Order"]}),s.jsx("div",{className:"box-border caret-transparent shrink-0 stroke-blue-500 ml-1 mb-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-27.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-[5px] w-2 -scale-100"})})]})]})})})})}),s.jsx("div",{className:"relative box-border caret-transparent basis-[0%] grow overflow-x-hidden overflow-y-auto pb-8 rounded-bl rounded-br rounded-tl rounded-tr",children:e.map(n=>s.jsxs("div",{onClick:()=>r(n.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[98px] cursor-pointer hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] border-l-2 transition-colors ${t===n.id?"bg-[var(--panel-2)] border-l-[var(--accent)]":"border-l-transparent"} group`,children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0 ml-4 mr-3 rounded-lg",children:s.jsx("div",{className:"items-center bg-white box-border caret-transparent flex shrink-0 h-12 justify-center w-12 border border-[var(--border)] rounded-full",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-13.svg",alt:"Icon",className:`text-slate-500 box-border caret-transparent shrink-0 h-[18px] w-[18px] transition-opacity ${t===n.id?"opacity-100":"group-hover:opacity-100"}`})})}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center py-3 pr-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 my-px",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:n.name,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:n.name})})}),s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-1",children:s.jsxs("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent flex items-center gap-1 opacity-80",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-7.svg",alt:"Icon",className:"text-slate-500 box-border caret-transparent shrink-0 h-3.5 w-3.5"}),n.assetName]})}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-px",children:[s.jsxs("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent flex items-center gap-1 opacity-80",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:"text-slate-500 box-border caret-transparent shrink-0 h-3.5 w-3.5"}),n.locationName]}),s.jsxs("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent shrink-0 opacity-70",children:["Last Reading: ",n.lastReading]})]})]})]},n.id))})]});function X6(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=X6(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=X6(e))&&(n&&(n+=" "),n+=t);return n}var BD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function o2(e){if(typeof e!="string")return!1;var t=BD;return t.includes(e)}var UD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qD=new Set(UD);function Z6(e){return typeof e!="string"?!1:qD.has(e)}function Q6(e){return typeof e=="string"&&e.startsWith("data-")}function Eo(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Z6(r)||Q6(r))&&(t[r]=e[r]);return t}function Sm(e){if(e==null)return null;if(P.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Eo(t)}return typeof e=="object"&&!Array.isArray(e)?Eo(e):null}function Za(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Z6(r)||Q6(r)||o2(r))&&(t[r]=e[r]);return t}function $D(e){return e==null?null:P.isValidElement(e)?Za(e.props):typeof e=="object"&&!Array.isArray(e)?Za(e):null}var WD=["children","width","height","viewBox","className","style","title","desc"];function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(null,arguments)}function HD(e,t){if(e==null)return{};var r,n,a=VD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J6=P.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:c,title:d,desc:f}=e,h=HD(e,WD),m=i||{width:n,height:a,x:0,y:0},g=Pr("recharts-surface",l);return P.createElement("svg",e1({},Za(h),{className:g,width:n,height:a,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),P.createElement("title",null,d),P.createElement("desc",null,f),r)}),KD=["children","className"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(null,arguments)}function GD(e,t){if(e==null)return{};var r,n,a=YD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mc=P.forwardRef((e,t)=>{var{children:r,className:n}=e,a=GD(e,KD),i=Pr("recharts-layer",n);return P.createElement("g",t1({className:i},Za(a),{ref:t}),r)}),eA=PS(),XD=P.createContext(null);function Lr(e){return function(){return e}}const tA=Math.cos,A0=Math.sin,Zs=Math.sqrt,P0=Math.PI,Am=2*P0,r1=Math.PI,n1=2*r1,yu=1e-6,ZD=n1-yu;function rA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function QD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class JD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rA:QD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,d=n-t,f=a-r,h=l-t,m=c-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>yu)if(!(Math.abs(m*d-f*h)>yu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-l,b=a-c,w=d*d+f*f,N=p*p+b*b,k=Math.sqrt(w),L=Math.sqrt(g),E=i*Math.tan((r1-Math.acos((w+g-N)/(2*k*L)))/2),I=E/L,M=E/k;Math.abs(I-1)>yu&&this._append`L${t+I*h},${r+I*m}`,this._append`A${i},${i},0,0,${+(m*p>h*b)},${this._x1=t+M*d},${this._y1=r+M*f}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,h=r+d,m=1^l,g=l?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>yu||Math.abs(this._y1-h)>yu)&&this._append`L${f},${h}`,n&&(g<0&&(g=g%n1+n1),g>ZD?this._append`A${n},${n},0,1,${m},${t-c},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:g>yu&&this._append`A${n},${n},0,${+(g>=r1)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function l2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new JD(t)}function c2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nA(e){this._context=e}nA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pm(e){return new nA(e)}function aA(e){return e[0]}function iA(e){return e[1]}function sA(e,t){var r=Lr(!0),n=null,a=Pm,i=null,l=l2(c);e=typeof e=="function"?e:e===void 0?aA:Lr(e),t=typeof t=="function"?t:t===void 0?iA:Lr(t);function c(d){var f,h=(d=c2(d)).length,m,g=!1,p;for(n==null&&(i=a(p=l())),f=0;f<=h;++f)!(f<h&&r(m=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,d),+t(m,f,d));if(p)return i=null,p+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Lr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Lr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Lr(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function $p(e,t,r){var n=null,a=Lr(!0),i=null,l=Pm,c=null,d=l2(f);e=typeof e=="function"?e:e===void 0?aA:Lr(+e),t=typeof t=="function"?t:Lr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?iA:Lr(+r);function f(m){var g,p,b,w=(m=c2(m)).length,N,k=!1,L,E=new Array(w),I=new Array(w);for(i==null&&(c=l(L=d())),g=0;g<=w;++g){if(!(g<w&&a(N=m[g],g,m))===k)if(k=!k)p=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=p;--b)c.point(E[b],I[b]);c.lineEnd(),c.areaEnd()}k&&(E[g]=+e(N,g,m),I[g]=+t(N,g,m),c.point(n?+n(N,g,m):E[g],r?+r(N,g,m):I[g]))}if(L)return c=null,L+""||null}function h(){return sA().defined(a).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Lr(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Lr(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Lr(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Lr(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Lr(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Lr(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Lr(!!m),f):a},f.curve=function(m){return arguments.length?(l=m,i!=null&&(c=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=c=null:c=l(i=m),f):i},f}class oA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function eT(e){return new oA(e,!0)}function tT(e){return new oA(e,!1)}const u2={draw(e,t){const r=Zs(t/P0);e.moveTo(r,0),e.arc(0,0,r,0,Am)}},rT={draw(e,t){const r=Zs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lA=Zs(1/3),nT=lA*2,aT={draw(e,t){const r=Zs(t/nT),n=r*lA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},iT={draw(e,t){const r=Zs(t),n=-r/2;e.rect(n,n,r,r)}},sT=.8908130915292852,cA=A0(P0/10)/A0(7*P0/10),oT=A0(Am/10)*cA,lT=-tA(Am/10)*cA,cT={draw(e,t){const r=Zs(t*sT),n=oT*r,a=lT*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=Am*i/5,c=tA(l),d=A0(l);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},Hg=Zs(3),uT={draw(e,t){const r=-Zs(t/(Hg*3));e.moveTo(0,r*2),e.lineTo(-Hg*r,-r),e.lineTo(Hg*r,-r),e.closePath()}},us=-.5,ds=Zs(3)/2,a1=1/Zs(12),dT=(a1/2+1)*3,fT={draw(e,t){const r=Zs(t/dT),n=r/2,a=r*a1,i=n,l=r*a1+r,c=-i,d=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(c,d),e.lineTo(us*n-ds*a,ds*n+us*a),e.lineTo(us*i-ds*l,ds*i+us*l),e.lineTo(us*c-ds*d,ds*c+us*d),e.lineTo(us*n+ds*a,us*a-ds*n),e.lineTo(us*i+ds*l,us*l-ds*i),e.lineTo(us*c+ds*d,us*d-ds*c),e.closePath()}};function hT(e,t){let r=null,n=l2(a);e=typeof e=="function"?e:Lr(e||u2),t=typeof t=="function"?t:Lr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Lr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Lr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function C0(){}function _0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uA(e){this._context=e}uA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pT(e){return new uA(e)}function dA(e){this._context=e}dA.prototype={areaStart:C0,areaEnd:C0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mT(e){return new dA(e)}function fA(e){this._context=e}fA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vT(e){return new fA(e)}function hA(e){this._context=e}hA.prototype={areaStart:C0,areaEnd:C0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function gT(e){return new hA(e)}function BN(e){return e<0?-1:1}function UN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),c=(i*a+l*n)/(n+a);return(BN(i)+BN(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function qN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Vg(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,l-c*r,i,l)}function O0(e){this._context=e}O0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vg(this,this._t0,qN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vg(this,qN(this,r=UN(this,e,t)),r);break;default:Vg(this,this._t0,r=UN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pA(e){this._context=new mA(e)}(pA.prototype=Object.create(O0.prototype)).point=function(e,t){O0.prototype.point.call(this,t,e)};function mA(e){this._context=e}mA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function xT(e){return new O0(e)}function bT(e){return new pA(e)}function vA(e){this._context=e}vA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$N(e),a=$N(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $N(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function yT(e){return new vA(e)}function Cm(e,t){this._context=e,this._t=t}Cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wT(e){return new Cm(e,.5)}function NT(e){return new Cm(e,0)}function jT(e){return new Cm(e,1)}function Mu(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,c=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function i1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kT(e,t){return e[t]}function ST(e){const t=[];return t.key=e,t}function AT(){var e=Lr([]),t=i1,r=Mu,n=kT;function a(i){var l=Array.from(e.apply(this,arguments),ST),c,d=l.length,f=-1,h;for(const m of i)for(c=0,++f;c<d;++c)(l[c][f]=[0,+n(m,l[c].key,f,i)]).data=m;for(c=0,h=c2(t(l));c<d;++c)l[h[c]].index=c;return r(l,h),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Lr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Lr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?i1:typeof i=="function"?i:Lr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Mu,a):r},a}function PT(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Mu(e,t)}}function CT(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,c=0;l<a;++l)c+=e[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}Mu(e,t)}}function _T(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var c=0,d=0,f=0;c<l;++c){for(var h=e[t[c]],m=h[n][1]||0,g=h[n-1][1]||0,p=(m-g)/2,b=0;b<c;++b){var w=e[t[b]],N=w[n][1]||0,k=w[n-1][1]||0;p+=N-k}d+=m,f+=p*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Mu(e,t)}}var Kg={},Gg={},WN;function OT(){return WN||(WN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(Gg)),Gg}var Yg={},HN;function gA(){return HN||(HN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(Yg)),Yg}var Xg={},VN;function d2(){return VN||(VN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(Xg)),Xg}var Zg={},Qg={},KN;function IT(){return KN||(KN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t}(Qg)),Qg}var GN;function f2(){return GN||(GN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),r=d2();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let c=0,d="",f="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),c++);c<l;){const m=a[c];f?m==="\\"&&c+1<l?(c++,d+=a[c]):m===f?f="":d+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,i.push(d),d=""):d+=m:m==="["?(h=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,c++}return d&&i.push(d),i}e.toPath=n}(Zg)),Zg}var YN;function h2(){return YN||(YN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OT(),r=gA(),n=d2(),a=f2();function i(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?r.isDeepKey(d)?i(c,a.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=c[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?f:h}}}function l(c,d,f){if(d.length===0)return f;let h=c;for(let m=0;m<d.length;m++){if(h==null||t.isUnsafeProperty(d[m]))return f;h=h[d[m]]}return h===void 0?f:h}e.get=i}(Kg)),Kg}var Jg,XN;function ET(){return XN||(XN=1,Jg=h2().get),Jg}var LT=ET();const _m=Mo(LT);var DT=4;function Ec(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DT,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function xn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,l)=>{var c=r[l-1];return typeof c=="string"?a+c+i:c!==void 0?a+Ec(c)+i:a+i},"")}var hs=e=>e===0?0:e>0?1:-1,Ol=e=>typeof e=="number"&&e!=+e,Ru=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,gt=e=>(typeof e=="number"||e instanceof Number)&&!Ol(e),Lo=e=>gt(e)||typeof e=="string",TT=0,ch=e=>{var t=++TT;return"".concat(e||"").concat(t)},Rc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gt(t)&&typeof t!="string")return n;var i;if(Ru(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Ol(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},xA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function xi(e,t,r){return gt(e)&&gt(t)?Ec(e+r*(t-e)):t}function bA(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):_m(n,t))===r)}var ga=e=>e===null||typeof e>"u",Lh=e=>ga(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function bi(e){return e!=null}function Zd(){}var MT=["type","size","sizeType"];function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(null,arguments)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){RT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RT(e,t,r){return(t=FT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FT(e){var t=zT(e,"string");return typeof t=="symbol"?t:t+""}function zT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BT(e,t){if(e==null)return{};var r,n,a=UT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yA={symbolCircle:u2,symbolCross:rT,symbolDiamond:aT,symbolSquare:iT,symbolStar:cT,symbolTriangle:uT,symbolWye:fT},qT=Math.PI/180,$T=e=>{var t="symbol".concat(Lh(e));return yA[t]||u2},WT=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*qT;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},HT=(e,t)=>{yA["symbol".concat(Lh(e))]=t},wA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=BT(e,MT),i=QN(QN({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var c=()=>{var g=$T(l),p=hT().type(g).size(WT(r,n,l)),b=p();if(b!==null)return b},{className:d,cx:f,cy:h}=i,m=Za(i);return gt(f)&&gt(h)&&gt(r)?P.createElement("path",s1({},m,{className:Pr("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:c()})):null};wA.registerSymbol=HT;var NA=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,p2=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{o2(a)&&(n[a]=i=>r[a](r,i))}),n},VT=(e,t,r)=>n=>(e(t,r,n),null),KT=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];o2(a)&&typeof i=="function"&&(n||(n={}),n[a]=VT(i,t,r))}),n};function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){YT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YT(e,t,r){return(t=XT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XT(e){var t=ZT(e,"string");return typeof t=="symbol"?t:t+""}function ZT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(e,t){var r=GT({},e),n=t,a=Object.keys(t),i=a.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return i}var ex={},tx={},ej;function QT(){return ej||(ej=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],c=n(l,i,r);a.has(c)||a.set(c,l)}return Array.from(a.values())}e.uniqBy=t}(tx)),tx}var rx={},tj;function JT(){return tj||(tj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t}(rx)),rx}var nx={},rj;function jA(){return rj||(rj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(nx)),nx}var ax={},ix={},sx={},nj;function eM(){return nj||(nj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(sx)),sx}var aj;function m2(){return aj||(aj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(ix)),ix}var ox={},ij;function tM(){return ij||(ij=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(ox)),ox}var sj;function rM(){return sj||(sj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2(),r=tM();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n}(ax)),ax}var lx={},cx={},oj;function nM(){return oj||(oj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h2();function r(n){return function(a){return t.get(a,n)}}e.property=r}(cx)),cx}var ux={},dx={},fx={},hx={},lj;function kA(){return lj||(lj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(hx)),hx}var px={},cj;function SA(){return cj||(cj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(px)),px}var mx={},uj;function AA(){return uj||(uj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t}(mx)),mx}var dj;function aM(){return dj||(dj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kA(),r=SA(),n=AA();function a(h,m,g){return typeof g!="function"?a(h,m,()=>{}):i(h,m,function p(b,w,N,k,L,E){const I=g(b,w,N,k,L,E);return I!==void 0?!!I:i(b,w,p,E)},new Map)}function i(h,m,g,p){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,p);case"function":return Object.keys(m).length>0?i(h,{...m},g,p):n.isEqualsSameValueZero(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:n.isEqualsSameValueZero(h,m)}}function l(h,m,g,p){if(m==null)return!0;if(Array.isArray(m))return d(h,m,g,p);if(m instanceof Map)return c(h,m,g,p);if(m instanceof Set)return f(h,m,g,p);const b=Object.keys(m);if(h==null||r.isPrimitive(h))return b.length===0;if(b.length===0)return!0;if(p!=null&&p.has(m))return p.get(m)===h;p==null||p.set(m,h);try{for(let w=0;w<b.length;w++){const N=b[w];if(!r.isPrimitive(h)&&!(N in h)||m[N]===void 0&&h[N]!==void 0||m[N]===null&&h[N]!==null||!g(h[N],m[N],N,h,m,p))return!1}return!0}finally{p==null||p.delete(m)}}function c(h,m,g,p){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,w]of m.entries()){const N=h.get(b);if(g(N,w,b,h,m,p)===!1)return!1}return!0}function d(h,m,g,p){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let w=0;w<m.length;w++){const N=m[w];let k=!1;for(let L=0;L<h.length;L++){if(b.has(L))continue;const E=h[L];let I=!1;if(g(E,N,w,h,m,p)&&(I=!0),I){b.add(L),k=!0;break}}if(!k)return!1}return!0}function f(h,m,g,p){return m.size===0?!0:h instanceof Set?d([...h],[...m],g,p):!1}e.isMatchWith=a,e.isSetMatch=f}(fx)),fx}var fj;function PA(){return fj||(fj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(dx)),dx}var vx={},gx={},xx={},hj;function iM(){return hj||(hj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(xx)),xx}var bx={},pj;function v2(){return pj||(pj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(bx)),bx}var yx={},mj;function CA(){return mj||(mj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",p="[object Object]",b="[object Error]",w="[object DataView]",N="[object Uint8Array]",k="[object Uint8ClampedArray]",L="[object Uint16Array]",E="[object Uint32Array]",I="[object BigUint64Array]",M="[object Int8Array]",F="[object Int16Array]",R="[object Int32Array]",U="[object BigInt64Array]",B="[object Float32Array]",Y="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=I,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=Y,e.functionTag=m,e.int16ArrayTag=F,e.int32ArrayTag=R,e.int8ArrayTag=M,e.mapTag=d,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=L,e.uint32ArrayTag=E,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=k}(yx)),yx}var wx={},vj;function sM(){return vj||(vj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(wx)),wx}var gj;function _A(){return gj||(gj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM(),r=v2(),n=CA(),a=SA(),i=sM();function l(h,m){return c(h,void 0,h,new Map,m)}function c(h,m,g,p=new Map,b=void 0){const w=b==null?void 0:b(h,m,g,p);if(w!==void 0)return w;if(a.isPrimitive(h))return h;if(p.has(h))return p.get(h);if(Array.isArray(h)){const N=new Array(h.length);p.set(h,N);for(let k=0;k<h.length;k++)N[k]=c(h[k],k,g,p,b);return Object.hasOwn(h,"index")&&(N.index=h.index),Object.hasOwn(h,"input")&&(N.input=h.input),N}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const N=new RegExp(h.source,h.flags);return N.lastIndex=h.lastIndex,N}if(h instanceof Map){const N=new Map;p.set(h,N);for(const[k,L]of h)N.set(k,c(L,k,g,p,b));return N}if(h instanceof Set){const N=new Set;p.set(h,N);for(const k of h)N.add(c(k,void 0,g,p,b));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const N=new(Object.getPrototypeOf(h)).constructor(h.length);p.set(h,N);for(let k=0;k<h.length;k++)N[k]=c(h[k],k,g,p,b);return N}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const N=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return p.set(h,N),d(N,h,g,p,b),N}if(typeof File<"u"&&h instanceof File){const N=new File([h],h.name,{type:h.type});return p.set(h,N),d(N,h,g,p,b),N}if(typeof Blob<"u"&&h instanceof Blob){const N=new Blob([h],{type:h.type});return p.set(h,N),d(N,h,g,p,b),N}if(h instanceof Error){const N=new h.constructor;return p.set(h,N),N.message=h.message,N.name=h.name,N.stack=h.stack,N.cause=h.cause,d(N,h,g,p,b),N}if(h instanceof Boolean){const N=new Boolean(h.valueOf());return p.set(h,N),d(N,h,g,p,b),N}if(h instanceof Number){const N=new Number(h.valueOf());return p.set(h,N),d(N,h,g,p,b),N}if(h instanceof String){const N=new String(h.valueOf());return p.set(h,N),d(N,h,g,p,b),N}if(typeof h=="object"&&f(h)){const N=Object.create(Object.getPrototypeOf(h));return p.set(h,N),d(N,h,g,p,b),N}return h}function d(h,m,g=h,p,b){const w=[...Object.keys(m),...t.getSymbols(m)];for(let N=0;N<w.length;N++){const k=w[N],L=Object.getOwnPropertyDescriptor(h,k);(L==null||L.writable)&&(h[k]=c(m[k],k,g,p,b))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=d}(gx)),gx}var xj;function oM(){return xj||(xj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_A();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(vx)),vx}var bj;function lM(){return bj||(bj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PA(),r=oM();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n}(ux)),ux}var Nx={},jx={},kx={},yj;function cM(){return yj||(yj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_A(),r=v2(),n=CA();function a(i,l){return t.cloneDeepWith(i,(c,d,f,h)=>{const m=l==null?void 0:l(c,d,f,h);if(m!==void 0)return m;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const g={};return h.set(i,g),t.copyProperties(g,i,f,h),g}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}}})}e.cloneDeepWith=a}(kx)),kx}var wj;function uM(){return wj||(wj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(jx)),jx}var Sx={},Ax={},Nj;function OA(){return Nj||(Nj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(Ax)),Ax}var Px={},jj;function dM(){return jj||(jj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v2();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(Px)),Px}var kj;function fM(){return kj||(kj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gA(),r=OA(),n=dM(),a=f2();function i(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&(l==null?void 0:l[c])==null?d=a.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const m=d[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=i}(Sx)),Sx}var Sj;function hM(){return Sj||(Sj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PA(),r=d2(),n=uM(),a=h2(),i=fM();function l(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(f){const h=a.get(f,c);return h===void 0?i.has(f,c):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l}(Nx)),Nx}var Aj;function pM(){return Aj||(Aj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jA(),r=nM(),n=lM(),a=hM();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i}(lx)),lx}var Pj;function mM(){return Pj||(Pj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QT(),r=JT(),n=jA(),a=rM(),i=pM();function l(c,d=n.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),r.ary(i.iteratee(d),1)):[]}e.uniqBy=l}(ex)),ex}var Cx,Cj;function vM(){return Cj||(Cj=1,Cx=mM().uniqBy),Cx}var gM=vM();const _j=Mo(gM);function xM(e,t,r){return t===!0?_j(e,r):typeof t=="function"?_j(e,t):e}var _x={exports:{}},Ox={},Ix={exports:{}},Ex={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj;function bM(){if(Oj)return Ex;Oj=1;var e=Yd();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(m,g){var p=g(),b=n({inst:{value:p,getSnapshot:g}}),w=b[0].inst,N=b[1];return i(function(){w.value=p,w.getSnapshot=g,d(w)&&N({inst:w})},[m,p,g]),a(function(){return d(w)&&N({inst:w}),m(function(){d(w)&&N({inst:w})})},[m]),l(p),p}function d(m){var g=m.getSnapshot;m=m.value;try{var p=g();return!r(m,p)}catch{return!0}}function f(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Ex.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ex}var Ij;function yM(){return Ij||(Ij=1,Ix.exports=bM()),Ix.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function wM(){if(Ej)return Ox;Ej=1;var e=Yd(),t=yM();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Ox.useSyncExternalStoreWithSelector=function(f,h,m,g,p){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function k(F){if(!L){if(L=!0,E=F,F=g(F),p!==void 0&&w.hasValue){var R=w.value;if(p(R,F))return I=R}return I=F}if(R=I,n(E,F))return R;var U=g(F);return p!==void 0&&p(R,U)?(E=F,R):(E=F,I=U)}var L=!1,E,I,M=m===void 0?null:m;return[function(){return k(h())},M===null?void 0:function(){return k(M())}]},[h,m,g,p]);var N=a(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=N},[N]),d(N),N},Ox}var Lj;function NM(){return Lj||(Lj=1,_x.exports=wM()),_x.exports}var jM=NM(),g2=P.createContext(null),kM=e=>e,aa=()=>{var e=P.useContext(g2);return e?e.store.dispatch:kM},d0=()=>{},SM=()=>d0,AM=(e,t)=>e===t;function kt(e){var t=P.useContext(g2),r=P.useMemo(()=>t?n=>{if(n!=null)return e(n)}:d0,[t,e]);return jM.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:SM,t?t.store.getState:d0,t?t.store.getState:d0,r,AM)}function PM(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function CM(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _M(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Dj=e=>Array.isArray(e)?e:[e];function OM(e){const t=Array.isArray(e[0])?e[0]:e;return _M(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function IM(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var EM=class{constructor(e){this.value=e}deref(){return this.value}},LM=typeof WeakRef<"u"?WeakRef:EM,DM=0,Tj=1;function Wp(){return{s:DM,v:void 0,o:null,p:null}}function IA(e,t={}){let r=Wp();const{resultEqualityCheck:n}=t;let a,i=0;function l(){var m;let c=r;const{length:d}=arguments;for(let g=0,p=d;g<p;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const N=w.get(b);N===void 0?(c=Wp(),w.set(b,c)):c=N}else{let w=c.p;w===null&&(c.p=w=new Map);const N=w.get(b);N===void 0?(c=Wp(),w.set(b,c)):c=N}}const f=c;let h;if(c.s===Tj)h=c.v;else if(h=e.apply(null,arguments),i++,n){const g=((m=a==null?void 0:a.deref)==null?void 0:m.call(a))??a;g!=null&&n(g,h)&&(h=g,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new LM(h):h}return f.s=Tj,f.v=h,h}return l.clearCache=()=>{r=Wp(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function TM(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,c,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),PM(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...d},{memoize:m,memoizeOptions:g=[],argsMemoize:p=IA,argsMemoizeOptions:b=[]}=h,w=Dj(g),N=Dj(b),k=OM(a),L=m(function(){return i++,f.apply(null,arguments)},...w),E=p(function(){l++;const M=IM(k,arguments);return c=L.apply(null,M),c},...N);return Object.assign(E,{resultFunc:f,memoizedResultFunc:L,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var Le=TM(IA),MM=Object.assign((e,t=Le)=>{CM(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,c,d)=>(l[r[d]]=c,l),{}))},{withTypes:()=>MM}),Lx={},Dx={},Tx={},Mj;function RM(){return Mj||(Mj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),c=t(a);if(l===c&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?c-l:l-c}return 0};e.compareValues=r}(Tx)),Tx}var Mx={},Rx={},Rj;function EA(){return Rj||(Rj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(Rx)),Rx}var Fj;function FM(){return Fj||(Fj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EA(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a}(Mx)),Mx}var zj;function zM(){return zj||(zj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RM(),r=FM(),n=f2();function a(i,l,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(p=>String(p));const f=(p,b)=>{let w=p;for(let N=0;N<b.length&&w!=null;++N)w=w[b[N]];return w},h=(p,b)=>b==null||p==null?b:typeof p=="object"&&"key"in p?Object.hasOwn(b,p.key)?b[p.key]:f(b,p.path):typeof p=="function"?p(b):Array.isArray(p)?f(b,p):typeof b=="object"?b[p]:b,m=l.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:m.map(b=>h(b,p))})).slice().sort((p,b)=>{for(let w=0;w<m.length;w++){const N=t.compareValues(p.criteria[w],b.criteria[w],c[w]);if(N!==0)return N}return 0}).map(p=>p.original)}e.orderBy=a}(Dx)),Dx}var Fx={},Bj;function BM(){return Bj||(Bj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(c,d)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&d<i?l(h,d+1):a.push(h)}};return l(r,0),a}e.flatten=t}(Fx)),Fx}var zx={},Uj;function LA(){return Uj||(Uj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OA(),r=m2(),n=kA(),a=AA();function i(l,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.isEqualsSameValueZero(d[c],l):!1}e.isIterateeCall=i}(zx)),zx}var qj;function UM(){return qj||(qj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zM(),r=BM(),n=LA();function a(i,...l){const c=l.length;return c>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a}(Lx)),Lx}var Bx,$j;function qM(){return $j||($j=1,Bx=UM().sortBy),Bx}var $M=qM();const Om=Mo($M);var DA=e=>e.legend.settings,WM=e=>e.legend.size,HM=e=>e.legend.payload;Le([HM,DA],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Om(n,r):n});var Hp=1;function VM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=P.useState({height:0,left:0,top:0,width:0}),n=P.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>Hp||Math.abs(l.left-t.left)>Hp||Math.abs(l.top-t.top)>Hp||Math.abs(l.width-t.width)>Hp)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ha(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KM=typeof Symbol=="function"&&Symbol.observable||"@@observable",Wj=KM,Ux=()=>Math.random().toString(36).substring(7).split("").join("."),GM={INIT:`@@redux/INIT${Ux()}`,REPLACE:`@@redux/REPLACE${Ux()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ux()}`},I0=GM;function x2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function TA(e,t,r){if(typeof e!="function")throw new Error(ha(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ha(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ha(1));return r(TA)(e,t)}let n=e,a=t,i=new Map,l=i,c=0,d=!1;function f(){l===i&&(l=new Map,i.forEach((N,k)=>{l.set(k,N)}))}function h(){if(d)throw new Error(ha(3));return a}function m(N){if(typeof N!="function")throw new Error(ha(4));if(d)throw new Error(ha(5));let k=!0;f();const L=c++;return l.set(L,N),function(){if(k){if(d)throw new Error(ha(6));k=!1,f(),l.delete(L),i=null}}}function g(N){if(!x2(N))throw new Error(ha(7));if(typeof N.type>"u")throw new Error(ha(8));if(typeof N.type!="string")throw new Error(ha(17));if(d)throw new Error(ha(9));try{d=!0,a=n(a,N)}finally{d=!1}return(i=l).forEach(L=>{L()}),N}function p(N){if(typeof N!="function")throw new Error(ha(10));n=N,g({type:I0.REPLACE})}function b(){const N=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(ha(11));function L(){const I=k;I.next&&I.next(h())}return L(),{unsubscribe:N(L)}},[Wj](){return this}}}return g({type:I0.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:p,[Wj]:b}}function YM(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:I0.INIT})>"u")throw new Error(ha(12));if(typeof r(void 0,{type:I0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ha(13))})}function MA(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{YM(r)}catch(i){a=i}return function(l={},c){if(a)throw a;let d=!1;const f={};for(let h=0;h<n.length;h++){const m=n[h],g=r[m],p=l[m],b=g(p,c);if(typeof b>"u")throw c&&c.type,new Error(ha(14));f[m]=b,d=d||b!==p}return d=d||n.length!==Object.keys(l).length,d?f:l}}function E0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function XM(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(ha(15))};const l={getState:a.getState,dispatch:(d,...f)=>i(d,...f)},c=e.map(d=>d(l));return i=E0(...c)(a.dispatch),{...a,dispatch:i}}}function RA(e){return x2(e)&&"type"in e&&typeof e.type=="string"}var FA=Symbol.for("immer-nothing"),Hj=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function qs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $i=Object,Wd=$i.getPrototypeOf,L0="constructor",Im="prototype",o1="configurable",D0="enumerable",f0="writable",uh="value",Il=e=>!!e&&!!e[Qa];function Ks(e){var t;return e?zA(e)||Lm(e)||!!e[Hj]||!!((t=e[L0])!=null&&t[Hj])||Dm(e)||Tm(e):!1}var ZM=$i[Im][L0].toString(),Vj=new WeakMap;function zA(e){if(!e||!b2(e))return!1;const t=Wd(e);if(t===null||t===$i[Im])return!0;const r=$i.hasOwnProperty.call(t,L0)&&t[L0];if(r===Object)return!0;if(!Ld(r))return!1;let n=Vj.get(r);return n===void 0&&(n=Function.toString.call(r),Vj.set(r,n)),n===ZM}function Em(e,t,r=!0){Dh(e)===0?(r?Reflect.ownKeys(e):$i.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Dh(e){const t=e[Qa];return t?t.type_:Lm(e)?1:Dm(e)?2:Tm(e)?3:0}var Kj=(e,t,r=Dh(e))=>r===2?e.has(t):$i[Im].hasOwnProperty.call(e,t),l1=(e,t,r=Dh(e))=>r===2?e.get(t):e[t],T0=(e,t,r,n=Dh(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function QM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Lm=Array.isArray,Dm=e=>e instanceof Map,Tm=e=>e instanceof Set,b2=e=>typeof e=="object",Ld=e=>typeof e=="function",qx=e=>typeof e=="boolean";function JM(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Nl=e=>e.copy_||e.base_,y2=e=>e.modified_?e.copy_:e.base_;function c1(e,t){if(Dm(e))return new Map(e);if(Tm(e))return new Set(e);if(Lm(e))return Array[Im].slice.call(e);const r=zA(e);if(t===!0||t==="class_only"&&!r){const n=$i.getOwnPropertyDescriptors(e);delete n[Qa];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],c=n[l];c[f0]===!1&&(c[f0]=!0,c[o1]=!0),(c.get||c.set)&&(n[l]={[o1]:!0,[f0]:!0,[D0]:c[D0],[uh]:e[l]})}return $i.create(Wd(e),n)}else{const n=Wd(e);if(n!==null&&r)return{...e};const a=$i.create(n);return $i.assign(a,e)}}function w2(e,t=!1){return Mm(e)||Il(e)||!Ks(e)||(Dh(e)>1&&$i.defineProperties(e,{set:Vp,add:Vp,clear:Vp,delete:Vp}),$i.freeze(e),t&&Em(e,(r,n)=>{w2(n,!0)},!1)),e}function e9(){qs(2)}var Vp={[uh]:e9};function Mm(e){return e===null||!b2(e)?!0:$i.isFrozen(e)}var M0="MapSet",u1="Patches",Gj="ArrayMethods",BA={};function Fu(e){const t=BA[e];return t||qs(0,e),t}var Yj=e=>!!BA[e],dh,UA=()=>dh,t9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Yj(M0)?Fu(M0):void 0,arrayMethodsPlugin_:Yj(Gj)?Fu(Gj):void 0});function Xj(e,t){t&&(e.patchPlugin_=Fu(u1),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function d1(e){f1(e),e.drafts_.forEach(r9),e.drafts_=null}function f1(e){e===dh&&(dh=e.parent_)}var Zj=e=>dh=t9(dh,e);function r9(e){const t=e[Qa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Qj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Qa].modified_&&(d1(t),qs(4)),Ks(e)&&(e=Jj(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Qa].base_,e,t)}else e=Jj(t,r);return n9(t,e,!0),d1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==FA?e:void 0}function Jj(e,t){if(Mm(t))return t;const r=t[Qa];if(!r)return R0(t,e.handledSet_,e);if(!Rm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);WA(r,e)}return r.copy_}function n9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&w2(t,r)}function qA(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Rm=(e,t)=>e.scope_===t,a9=[];function $A(e,t,r,n){const a=Nl(e),i=e.type_;if(n!==void 0&&l1(a,n,i)===t){T0(a,n,r,i);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Em(a,(d,f)=>{if(Il(f)){const h=c.get(f)||[];h.push(d),c.set(f,h)}})}const l=e.draftLocations_.get(t)??a9;for(const c of l)T0(a,c,r,i)}function i9(e,t,r){e.callbacks_.push(function(a){var c;const i=t;if(!i||!Rm(i,a))return;(c=a.mapSetPlugin_)==null||c.fixSetContents(i);const l=y2(i);$A(e,i.draft_??i,l,r),WA(i,a)})}function WA(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}qA(e)}}function s9(e,t,r){const{scope_:n}=e;if(Il(r)){const a=r[Qa];Rm(a,n)&&a.callbacks_.push(function(){h0(e);const l=y2(a);$A(e,r,l,t)})}else Ks(r)&&e.callbacks_.push(function(){const i=Nl(e);e.type_===3?i.has(r)&&R0(r,n.handledSet_,n):l1(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&R0(l1(e.copy_,t,e.type_),n.handledSet_,n)})}function R0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Il(e)||t.has(e)||!Ks(e)||Mm(e)||(t.add(e),Em(e,(n,a)=>{if(Il(a)){const i=a[Qa];if(Rm(i,r)){const l=y2(i);T0(e,n,l,e.type_),qA(i)}}else Ks(a)&&R0(a,t,r)})),e}function o9(e,t){const r=Lm(e),n={type_:r?1:0,scope_:t?t.scope_:UA(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=F0;r&&(a=[n],i=fh);const{revoke:l,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=l,[c,n]}var F0={get(e,t){if(t===Qa)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Nl(e);if(!Kj(a,t,e.type_))return l9(e,a,t);const i=a[t];if(e.finalized_||!Ks(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&JM(t))return i;if(i===$x(e.base_,t)){h0(e);const l=e.type_===1?+t:t,c=p1(e.scope_,i,e,l);return e.copy_[l]=c}return i},has(e,t){return t in Nl(e)},ownKeys(e){return Reflect.ownKeys(Nl(e))},set(e,t,r){const n=HA(Nl(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=$x(Nl(e),t),i=a==null?void 0:a[Qa];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(QM(r,a)&&(r!==void 0||Kj(e.base_,t,e.type_)))return!0;h0(e),h1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),s9(e,t,r)),!0},deleteProperty(e,t){return h0(e),$x(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),h1(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Nl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[f0]:!0,[o1]:e.type_!==1||t!=="length",[D0]:n[D0],[uh]:r[t]}},defineProperty(){qs(11)},getPrototypeOf(e){return Wd(e.base_)},setPrototypeOf(){qs(12)}},fh={};for(let e in F0){let t=F0[e];fh[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}fh.deleteProperty=function(e,t){return fh.set.call(this,e,t,void 0)};fh.set=function(e,t,r){return F0.set.call(this,e[0],t,r,e[0])};function $x(e,t){const r=e[Qa];return(r?Nl(r):e)[t]}function l9(e,t,r){var a;const n=HA(t,r);return n?uh in n?n[uh]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function HA(e,t){if(!(t in e))return;let r=Wd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Wd(r)}}function h1(e){e.modified_||(e.modified_=!0,e.parent_&&h1(e.parent_))}function h0(e){e.copy_||(e.assigned_=new Map,e.copy_=c1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var c9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Ld(r)&&!Ld(n)){const l=n;n=r;const c=this;return function(f=l,...h){return c.produce(f,m=>n.call(this,m,...h))}}Ld(n)||qs(6),a!==void 0&&!Ld(a)&&qs(7);let i;if(Ks(r)){const l=Zj(this),c=p1(l,r,void 0);let d=!0;try{i=n(c),d=!1}finally{d?d1(l):f1(l)}return Xj(l,a),Qj(i,l)}else if(!r||!b2(r)){if(i=n(r),i===void 0&&(i=r),i===FA&&(i=void 0),this.autoFreeze_&&w2(i,!0),a){const l=[],c=[];Fu(u1).generateReplacementPatches_(r,i,{patches_:l,inversePatches_:c}),a(l,c)}return i}else qs(1,r)},this.produceWithPatches=(r,n)=>{if(Ld(r))return(c,...d)=>this.produceWithPatches(c,f=>r(f,...d));let a,i;return[this.produce(r,n,(c,d)=>{a=c,i=d}),a,i]},qx(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),qx(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),qx(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ks(t)||qs(8),Il(t)&&(t=Hs(t));const r=Zj(this),n=p1(r,t,void 0);return n[Qa].isManual_=!0,f1(r),n}finishDraft(t,r){const n=t&&t[Qa];(!n||!n.isManual_)&&qs(9);const{scope_:a}=n;return Xj(a,r),Qj(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Fu(u1).applyPatches_;return Il(t)?a(t,r):this.produce(t,i=>a(i,r))}};function p1(e,t,r,n){const[a,i]=Dm(t)?Fu(M0).proxyMap_(t,r):Tm(t)?Fu(M0).proxySet_(t,r):o9(t,r);return((r==null?void 0:r.scope_)??UA()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?i9(r,i,n):i.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(i);const{patchPlugin_:f}=d;i.modified_&&f&&f.generatePatches_(i,[],d)}),a}function Hs(e){return Il(e)||qs(10,e),VA(e)}function VA(e){if(!Ks(e)||Mm(e))return e;const t=e[Qa];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=c1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=c1(e,!0);return Em(r,(a,i)=>{T0(r,a,VA(i))},n),t&&(t.finalized_=!1),r}var u9=new c9,KA=u9.produce;function GA(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var d9=GA(),f9=GA,h9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?E0:E0.apply(null,arguments)};function vs(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Wi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>RA(n)&&n.type===e,r}var YA=class Qf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qf.prototype)}static get[Symbol.species](){return Qf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qf(...t[0].concat(this)):new Qf(...t.concat(this))}};function e4(e){return Ks(e)?KA(e,()=>{}):e}function Kp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function p9(e){return typeof e=="boolean"}var m9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new YA;return r&&(p9(r)?l.push(d9):l.push(f9(r.extraArgument))),l},XA="RTK_autoBatch",Vr=()=>e=>({payload:e,meta:{[XA]:!0}}),t4=e=>t=>{setTimeout(t,e)},ZA=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:t4(10):e.type==="callback"?e.queueNotification:t4(e.timeout),f=()=>{l=!1,i&&(i=!1,c.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>a&&h(),g=n.subscribe(m);return c.add(h),()=>{g(),c.delete(h)}},dispatch(h){var m;try{return a=!((m=h==null?void 0:h.meta)!=null&&m[XA]),i=!a,i&&(l||(l=!0,d(f))),n.dispatch(h)}finally{a=!0}}})},v9=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new YA(e);return n&&a.push(ZA(typeof n=="object"?n:void 0)),a};function g9(e){const t=m9(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(x2(r))c=MA(r);else throw new Error(Wi(1));let d;typeof n=="function"?d=n(t):d=t();let f=E0;a&&(f=h9({trace:!1,...typeof a=="object"&&a}));const h=XM(...d),m=v9(h);let g=typeof l=="function"?l(m):m();const p=f(...g);return TA(c,i,p)}function QA(e){const t={},r=[];let n;const a={addCase(i,l){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Wi(28));if(c in t)throw new Error(Wi(29));return t[c]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function x9(e){return typeof e=="function"}function b9(e,t){let[r,n,a]=QA(t),i;if(x9(e))i=()=>e4(e());else{const c=e4(e);i=()=>c}function l(c=i(),d){let f=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[a]),f.reduce((h,m)=>{if(m)if(Il(h)){const p=m(h,d);return p===void 0?h:p}else{if(Ks(h))return KA(h,g=>m(g,d));{const g=m(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},c)}return l.getInitialState=i,l}var y9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",w9=(e=21)=>{let t="",r=e;for(;r--;)t+=y9[Math.random()*64|0];return t},N9=Symbol.for("rtk-slice-createasyncthunk");function j9(e,t){return`${e}/${t}`}function k9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[N9];return function(a){const{name:i,reducerPath:l=i}=a;if(!i)throw new Error(Wi(11));const c=(typeof a.reducers=="function"?a.reducers(A9()):a.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,M){const F=typeof I=="string"?I:I.type;if(!F)throw new Error(Wi(12));if(F in f.sliceCaseReducersByType)throw new Error(Wi(13));return f.sliceCaseReducersByType[F]=M,h},addMatcher(I,M){return f.sliceMatchers.push({matcher:I,reducer:M}),h},exposeAction(I,M){return f.actionCreators[I]=M,h},exposeCaseReducer(I,M){return f.sliceCaseReducersByName[I]=M,h}};d.forEach(I=>{const M=c[I],F={reducerName:I,type:j9(i,I),createNotation:typeof a.reducers=="function"};C9(M)?O9(F,M,h,t):P9(F,M,h)});function m(){const[I={},M=[],F=void 0]=typeof a.extraReducers=="function"?QA(a.extraReducers):[a.extraReducers],R={...I,...f.sliceCaseReducersByType};return b9(a.initialState,U=>{for(let B in R)U.addCase(B,R[B]);for(let B of f.sliceMatchers)U.addMatcher(B.matcher,B.reducer);for(let B of M)U.addMatcher(B.matcher,B.reducer);F&&U.addDefaultCase(F)})}const g=I=>I,p=new Map,b=new WeakMap;let w;function N(I,M){return w||(w=m()),w(I,M)}function k(){return w||(w=m()),w.getInitialState()}function L(I,M=!1){function F(U){let B=U[I];return typeof B>"u"&&M&&(B=Kp(b,F,k)),B}function R(U=g){const B=Kp(p,M,()=>new WeakMap);return Kp(B,U,()=>{const Y={};for(const[C,T]of Object.entries(a.selectors??{}))Y[C]=S9(T,U,()=>Kp(b,U,k),M);return Y})}return{reducerPath:I,getSelectors:R,get selectors(){return R(F)},selectSlice:F}}const E={name:i,reducer:N,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:k,...L(l),injectInto(I,{reducerPath:M,...F}={}){const R=M??l;return I.inject({reducerPath:R,reducer:N},F),{...E,...L(R,!0)}}};return E}}function S9(e,t,r,n){function a(i,...l){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...l)}return a.unwrapped=e,a}var ji=k9();function A9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function P9({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!_9(n))throw new Error(Wi(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?vs(e,l):vs(e))}function C9(e){return e._reducerDefinitionType==="asyncThunk"}function _9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function O9({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Wi(18));const{payloadCreator:i,fulfilled:l,pending:c,rejected:d,settled:f,options:h}=r,m=a(e,i,h);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),c&&n.addCase(m.pending,c),d&&n.addCase(m.rejected,d),f&&n.addMatcher(m.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Gp,pending:c||Gp,rejected:d||Gp,settled:f||Gp})}function Gp(){}var I9="task",JA="listener",e8="completed",N2="cancelled",E9=`task-${N2}`,L9=`task-${e8}`,m1=`${JA}-${N2}`,D9=`${JA}-${e8}`,Fm=class{constructor(e){lr(this,"name","TaskAbortError");lr(this,"message");this.code=e,this.message=`${I9} ${N2} (reason: ${e})`}},j2=(e,t)=>{if(typeof e!="function")throw new TypeError(Wi(32))},z0=()=>{},t8=(e,t=z0)=>(e.catch(t),e),r8=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_u=e=>{if(e.aborted)throw new Fm(e.reason)};function n8(e,t){let r=z0;return new Promise((n,a)=>{const i=()=>a(new Fm(e.reason));if(e.aborted){i();return}r=r8(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=z0})}var T9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Fm?"cancelled":"rejected",error:r}}finally{t==null||t()}},B0=e=>t=>t8(n8(e,t).then(r=>(_u(e),r))),a8=e=>{const t=B0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:qd}=Object,r4={},zm="listenerMiddleware",M9=(e,t)=>{const r=n=>r8(e,()=>n.abort(e.reason));return(n,a)=>{j2(n);const i=new AbortController;r(i);const l=T9(async()=>{_u(e),_u(i.signal);const c=await n({pause:B0(i.signal),delay:a8(i.signal),signal:i.signal});return _u(i.signal),c},()=>i.abort(L9));return a!=null&&a.autoJoin&&t.push(l.catch(z0)),{result:B0(e)(l),cancel(){i.abort(E9)}}}},R9=(e,t)=>{const r=async(n,a)=>{_u(t);let i=()=>{};const c=[new Promise((d,f)=>{let h=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),d([m,g.getState(),g.getOriginalState()])}});i=()=>{h(),f()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await n8(t,Promise.race(c));return _u(t),d}finally{i()}};return(n,a)=>t8(r(n,a))},i8=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=vs(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Wi(21));return j2(i),{predicate:a,type:t,effect:i}},s8=qd(e=>{const{type:t,predicate:r,effect:n}=i8(e);return{id:w9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Wi(22))}}},{withTypes:()=>s8}),n4=(e,t)=>{const{type:r,effect:n,predicate:a}=i8(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},v1=e=>{e.pending.forEach(t=>{t.abort(m1)})},F9=(e,t)=>()=>{for(const r of t.keys())v1(r);e.clear()},a4=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},o8=qd(vs(`${zm}/add`),{withTypes:()=>o8}),z9=vs(`${zm}/removeAll`),l8=qd(vs(`${zm}/remove`),{withTypes:()=>l8}),B9=(...e)=>{console.error(`${zm}/error`,...e)},Th=(e={})=>{const t=new Map,r=new Map,n=p=>{const b=r.get(p)??0;r.set(p,b+1)},a=p=>{const b=r.get(p)??1;b===1?r.delete(p):r.set(p,b-1)},{extra:i,onError:l=B9}=e;j2(l);const c=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),b=>{p.unsubscribe(),b!=null&&b.cancelActive&&v1(p)}),d=p=>{const b=n4(t,p)??s8(p);return c(b)};qd(d,{withTypes:()=>d});const f=p=>{const b=n4(t,p);return b&&(b.unsubscribe(),p.cancelActive&&v1(b)),!!b};qd(f,{withTypes:()=>f});const h=async(p,b,w,N)=>{const k=new AbortController,L=R9(d,k.signal),E=[];try{p.pending.add(k),n(p),await Promise.resolve(p.effect(b,qd({},w,{getOriginalState:N,condition:(I,M)=>L(I,M).then(Boolean),take:L,delay:a8(k.signal),pause:B0(k.signal),extra:i,signal:k.signal,fork:M9(k.signal,E),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((I,M,F)=>{I!==k&&(I.abort(m1),F.delete(I))})},cancel:()=>{k.abort(m1),p.pending.delete(k)},throwIfCancelled:()=>{_u(k.signal)}})))}catch(I){I instanceof Fm||a4(l,I,{raisedBy:"effect"})}finally{await Promise.all(E),k.abort(D9),a(p),p.pending.delete(k)}},m=F9(t,r);return{middleware:p=>b=>w=>{if(!RA(w))return b(w);if(o8.match(w))return d(w.payload);if(z9.match(w)){m();return}if(l8.match(w))return f(w.payload);let N=p.getState();const k=()=>{if(N===r4)throw new Error(Wi(23));return N};let L;try{if(L=b(w),t.size>0){const E=p.getState(),I=Array.from(t.values());for(const M of I){let F=!1;try{F=M.predicate(w,E,N)}catch(R){F=!1,a4(l,R,{raisedBy:"predicate"})}F&&h(M,w,p,k)}}}finally{N=r4}return L},startListening:d,stopListening:f,clearListeners:m}};function Wi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var U9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},c8=ji({name:"chartLayout",initialState:U9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:q9,setLayout:$9,setChartSize:W9,setScale:H9}=c8.actions,V9=c8.reducer;function u8(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ar(e){return Number.isFinite(e)}function Do(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){K9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K9(e,t,r){return(t=G9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function va(e,t,r){return ga(e)||ga(t)?r:Lo(t)?_m(e,t,r):typeof t=="function"?t(e):r}var X9=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&i!=="center"&&gt(e[i]))return Td(Td({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&l!=="middle"&&gt(e[l]))return Td(Td({},e),{},{[l]:e[l]+(a||0)})}return e},Rl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",d8=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,i,l=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||l.push(t),i||l.push(r),l},f8=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:g,axisType:p}=e;if(!l)return null;var b=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/b:0;if(w=p==="angleAxis"&&i&&i.length>=2?hs(i[0]-i[1])*2*w:w,m||g){var N=(m||g||[]).map((k,L)=>{var E=n?n.indexOf(k):k,I=l.map(E);return ar(I)?{coordinate:I+w,value:k,offset:w,index:L}:null}).filter(bi);return N}return d&&f?f.map((k,L)=>{var E=l.map(k);return ar(E)?{coordinate:E+w,value:k,index:L,offset:w}:null}).filter(bi):l.ticks&&h!=null?l.ticks(h).map((k,L)=>{var E=l.map(k);return ar(E)?{coordinate:E+w,value:k,index:L,offset:w}:null}).filter(bi):l.domain().map((k,L)=>{var E=l.map(k);return ar(E)?{coordinate:E+w,value:n?n[k]:k,index:L,offset:w}:null}).filter(bi)},Z9=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,l=0,c=0;c<r;++c){var d=e[c],f=d==null?void 0:d[a];if(f!=null){var h=f[1],m=f[0],g=Ol(h)?m:h;g>=0?(f[0]=i,i+=g,f[1]=i):(f[0]=l,l+=g,f[1]=l)}}}},Q9=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,l=0;l<r;++l){var c=e[l],d=c==null?void 0:c[a];if(d!=null){var f=Ol(d[1])?d[0]:d[1];f>=0?(d[0]=i,i+=f,d[1]=i):(d[0]=0,d[1]=0)}}}},J9={sign:Z9,expand:PT,none:Mu,silhouette:CT,wiggle:_T,positive:Q9},eR=(e,t,r)=>{var n,a=(n=J9[r])!==null&&n!==void 0?n:Mu,i=AT().keys(t).value((c,d)=>Number(va(c,d,0))).order(i1).offset(a),l=i(e);return l.forEach((c,d)=>{c.forEach((f,h)=>{var m=va(e[h],t[d],0);Array.isArray(m)&&m.length===2&&gt(m[0])&&gt(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function s4(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ga(a[t.dataKey])){var c=bA(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r!=null&&r[i]?r[i].coordinate+n/2:null}var d=va(a,ga(l)?t.dataKey:l),f=t.scale.map(d);return gt(f)?f:null}var tR=e=>{var t=e.flat(2).filter(gt);return[Math.min(...t),Math.max(...t)]},rR=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],nR=(e,t,r)=>{if(e!=null)return rR(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:l}=i,c=l.reduce((d,f)=>{var h=u8(f,t,r),m=tR(h);return!ar(m[0])||!ar(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},o4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,U0=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Om(t,h=>h.coordinate),i=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];i=Math.min(((d==null?void 0:d.coordinate)||0)-((f==null?void 0:f.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function c4(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Td(Td({},t),{},{dataKey:r,payload:n,value:a,name:i})}function h8(e,t){if(e)return String(e);if(typeof t=="string")return t}var aR=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},iR=(e,t)=>t==="centric"?e.angle:e.radius,Fl=e=>e.layout.width,zl=e=>e.layout.height,sR=e=>e.layout.scale,p8=e=>e.layout.margin,Bm=Le(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Um=Le(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),oR="data-recharts-item-index",lR="data-recharts-item-id",Mh=60;function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){cR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cR(e,t,r){return(t=uR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uR(e){var t=dR(e,"string");return typeof t=="symbol"?t:t+""}function dR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR=e=>e.brush.height;function hR(e){var t=Um(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Mh;return r+a}return r},0)}function pR(e){var t=Um(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Mh;return r+a}return r},0)}function mR(e){var t=Bm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function vR(e){var t=Bm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var xa=Le([Fl,zl,p8,fR,hR,pR,mR,vR,DA,WM],(e,t,r,n,a,i,l,c,d,f)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+l,bottom:(r.bottom||0)+c},g=Yp(Yp({},m),h),p=g.bottom;g.bottom+=n,g=X9(g,d,f);var b=e-g.left-g.right,w=t-g.top-g.bottom;return Yp(Yp({brushBottom:p},g),{},{width:Math.max(b,0),height:Math.max(w,0)})}),gR=Le(xa,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),m8=Le(Fl,zl,(e,t)=>({x:0,y:0,width:e,height:t})),xR=P.createContext(null),ki=()=>P.useContext(xR)!=null,qm=e=>e.brush,$m=Le([qm,xa,p8],(e,t,r)=>({height:e.height,x:gt(e.x)?e.x:t.left,y:gt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:gt(e.width)?e.width:t.width})),Wx={},Hx={},Vx={},d4;function bR(){return d4||(d4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,c=null;const d=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),h=()=>{c!==null&&(r.apply(l,c),l=void 0,c=null)},m=()=>{f&&h(),w()};let g=null;const p=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{b(),l=void 0,c=null},N=()=>{h()},k=function(...L){if(a!=null&&a.aborted)return;l=this,c=L;const E=g==null;p(),d&&E&&h()};return k.schedule=p,k.cancel=w,k.flush=N,a==null||a.addEventListener("abort",w,{once:!0}),k}e.debounce=t}(Vx)),Vx}var f4;function yR(){return f4||(f4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bR();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:c=!0,maxWait:d}=i,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let h,m=null;const g=t.debounce(function(...w){h=n.apply(this,w),m=null},a,{edges:f}),p=function(...w){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(h=n.apply(this,w),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,w),h)},b=()=>(g.flush(),h);return p.cancel=g.cancel,p.flush=b,p}e.debounce=r}(Hx)),Hx}var h4;function wR(){return h4||(h4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yR();function r(n,a=0,i={}){const{leading:l=!0,trailing:c=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:c})}e.throttle=r}(Wx)),Wx}var Kx,p4;function NR(){return p4||(p4=1,Kx=wR().throttle),Kx}var jR=NR();const kR=Mo(jR);var q0=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},Co={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},v8=(e,t,r)=>{var{width:n=Co.width,height:a=Co.height,aspect:i,maxHeight:l}=r,c=Ru(n)?e:Number(n),d=Ru(a)?t:Number(a);return i&&i>0&&(c?d=c/i:d&&(c=d*i),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},SR={width:0,height:0,overflow:"visible"},AR={width:0,overflowX:"visible"},PR={height:0,overflowY:"visible"},CR={},_R=e=>{var{width:t,height:r}=e,n=Ru(t),a=Ru(r);return n&&a?SR:n?AR:a?PR:CR};function OR(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a=Co.width,i=Co.height):a===void 0?a=n&&n>0?void 0:Co.width:i===void 0&&(i=n&&n>0?void 0:Co.height),{width:a,height:i}}function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(null,arguments)}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){IR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IR(e,t,r){return(t=ER(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ER(e){var t=LR(e,"string");return typeof t=="symbol"?t:t+""}function LR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g8=P.createContext(Co.initialDimension);function DR(e){return Do(e.width)&&Do(e.height)}function x8(e){var{children:t,width:r,height:n}=e,a=P.useMemo(()=>({width:r,height:n}),[r,n]);return DR(a)?P.createElement(g8.Provider,{value:a},t):null}var k2=()=>P.useContext(g8),TR=P.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Co.initialDimension,width:a,height:i,minWidth:l=Co.minWidth,minHeight:c,maxHeight:d,children:f,debounce:h=Co.debounce,id:m,className:g,onResize:p,style:b={}}=e,w=P.useRef(null),N=P.useRef();N.current=p,P.useImperativeHandle(t,()=>w.current);var[k,L]=P.useState({containerWidth:n.width,containerHeight:n.height}),E=P.useCallback((U,B)=>{L(Y=>{var C=Math.round(U),T=Math.round(B);return Y.containerWidth===C&&Y.containerHeight===T?Y:{containerWidth:C,containerHeight:T}})},[]);P.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Zd;var U=T=>{var H,V=T[0];if(V!=null){var{width:W,height:pe}=V.contentRect;E(W,pe),(H=N.current)===null||H===void 0||H.call(N,W,pe)}};h>0&&(U=kR(U,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(U),{width:Y,height:C}=w.current.getBoundingClientRect();return E(Y,C),B.observe(w.current),()=>{B.disconnect()}},[E,h]);var{containerWidth:I,containerHeight:M}=k;q0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:F,calculatedHeight:R}=v8(I,M,{width:a,height:i,aspect:r,maxHeight:d});return q0(F!=null&&F>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,R,a,i,l,c,r),P.createElement("div",{id:m?"".concat(m):void 0,className:Pr("recharts-responsive-container",g),style:v4(v4({},b),{},{width:a,height:i,minWidth:l,minHeight:c,maxHeight:d}),ref:w},P.createElement("div",{style:_R({width:a,height:i})},P.createElement(x8,{width:F,height:R},f)))}),MR=P.forwardRef((e,t)=>{var r=k2();if(Do(r.width)&&Do(r.height))return e.children;var{width:n,height:a}=OR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=v8(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return gt(i)&&gt(l)?P.createElement(x8,{width:i,height:l},e.children):P.createElement(TR,g1({},e,{width:n,height:a,ref:t}))});function S2(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Wm=()=>{var e,t=ki(),r=kt(gR),n=kt($m),a=(e=kt(qm))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},RR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},b8=()=>{var e;return(e=kt(xa))!==null&&e!==void 0?e:RR},y8=()=>kt(Fl),w8=()=>kt(zl),an=e=>e.layout.layoutType,Qd=()=>kt(an),N8=()=>{var e=Qd();if(e==="horizontal"||e==="vertical")return e},j8=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},FR=()=>{var e=Qd();return e!==void 0},Rh=e=>{var t=aa(),r=ki(),{width:n,height:a}=e,i=k2(),l=n,c=a;return i&&(l=i.width>0?i.width:n,c=i.height>0?i.height:a),P.useEffect(()=>{!r&&Do(l)&&Do(c)&&t(W9({width:l,height:c}))},[t,r,l,c]),null},k8=Symbol.for("immer-nothing"),g4=Symbol.for("immer-draftable"),Hi=Symbol.for("immer-state");function $s(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hh=Object.getPrototypeOf;function Hd(e){return!!e&&!!e[Hi]}function zu(e){var t;return e?S8(e)||Array.isArray(e)||!!e[g4]||!!((t=e.constructor)!=null&&t[g4])||Fh(e)||Vm(e):!1}var zR=Object.prototype.constructor.toString(),x4=new WeakMap;function S8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=x4.get(r);return n===void 0&&(n=Function.toString.call(r),x4.set(r,n)),n===zR}function $0(e,t,r=!0){Hm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Hm(e){const t=e[Hi];return t?t.type_:Array.isArray(e)?1:Fh(e)?2:Vm(e)?3:0}function x1(e,t){return Hm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function A8(e,t,r){const n=Hm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function BR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fh(e){return e instanceof Map}function Vm(e){return e instanceof Set}function wu(e){return e.copy_||e.base_}function b1(e,t){if(Fh(e))return new Map(e);if(Vm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=S8(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Hi];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(hh(e),n)}else{const n=hh(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function A2(e,t=!1){return Km(e)||Hd(e)||!zu(e)||(Hm(e)>1&&Object.defineProperties(e,{set:Xp,add:Xp,clear:Xp,delete:Xp}),Object.freeze(e),t&&Object.values(e).forEach(r=>A2(r,!0))),e}function UR(){$s(2)}var Xp={value:UR};function Km(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var qR={};function Bu(e){const t=qR[e];return t||$s(0,e),t}var ph;function P8(){return ph}function $R(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b4(e,t){t&&(Bu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function y1(e){w1(e),e.drafts_.forEach(WR),e.drafts_=null}function w1(e){e===ph&&(ph=e.parent_)}function y4(e){return ph=$R(ph,e)}function WR(e){const t=e[Hi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function w4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Hi].modified_&&(y1(t),$s(4)),zu(e)&&(e=W0(t,e),t.parent_||H0(t,e)),t.patches_&&Bu("Patches").generateReplacementPatches_(r[Hi].base_,e,t.patches_,t.inversePatches_)):e=W0(t,r,[]),y1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==k8?e:void 0}function W0(e,t,r){if(Km(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Hi];if(!a)return $0(t,(i,l)=>N4(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return H0(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,c=!1;a.type_===3&&(l=new Set(i),i.clear(),c=!0),$0(l,(d,f)=>N4(e,a,i,d,f,r,c),n),H0(e,i,!1),r&&e.patches_&&Bu("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function N4(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const c=Km(a);if(!(c&&!l)){if(Hd(a)){const d=i&&t&&t.type_!==3&&!x1(t.assigned_,n)?i.concat(n):void 0,f=W0(e,a,d);if(A8(r,n,f),Hd(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(zu(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&c)return;W0(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Fh(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&H0(e,a)}}}function H0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&A2(t,r)}function HR(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:P8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=P2;r&&(a=[n],i=mh);const{revoke:l,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=l,c}var P2={get(e,t){if(t===Hi)return e;const r=wu(e);if(!x1(r,t))return VR(e,r,t);const n=r[t];return e.finalized_||!zu(n)?n:n===Gx(e.base_,t)?(Yx(e),e.copy_[t]=j1(n,e)):n},has(e,t){return t in wu(e)},ownKeys(e){return Reflect.ownKeys(wu(e))},set(e,t,r){const n=C8(wu(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Gx(wu(e),t),i=a==null?void 0:a[Hi];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(BR(r,a)&&(r!==void 0||x1(e.base_,t)))return!0;Yx(e),N1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Yx(e),N1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){$s(11)},getPrototypeOf(e){return hh(e.base_)},setPrototypeOf(){$s(12)}},mh={};$0(P2,(e,t)=>{mh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mh.deleteProperty=function(e,t){return mh.set.call(this,e,t,void 0)};mh.set=function(e,t,r){return P2.set.call(this,e[0],t,r,e[0])};function Gx(e,t){const r=e[Hi];return(r?wu(r):e)[t]}function VR(e,t,r){var a;const n=C8(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function C8(e,t){if(!(t in e))return;let r=hh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=hh(r)}}function N1(e){e.modified_||(e.modified_=!0,e.parent_&&N1(e.parent_))}function Yx(e){e.copy_||(e.copy_=b1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(d=i,...f){return l.produce(d,h=>r.call(this,h,...f))}}typeof r!="function"&&$s(6),n!==void 0&&typeof n!="function"&&$s(7);let a;if(zu(t)){const i=y4(this),l=j1(t,void 0);let c=!0;try{a=r(l),c=!1}finally{c?y1(i):w1(i)}return b4(i,n),w4(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===k8&&(a=void 0),this.autoFreeze_&&A2(a,!0),n){const i=[],l=[];Bu("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else $s(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,d=>t(d,...c));let n,a;return[this.produce(t,r,(l,c)=>{n=l,a=c}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){zu(e)||$s(8),Hd(e)&&(e=GR(e));const t=y4(this),r=j1(e,void 0);return r[Hi].isManual_=!0,w1(t),r}finishDraft(e,t){const r=e&&e[Hi];(!r||!r.isManual_)&&$s(9);const{scope_:n}=r;return b4(n,t),w4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Bu("Patches").applyPatches_;return Hd(e)?n(e,t):this.produce(e,a=>n(a,t))}};function j1(e,t){const r=Fh(e)?Bu("MapSet").proxyMap_(e,t):Vm(e)?Bu("MapSet").proxySet_(e,t):HR(e,t);return(t?t.scope_:P8()).drafts_.push(r),r}function GR(e){return Hd(e)||$s(10,e),_8(e)}function _8(e){if(!zu(e)||Km(e))return e;const t=e[Hi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=b1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=b1(e,!0);return $0(r,(a,i)=>{A8(r,a,_8(i))},n),t&&(t.finalized_=!1),r}var YR=new KR;YR.produce;var XR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},O8=ji({name:"legend",initialState:XR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Vr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Hs(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Vr()},removeLegendPayload:{reducer(e,t){var r=Hs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Vr()}}}),{setLegendSize:CZ,setLegendSettings:_Z,addLegendPayload:ZR,replaceLegendPayload:QR,removeLegendPayload:JR}=O8.actions,eF=O8.reducer;function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k1.apply(null,arguments)}function j4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(r),!0).forEach(function(n){tF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tF(e,t,r){return(t=rF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=nF(e,"string");return typeof t=="symbol"?t:t+""}function nF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aF(e){return Array.isArray(e)&&Lo(e[0])&&Lo(e[1])?e.join(" ~ "):e}var Pd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},iF=e=>{var{separator:t=Pd.separator,contentStyle:r,itemStyle:n,labelStyle:a=Pd.labelStyle,payload:i,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:g=Pd.accessibilityLayer}=e,p=()=>{if(i&&i.length){var M={padding:0,margin:0},F=(c?Om(i,c):i).map((R,U)=>{if(R.type==="none")return null;var B=R.formatter||l||aF,{value:Y,name:C}=R,T=Y,H=C;if(B){var V=B(Y,C,R,U,i);if(Array.isArray(V))[T,H]=V;else if(V!=null)T=V;else return null}var W=$f($f({},Pd.itemStyle),{},{color:R.color||Pd.itemStyle.color},n);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:W},Lo(H)?P.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Lo(H)?P.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,P.createElement("span",{className:"recharts-tooltip-item-value"},T),P.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:M},F)}return null},b=$f($f({},Pd.contentStyle),r),w=$f({margin:0},a),N=!ga(h),k=N?h:"",L=Pr("recharts-default-tooltip",d),E=Pr("recharts-tooltip-label",f);N&&m&&i!==void 0&&i!==null&&(k=m(h,i));var I=g?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",k1({className:L,style:b},I),P.createElement("p",{className:E,style:w},P.isValidElement(k)?k:"".concat(k)),p())},Wf="recharts-tooltip-wrapper",sF={visibility:"hidden"};function oF(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pr(Wf,{["".concat(Wf,"-right")]:gt(r)&&t&&gt(t.x)&&r>=t.x,["".concat(Wf,"-left")]:gt(r)&&t&&gt(t.x)&&r<t.x,["".concat(Wf,"-bottom")]:gt(n)&&t&&gt(t.y)&&n>=t.y,["".concat(Wf,"-top")]:gt(n)&&t&&gt(t.y)&&n<t.y})}function k4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:i,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(i&&gt(i[n]))return i[n];var h=r[n]-c-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?h:m;var g=d[n];if(g==null)return 0;if(l[n]){var p=h,b=g;return p<b?Math.max(m,g):Math.max(h,g)}if(f==null)return 0;var w=m+c,N=g+f;return w>N?Math.max(h,g):Math.max(m,g)}function lF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function cF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:i,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,h,m,g;return c.height>0&&c.width>0&&r?(m=k4({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:i,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=k4({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:i,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=lF({translateX:m,translateY:g,useTranslate3d:d})):h=sF,{cssProperties:h,cssClasses:oF({translateX:m,translateY:g,coordinate:r})}}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){S1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S1(e,t,r){return(t=uF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fF extends P.PureComponent{constructor(){super(...arguments),S1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),S1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:p,wrapperStyle:b,lastBoundingBox:w,innerRef:N,hasPortalFromProps:k}=this.props,L=typeof f=="number"?f:f.x,E=typeof f=="number"?f:f.y,{cssClasses:I,cssProperties:M}=cF({allowEscapeViewBox:r,coordinate:l,offsetLeft:L,offsetTop:E,position:h,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:p}),F=k?{}:Zp(Zp({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),R=Zp(Zp({},F),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},b);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:R,ref:N},i)}}var I8=()=>{var e;return(e=kt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(null,arguments)}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){hF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hF(e,t,r){return(t=pF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C4={curveBasisClosed:mT,curveBasisOpen:vT,curveBasis:pT,curveBumpX:eT,curveBumpY:tT,curveLinearClosed:gT,curveLinear:Pm,curveMonotoneX:xT,curveMonotoneY:bT,curveNatural:yT,curveStep:wT,curveStepAfter:jT,curveStepBefore:NT},V0=e=>ar(e.x)&&ar(e.y),_4=e=>e.base!=null&&V0(e.base)&&V0(e),Hf=e=>e.x,Vf=e=>e.y,vF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Lh(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=C4["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return C4[r]||Pm},O4={connectNulls:!1,type:"linear"},gF=e=>{var{type:t=O4.type,points:r=[],baseLine:n,layout:a,connectNulls:i=O4.connectNulls}=e,l=vF(t,a),c=i?r.filter(V0):r;if(Array.isArray(n)){var d,f=r.map((b,w)=>P4(P4({},b),{},{base:n[w]}));a==="vertical"?d=$p().y(Vf).x1(Hf).x0(b=>b.base.x):d=$p().x(Hf).y1(Vf).y0(b=>b.base.y);var h=d.defined(_4).curve(l),m=i?f.filter(_4):f;return h(m)}var g;a==="vertical"&&gt(n)?g=$p().y(Vf).x1(Hf).x0(n):gt(n)?g=$p().x(Hf).y1(Vf).y0(n):g=sA().x(Hf).y(Vf);var p=g.defined(V0).curve(l);return p(c)},E8=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=Qd();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},c=r&&r.length?gF(l):n;return P.createElement("path",A1({},Eo(e),p2(e),{className:Pr("recharts-curve",t),d:c===null?void 0:c,ref:a}))},xF=["x","y","top","left","width","height","className"];function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(null,arguments)}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){yF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yF(e,t,r){return(t=wF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wF(e){var t=NF(e,"string");return typeof t=="symbol"?t:t+""}function NF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jF(e,t){if(e==null)return{};var r,n,a=kF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SF=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),AF=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:c}=e,d=jF(e,xF),f=bF({x:t,y:r,top:n,left:a,width:i,height:l},d);return!gt(t)||!gt(r)||!gt(i)||!gt(l)||!gt(n)||!gt(a)?null:P.createElement("path",P1({},Za(f),{className:Pr("recharts-cross",c),d:SF(t,r,i,l,n,a)}))};function PF(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(n){CF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CF(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),L8=(e,t,r)=>e.map(n=>"".concat(IF(n)," ").concat(t,"ms ").concat(r)).join(","),EF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),vh=(e,t)=>Object.keys(t).reduce((r,n)=>L4(L4({},r),{},{[n]:e(n,t[n])}),{});function D4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(r),!0).forEach(function(n){LF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LF(e,t,r){return(t=DF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DF(e){var t=TF(e,"string");return typeof t=="symbol"?t:t+""}function TF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K0=(e,t,r)=>e+(t-e)*r,C1=e=>{var{from:t,to:r}=e;return t!==r},D8=(e,t,r)=>{var n=vh((a,i)=>{if(C1(i)){var[l,c]=e(i.from,i.to,i.velocity);return qn(qn({},i),{},{from:l,velocity:c})}return i},t);return r<1?vh((a,i)=>C1(i)&&n[a]!=null?qn(qn({},i),{},{velocity:K0(i.velocity,n[a].velocity,r),from:K0(i.from,n[a].from,r)}):i,t):D8(e,n,r-1)};function MF(e,t,r,n,a,i){var l,c=n.reduce((g,p)=>qn(qn({},g),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),d=()=>vh((g,p)=>p.from,c),f=()=>!Object.values(c).filter(C1).length,h=null,m=g=>{l||(l=g);var p=g-l,b=p/r.dt;c=D8(r,c,b),a(qn(qn(qn({},e),t),d())),l=g,f()||(h=i.setTimeout(m))};return()=>(h=i.setTimeout(m),()=>{var g;(g=h)===null||g===void 0||g()})}function RF(e,t,r,n,a,i,l){var c=null,d=a.reduce((m,g)=>{var p=e[g],b=t[g];return p==null||b==null?m:qn(qn({},m),{},{[g]:[p,b]})},{}),f,h=m=>{f||(f=m);var g=(m-f)/n,p=vh((w,N)=>K0(...N,r(g)),d);if(i(qn(qn(qn({},e),t),p)),g<1)c=l.setTimeout(h);else{var b=vh((w,N)=>K0(...N,r(1)),d);i(qn(qn(qn({},e),t),b))}};return()=>(c=l.setTimeout(h),()=>{var m;(m=c)===null||m===void 0||m()})}const FF=(e,t,r,n,a,i)=>{var l=EF(e,t);return r==null?()=>(a(qn(qn({},e),t)),()=>{}):r.isStepper===!0?MF(e,t,r,l,a,i):RF(e,t,r,n,l,a,i)};var G0=1e-4,T8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],M8=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),T4=(e,t)=>r=>{var n=T8(e,t);return M8(n,r)},zF=(e,t)=>r=>{var n=T8(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return M8(a,r)},BF=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},UF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=BF(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},qF=(e,t,r,n)=>{var a=T4(e,r),i=T4(t,n),l=zF(e,r),c=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,m=h,g=0;g<8;++g){var p=a(m)-h,b=l(m);if(Math.abs(p-h)<G0||b<G0)return i(m);m=c(m-p/b)}return i(m)};return d.isStepper=!1,d},M4=function(){return qF(...UF(...arguments))},$F=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,c,d)=>{var f=-(l-c)*r,h=d*n,m=d+(f-h)*a/1e3,g=d*a/1e3+l;return Math.abs(g-c)<G0&&Math.abs(m)<G0?[c,0]:[g,m]};return i.isStepper=!0,i.dt=a,i},WF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M4(e);case"spring":return $F();default:if(e.split("(")[0]==="cubic-bezier")return M4(e)}return typeof e=="function"?e:null};function HF(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){a=e.setTimeout(i.bind(null,f),d);return}i(d),a=e.setTimeout(i.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class VF{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function KF(){return HF(new VF)}var GF=P.createContext(KF);function YF(e,t){var r=P.useContext(GF);return P.useMemo(()=>t??r(e),[e,t,r])}var XF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Gm={isSsr:XF()},ZF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},R4={t:0},Xx={t:1};function C2(e){var t=Ni(e,ZF),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=t,h=r==="auto"?!Gm.isSsr:r,m=YF(t.animationId,t.animationManager),[g,p]=P.useState(h?R4:Xx),b=P.useRef(null);return P.useEffect(()=>{h||p(Xx)},[h]),P.useEffect(()=>{if(!h||!n)return Zd;var w=FF(R4,Xx,WF(i),a,p,m.getTimeoutController()),N=()=>{b.current=w()};return m.start([d,l,N,a,c]),()=>{m.stop(),b.current&&b.current(),c()}},[h,n,a,i,l,d,c,m]),f(g.t)}function _2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=P.useRef(ch(t)),n=P.useRef(e);return n.current!==e&&(r.current=ch(t),n.current=e),r.current}var QF=["radius"],JF=["radius"],F4,z4,B4,U4,q4,$4,W4,H4,V4,K4;function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(n){ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ez(e,t,r){return(t=tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return typeof t=="symbol"?t:t+""}function rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(null,arguments)}function X4(e,t){if(e==null)return{};var r,n,a=nz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Z4=(e,t,r,n,a)=>{var i=Ec(r),l=Ec(n),c=Math.min(Math.abs(i)/2,Math.abs(l)/2),d=l>=0?1:-1,f=i>=0?1:-1,h=l>=0&&i>=0||l<0&&i<0?1:0,m;if(c>0&&Array.isArray(a)){for(var g=[0,0,0,0],p=0,b=4;p<b;p++){var w,N=(w=a[p])!==null&&w!==void 0?w:0;g[p]=N>c?c:N}m=xn(F4||(F4=yo(["M",",",""])),e,t+d*g[0]),g[0]>0&&(m+=xn(z4||(z4=yo(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,e+f*g[0],t)),m+=xn(B4||(B4=yo(["L ",",",""])),e+r-f*g[1],t),g[1]>0&&(m+=xn(U4||(U4=yo(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,e+r,t+d*g[1])),m+=xn(q4||(q4=yo(["L ",",",""])),e+r,t+n-d*g[2]),g[2]>0&&(m+=xn($4||($4=yo(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,e+r-f*g[2],t+n)),m+=xn(W4||(W4=yo(["L ",",",""])),e+f*g[3],t+n),g[3]>0&&(m+=xn(H4||(H4=yo(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,e,t+n-d*g[3])),m+="Z"}else if(c>0&&a===+a&&a>0){var k=Math.min(c,a);m=xn(V4||(V4=yo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*k,k,k,h,e+f*k,t,e+r-f*k,t,k,k,h,e+r,t+d*k,e+r,t+n-d*k,k,k,h,e+r-f*k,t+n,e+f*k,t+n,k,k,h,e,t+n-d*k)}else m=xn(K4||(K4=yo(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return m},Q4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R8=e=>{var t=Ni(e,Q4),r=P.useRef(null),[n,a]=P.useState(-1);P.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ue=r.current.getTotalLength();ue&&a(ue)}catch{}},[]);var{x:i,y:l,width:c,height:d,radius:f,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:p,isAnimationActive:b,isUpdateAnimationActive:w}=t,N=P.useRef(c),k=P.useRef(d),L=P.useRef(i),E=P.useRef(l),I=P.useMemo(()=>({x:i,y:l,width:c,height:d,radius:f}),[i,l,c,d,f]),M=_2(I,"rectangle-");if(i!==+i||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var F=Pr("recharts-rectangle",h);if(!w){var R=Za(t),{radius:U}=R,B=X4(R,QF);return P.createElement("path",Y0({},B,{x:Ec(i),y:Ec(l),width:Ec(c),height:Ec(d),radius:typeof f=="number"?f:void 0,className:F,d:Z4(i,l,c,d,f)}))}var Y=N.current,C=k.current,T=L.current,H=E.current,V="0px ".concat(n===-1?1:n,"px"),W="".concat(n,"px 0px"),pe=L8(["strokeDasharray"],g,typeof m=="string"?m:Q4.animationEasing);return P.createElement(C2,{animationId:M,key:M,canBegin:n>0,duration:g,easing:m,isActive:w,begin:p},ue=>{var J=xi(Y,c,ue),le=xi(C,d,ue),me=xi(T,i,ue),ee=xi(H,l,ue);r.current&&(N.current=J,k.current=le,L.current=me,E.current=ee);var z;b?ue>0?z={transition:pe,strokeDasharray:W}:z={strokeDasharray:V}:z={strokeDasharray:W};var re=Za(t),{radius:ie}=re,fe=X4(re,JF);return P.createElement("path",Y0({},fe,{radius:typeof f=="number"?f:void 0,className:F,d:Z4(me,ee,J,le,f),ref:r,style:Y4(Y4({},z),t.style)}))})};function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){az(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function az(e,t,r){return(t=iz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iz(e){var t=sz(e,"string");return typeof t=="symbol"?t:t+""}function sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X0=Math.PI/180,oz=e=>e*180/Math.PI,ma=(e,t,r,n)=>({x:e+Math.cos(-X0*n)*r,y:t+Math.sin(-X0*n)*r}),lz=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cz=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},uz=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=cz({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var c=(r-a)/l,d=Math.acos(c);return n>i&&(d=2*Math.PI-d),{radius:l,angle:oz(d),angleInRadian:d}},dz=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},fz=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},hz=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=uz({x:r,y:n},t),{innerRadius:l,outerRadius:c}=t;if(a<l||a>c||a===0)return null;var{startAngle:d,endAngle:f}=dz(t),h=i,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?e3(e3({},t),{},{radius:a,angle:fz(h,t)}):null};function F8(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=ma(t,r,n,a),c=ma(t,r,n,i);return{points:[l,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var t3,r3,n3,a3,i3,s3,o3;function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(null,arguments)}function ku(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pz=(e,t)=>{var r=hs(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Qp=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:c,cornerIsExternal:d}=e,f=c*(l?1:-1)+n,h=Math.asin(c/f)/X0,m=d?a:a+i*h,g=ma(t,r,f,m),p=ma(t,r,n,m),b=d?a-i*h:a,w=ma(t,r,f*Math.cos(h*X0),b);return{center:g,circleTangency:p,lineTangency:w,theta:h}},z8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,c=pz(i,l),d=i+c,f=ma(t,r,a,i),h=ma(t,r,a,d),m=xn(t3||(t3=ku(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(c)>180),+(i>d),h.x,h.y);if(n>0){var g=ma(t,r,n,i),p=ma(t,r,n,d);m+=xn(r3||(r3=ku(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(c)>180),+(i<=d),g.x,g.y)}else m+=xn(n3||(n3=ku(["L ",","," Z"])),t,r);return m},mz=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=e,h=hs(f-d),{circleTangency:m,lineTangency:g,theta:p}=Qp({cx:t,cy:r,radius:a,angle:d,sign:h,cornerRadius:i,cornerIsExternal:c}),{circleTangency:b,lineTangency:w,theta:N}=Qp({cx:t,cy:r,radius:a,angle:f,sign:-h,cornerRadius:i,cornerIsExternal:c}),k=c?Math.abs(d-f):Math.abs(d-f)-p-N;if(k<0)return l?xn(a3||(a3=ku(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):z8({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var L=xn(i3||(i3=ku(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(h<0),m.x,m.y,a,a,+(k>180),+(h<0),b.x,b.y,i,i,+(h<0),w.x,w.y);if(n>0){var{circleTangency:E,lineTangency:I,theta:M}=Qp({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:F,lineTangency:R,theta:U}=Qp({cx:t,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),B=c?Math.abs(d-f):Math.abs(d-f)-M-U;if(B<0&&i===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=xn(s3||(s3=ku(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,i,i,+(h<0),F.x,F.y,n,n,+(B>180),+(h>0),E.x,E.y,i,i,+(h<0),I.x,I.y)}else L+=xn(o3||(o3=ku(["L",",","Z"])),t,r);return L},vz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},B8=e=>{var t=Ni(e,vz),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h,className:m}=t;if(i<a||f===h)return null;var g=Pr("recharts-sector",m),p=i-a,b=Rc(l,p,0,!0),w;return b>0&&Math.abs(f-h)<360?w=mz({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,p/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):w=z8({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:h}),P.createElement("path",_1({},Za(t),{className:g,d:w}))};function gz(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(NA(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:l,angle:c}=t,d=ma(n,a,i,c),f=ma(n,a,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return F8(t)}}var Zx={},Qx={},Jx={},l3;function xz(){return l3||(l3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EA();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(Jx)),Jx}var c3;function bz(){return c3||(c3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xz();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(Qx)),Qx}var u3;function yz(){return u3||(u3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LA(),r=bz();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((i-a)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=a,a+=l;return d}e.range=n}(Zx)),Zx}var eb,d3;function wz(){return d3||(d3=1,eb=yz().range),eb}var Nz=wz();const U8=Mo(Nz);function Lc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O2(e){let t,r,n;e.length!==2?(t=Lc,r=(c,d)=>Lc(e(c),d),n=(c,d)=>e(c)-d):(t=e===Lc||e===jz?e:kz,r=e,n=e);function a(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;r(c[m],d)<0?f=m+1:h=m}while(f<h)}return f}function i(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;r(c[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(c,d,f=0,h=c.length){const m=a(c,d,f,h-1);return m>f&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:l,right:i}}function kz(){return 0}function q8(e){return e===null?NaN:+e}function*Sz(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Az=O2(Lc),zh=Az.right;O2(q8).center;class f3 extends Map{constructor(t,r=_z){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(h3(this,t))}has(t){return super.has(h3(this,t))}set(t,r){return super.set(Pz(this,t),r)}delete(t){return super.delete(Cz(this,t))}}function h3({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Pz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Cz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _z(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Oz(e=Lc){if(e===Lc)return $8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Iz=Math.sqrt(50),Ez=Math.sqrt(10),Lz=Math.sqrt(2);function Z0(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=Iz?10:i>=Ez?5:i>=Lz?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/l,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?Z0(e,t,r*2):[c,d,f]}function O1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Z0(t,e,r):Z0(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(l<0)for(let f=0;f<c;++f)d[f]=(i-f)/-l;else for(let f=0;f<c;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(a+f)/-l;else for(let f=0;f<c;++f)d[f]=(a+f)*l;return d}function I1(e,t,r){return t=+t,e=+e,r=+r,Z0(e,t,r)[2]}function E1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?I1(t,e,r):I1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function p3(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function m3(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function W8(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?$8:Oz(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,h=Math.log(d),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),p=Math.max(r,Math.floor(t-f*m/d+g)),b=Math.min(n,Math.floor(t+(d-f)*m/d+g));W8(e,t,p,b,a)}const i=e[t];let l=r,c=n;for(Kf(e,r,t),a(e[n],i)>0&&Kf(e,r,n);l<c;){for(Kf(e,l,c),++l,--c;a(e[l],i)<0;)++l;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?Kf(e,r,c):(++c,Kf(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Kf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Dz(e,t,r){if(e=Float64Array.from(Sz(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return m3(e);if(t>=1)return p3(e);var n,a=(n-1)*t,i=Math.floor(a),l=p3(W8(e,i).subarray(0,i+1)),c=m3(e.subarray(i+1));return l+(c-l)*(a-i)}}function Tz(e,t,r=q8){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return l+(c-l)*(a-i)}}function Mz(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function bs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const L1=Symbol("implicit");function I2(){var e=new f3,t=[],r=[],n=L1;function a(i){let l=e.get(i);if(l===void 0){if(n!==L1)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new f3;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return I2(t,r).unknown(n)},bs.apply(a,arguments),a}function E2(){var e=I2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,c=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var g=t().length,p=a<n,b=p?a:n,w=p?n:a;i=(w-b)/Math.max(1,g-d+f*2),c&&(i=Math.floor(i)),b+=(w-b-i*(g-d))*h,l=i*(1-d),c&&(b=Math.round(b),l=Math.round(l));var N=Mz(g).map(function(k){return b+i*k});return r(p?N.reverse():N)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,c=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(c=!!g,m()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return E2(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(h)},bs.apply(m(),arguments)}function H8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return H8(t())},e}function Rz(){return H8(E2.apply(null,arguments).paddingInner(1))}function L2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function V8(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Bh(){}var gh=.7,Q0=1/gh,$d="\\s*([+-]?\\d+)\\s*",xh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fz=/^#([0-9a-f]{3,8})$/,zz=new RegExp(`^rgb\\(${$d},${$d},${$d}\\)$`),Bz=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),Uz=new RegExp(`^rgba\\(${$d},${$d},${$d},${xh}\\)$`),qz=new RegExp(`^rgba\\(${Io},${Io},${Io},${xh}\\)$`),$z=new RegExp(`^hsl\\(${xh},${Io},${Io}\\)$`),Wz=new RegExp(`^hsla\\(${xh},${Io},${Io},${xh}\\)$`),v3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L2(Bh,bh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:g3,formatHex:g3,formatHex8:Hz,formatHsl:Vz,formatRgb:x3,toString:x3});function g3(){return this.rgb().formatHex()}function Hz(){return this.rgb().formatHex8()}function Vz(){return K8(this).formatHsl()}function x3(){return this.rgb().formatRgb()}function bh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Fz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?b3(t):r===3?new yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Jp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Jp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zz.exec(e))?new yi(t[1],t[2],t[3],1):(t=Bz.exec(e))?new yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Uz.exec(e))?Jp(t[1],t[2],t[3],t[4]):(t=qz.exec(e))?Jp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$z.exec(e))?N3(t[1],t[2]/100,t[3]/100,1):(t=Wz.exec(e))?N3(t[1],t[2]/100,t[3]/100,t[4]):v3.hasOwnProperty(e)?b3(v3[e]):e==="transparent"?new yi(NaN,NaN,NaN,0):null}function b3(e){return new yi(e>>16&255,e>>8&255,e&255,1)}function Jp(e,t,r,n){return n<=0&&(e=t=r=NaN),new yi(e,t,r,n)}function Kz(e){return e instanceof Bh||(e=bh(e)),e?(e=e.rgb(),new yi(e.r,e.g,e.b,e.opacity)):new yi}function D1(e,t,r,n){return arguments.length===1?Kz(e):new yi(e,t,r,n??1)}function yi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}L2(yi,D1,V8(Bh,{brighter(e){return e=e==null?Q0:Math.pow(Q0,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yi(Ou(this.r),Ou(this.g),Ou(this.b),J0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y3,formatHex:y3,formatHex8:Gz,formatRgb:w3,toString:w3}));function y3(){return`#${Su(this.r)}${Su(this.g)}${Su(this.b)}`}function Gz(){return`#${Su(this.r)}${Su(this.g)}${Su(this.b)}${Su((isNaN(this.opacity)?1:this.opacity)*255)}`}function w3(){const e=J0(this.opacity);return`${e===1?"rgb(":"rgba("}${Ou(this.r)}, ${Ou(this.g)}, ${Ou(this.b)}${e===1?")":`, ${e})`}`}function J0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ou(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Su(e){return e=Ou(e),(e<16?"0":"")+e.toString(16)}function N3(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ws(e,t,r,n)}function K8(e){if(e instanceof Ws)return new Ws(e.h,e.s,e.l,e.opacity);if(e instanceof Bh||(e=bh(e)),!e)return new Ws;if(e instanceof Ws)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,c=i-a,d=(i+a)/2;return c?(t===i?l=(r-n)/c+(r<n)*6:r===i?l=(n-t)/c+2:l=(t-r)/c+4,c/=d<.5?i+a:2-i-a,l*=60):c=d>0&&d<1?0:l,new Ws(l,c,d,e.opacity)}function Yz(e,t,r,n){return arguments.length===1?K8(e):new Ws(e,t,r,n??1)}function Ws(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}L2(Ws,Yz,V8(Bh,{brighter(e){return e=e==null?Q0:Math.pow(Q0,e),new Ws(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new Ws(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new yi(tb(e>=240?e-240:e+120,a,n),tb(e,a,n),tb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ws(j3(this.h),e0(this.s),e0(this.l),J0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=J0(this.opacity);return`${e===1?"hsl(":"hsla("}${j3(this.h)}, ${e0(this.s)*100}%, ${e0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function j3(e){return e=(e||0)%360,e<0?e+360:e}function e0(e){return Math.max(0,Math.min(1,e||0))}function tb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const D2=e=>()=>e;function Xz(e,t){return function(r){return e+r*t}}function Zz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Qz(e){return(e=+e)==1?G8:function(t,r){return r-t?Zz(t,r,e):D2(isNaN(t)?r:t)}}function G8(e,t){var r=t-e;return r?Xz(e,r):D2(isNaN(e)?t:e)}const k3=function e(t){var r=Qz(t);function n(a,i){var l=r((a=D1(a)).r,(i=D1(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=G8(a.opacity,i.opacity);return function(h){return a.r=l(h),a.g=c(h),a.b=d(h),a.opacity=f(h),a+""}}return n.gamma=e,n}(1);function Jz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function eB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=Jd(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(c){for(l=0;l<n;++l)i[l]=a[l](c);return i}}function rB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function em(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nB(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Jd(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var T1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rb=new RegExp(T1.source,"g");function aB(e){return function(){return e}}function iB(e){return function(t){return e(t)+""}}function sB(e,t){var r=T1.lastIndex=rb.lastIndex=0,n,a,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=T1.exec(e))&&(a=rb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[l]?c[l]+=i:c[++l]=i),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:em(n,a)})),r=rb.lastIndex;return r<t.length&&(i=t.slice(r),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?iB(d[0].x):aB(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)c[(m=d[h]).i]=m.x(f);return c.join("")})}function Jd(e,t){var r=typeof t,n;return t==null||r==="boolean"?D2(t):(r==="number"?em:r==="string"?(n=bh(t))?(t=n,k3):sB:t instanceof bh?k3:t instanceof Date?rB:eB(t)?Jz:Array.isArray(t)?tB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nB:em)(e,t)}function T2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oB(e,t){t===void 0&&(t=e,e=Jd);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[c](l-c)}}function lB(e){return function(){return e}}function tm(e){return+e}var S3=[0,1];function Ya(e){return e}function M1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lB(isNaN(t)?NaN:.5)}function cB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uB(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=M1(a,n),i=r(l,i)):(n=M1(n,a),i=r(i,l)),function(c){return i(n(c))}}function dB(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=M1(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(c){var d=zh(e,c,1,n)-1;return i[d](a[d](c))}}function Uh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ym(){var e=S3,t=S3,r=Jd,n,a,i,l=Ya,c,d,f;function h(){var g=Math.min(e.length,t.length);return l!==Ya&&(l=cB(e[0],e[g-1])),c=g>2?dB:uB,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(d||(d=c(e.map(n),t,r)))(n(l(g)))}return m.invert=function(g){return l(a((f||(f=c(t,e.map(n),em)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,tm),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=T2,h()},m.clamp=function(g){return arguments.length?(l=g?!0:Ya,h()):l!==Ya},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,p){return n=g,a=p,h()}}function M2(){return Ym()(Ya,Ya)}function fB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rm(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vd(e){return e=rm(Math.abs(e)),e?e[1]:NaN}function hB(e,t){return function(r,n){for(var a=r.length,i=[],l=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return i.reverse().join(t)}}function pB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yh(e){if(!(t=mB.exec(e)))throw new Error("invalid format: "+e);var t;return new R2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yh.prototype=R2.prototype;function R2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}R2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vB(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var nm;function gB(e,t){var r=rm(e,t);if(!r)return nm=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(nm=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+rm(e,Math.max(0,t+i-1))[0]}function A3(e,t){var r=rm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const P3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>A3(e*100,t),r:A3,s:gB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function C3(e){return e}var _3=Array.prototype.map,O3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xB(e){var t=e.grouping===void 0||e.thousands===void 0?C3:hB(_3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?C3:pB(_3.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m,g){m=yh(m);var p=m.fill,b=m.align,w=m.sign,N=m.symbol,k=m.zero,L=m.width,E=m.comma,I=m.precision,M=m.trim,F=m.type;F==="n"?(E=!0,F="g"):P3[F]||(I===void 0&&(I=12),M=!0,F="g"),(k||p==="0"&&b==="=")&&(k=!0,p="0",b="=");var R=(g&&g.prefix!==void 0?g.prefix:"")+(N==="$"?r:N==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():""),U=(N==="$"?n:/[%p]/.test(F)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),B=P3[F],Y=/[defgprs%]/.test(F);I=I===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function C(T){var H=R,V=U,W,pe,ue;if(F==="c")V=B(T)+V,T="";else{T=+T;var J=T<0||1/T<0;if(T=isNaN(T)?d:B(Math.abs(T),I),M&&(T=vB(T)),J&&+T==0&&w!=="+"&&(J=!1),H=(J?w==="("?w:c:w==="-"||w==="("?"":w)+H,V=(F==="s"&&!isNaN(T)&&nm!==void 0?O3[8+nm/3]:"")+V+(J&&w==="("?")":""),Y){for(W=-1,pe=T.length;++W<pe;)if(ue=T.charCodeAt(W),48>ue||ue>57){V=(ue===46?a+T.slice(W+1):T.slice(W))+V,T=T.slice(0,W);break}}}E&&!k&&(T=t(T,1/0));var le=H.length+T.length+V.length,me=le<L?new Array(L-le+1).join(p):"";switch(E&&k&&(T=t(me+T,me.length?L-V.length:1/0),me=""),b){case"<":T=H+T+V+me;break;case"=":T=H+me+T+V;break;case"^":T=me.slice(0,le=me.length>>1)+H+T+V+me.slice(le);break;default:T=me+H+T+V;break}return i(T)}return C.toString=function(){return m+""},C}function h(m,g){var p=Math.max(-8,Math.min(8,Math.floor(Vd(g)/3)))*3,b=Math.pow(10,-p),w=f((m=yh(m),m.type="f",m),{suffix:O3[8+p/3]});return function(N){return w(b*N)}}return{format:f,formatPrefix:h}}var t0,F2,Y8;bB({thousands:",",grouping:[3],currency:["$",""]});function bB(e){return t0=xB(e),F2=t0.format,Y8=t0.formatPrefix,t0}function yB(e){return Math.max(0,-Vd(Math.abs(e)))}function wB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vd(t)/3)))*3-Vd(Math.abs(e)))}function NB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vd(t)-Vd(e))+1}function X8(e,t,r,n){var a=E1(e,t,r),i;switch(n=yh(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=wB(a,l))&&(n.precision=i),Y8(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=NB(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=yB(a))&&(n.precision=i-(n.type==="%")*2);break}}return F2(n)}function Fc(e){var t=e.domain;return e.ticks=function(r){var n=t();return O1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return X8(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],c=n[i],d,f,h=10;for(c<l&&(f=l,l=c,c=f,f=a,a=i,i=f);h-- >0;){if(f=I1(l,c,r),f===d)return n[a]=l,n[i]=c,t(n);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function Z8(){var e=M2();return e.copy=function(){return Uh(e,Z8())},bs.apply(e,arguments),Fc(e)}function Q8(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,tm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Q8(e).unknown(t)},e=arguments.length?Array.from(e,tm):[0,1],Fc(r)}function J8(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function I3(e){return Math.log(e)}function E3(e){return Math.exp(e)}function jB(e){return-Math.log(-e)}function kB(e){return-Math.exp(-e)}function SB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AB(e){return e===10?SB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function L3(e){return(t,r)=>-e(-t,r)}function z2(e){const t=e(I3,E3),r=t.domain;let n=10,a,i;function l(){return a=PB(n),i=AB(n),r()[0]<0?(a=L3(a),i=L3(i),e(jB,kB)):e(I3,E3),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(r(c),l()):r()},t.ticks=c=>{const d=r();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=a(f),p=a(h),b,w;const N=c==null?10:+c;let k=[];if(!(n%1)&&p-g<N){if(g=Math.floor(g),p=Math.ceil(p),f>0){for(;g<=p;++g)for(b=1;b<n;++b)if(w=g<0?b/i(-g):b*i(g),!(w<f)){if(w>h)break;k.push(w)}}else for(;g<=p;++g)for(b=n-1;b>=1;--b)if(w=g>0?b/i(-g):b*i(g),!(w<f)){if(w>h)break;k.push(w)}k.length*2<N&&(k=O1(f,h,N))}else k=O1(g,p,Math.min(p-g,N)).map(i);return m?k.reverse():k},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=yh(d)).precision==null&&(d.trim=!0),d=F2(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=f?d(h):""}},t.nice=()=>r(J8(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function eP(){const e=z2(Ym()).domain([1,10]);return e.copy=()=>Uh(e,eP()).base(e.base()),bs.apply(e,arguments),e}function D3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function T3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function B2(e){var t=1,r=e(D3(t),T3(t));return r.constant=function(n){return arguments.length?e(D3(t=+n),T3(t)):t},Fc(r)}function tP(){var e=B2(Ym());return e.copy=function(){return Uh(e,tP()).constant(e.constant())},bs.apply(e,arguments)}function M3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _B(e){return e<0?-e*e:e*e}function U2(e){var t=e(Ya,Ya),r=1;function n(){return r===1?e(Ya,Ya):r===.5?e(CB,_B):e(M3(r),M3(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Fc(t)}function q2(){var e=U2(Ym());return e.copy=function(){return Uh(e,q2()).exponent(e.exponent())},bs.apply(e,arguments),e}function OB(){return q2.apply(null,arguments).exponent(.5)}function R3(e){return Math.sign(e)*e*e}function IB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rP(){var e=M2(),t=[0,1],r=!1,n;function a(i){var l=IB(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(R3(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,tm)).map(R3)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return rP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bs.apply(a,arguments),Fc(a)}function nP(){var e=[],t=[],r=[],n;function a(){var l=0,c=Math.max(1,t.length);for(r=new Array(c-1);++l<c;)r[l-1]=Tz(e,l/c);return i}function i(l){return l==null||isNaN(l=+l)?n:t[zh(r,l)]}return i.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Lc),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return nP().domain(e).range(t).unknown(n)},bs.apply(i,arguments)}function aP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[zh(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return aP().domain([e,t]).range(a).unknown(i)},bs.apply(Fc(l),arguments)}function iP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[zh(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return iP().domain(e).range(t).unknown(r)},bs.apply(a,arguments)}const nb=new Date,ab=new Date;function $n(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),c=a.ceil(i);return i-l<c-i?l:c},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<l);return d},a.filter=i=>$n(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!i(l););else for(;--c>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(nb.setTime(+i),ab.setTime(+l),e(nb),e(ab),Math.floor(r(nb,ab))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const am=$n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);am.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$n(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):am);am.range;const Sl=1e3,ps=Sl*60,Al=ps*60,El=Al*24,$2=El*7,F3=El*30,ib=El*365,Au=$n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sl)},(e,t)=>(t-e)/Sl,e=>e.getUTCSeconds());Au.range;const W2=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sl)},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getMinutes());W2.range;const H2=$n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getUTCMinutes());H2.range;const V2=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sl-e.getMinutes()*ps)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getHours());V2.range;const K2=$n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getUTCHours());K2.range;const qh=$n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ps)/El,e=>e.getDate()-1);qh.range;const Xm=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/El,e=>e.getUTCDate()-1);Xm.range;const sP=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/El,e=>Math.floor(e/El));sP.range;function Hu(e){return $n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ps)/$2)}const Zm=Hu(0),im=Hu(1),EB=Hu(2),LB=Hu(3),Kd=Hu(4),DB=Hu(5),TB=Hu(6);Zm.range;im.range;EB.range;LB.range;Kd.range;DB.range;TB.range;function Vu(e){return $n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$2)}const Qm=Vu(0),sm=Vu(1),MB=Vu(2),RB=Vu(3),Gd=Vu(4),FB=Vu(5),zB=Vu(6);Qm.range;sm.range;MB.range;RB.range;Gd.range;FB.range;zB.range;const G2=$n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());G2.range;const Y2=$n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Y2.range;const Ll=$n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ll.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ll.range;const Dl=$n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Dl.range;function oP(e,t,r,n,a,i){const l=[[Au,1,Sl],[Au,5,5*Sl],[Au,15,15*Sl],[Au,30,30*Sl],[i,1,ps],[i,5,5*ps],[i,15,15*ps],[i,30,30*ps],[a,1,Al],[a,3,3*Al],[a,6,6*Al],[a,12,12*Al],[n,1,El],[n,2,2*El],[r,1,$2],[t,1,F3],[t,3,3*F3],[e,1,ib]];function c(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const p=m&&typeof m.range=="function"?m:d(f,h,m),b=p?p.range(f,+h+1):[];return g?b.reverse():b}function d(f,h,m){const g=Math.abs(h-f)/m,p=O2(([,,N])=>N).right(l,g);if(p===l.length)return e.every(E1(f/ib,h/ib,m));if(p===0)return am.every(Math.max(E1(f,h,m),1));const[b,w]=l[g/l[p-1][2]<l[p][2]/g?p-1:p];return b.every(w)}return[c,d]}const[BB,UB]=oP(Dl,Y2,Qm,sP,K2,H2),[qB,$B]=oP(Ll,G2,Zm,qh,V2,W2);function sb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ob(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WB(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,f=Yf(a),h=Xf(a),m=Yf(i),g=Xf(i),p=Yf(l),b=Xf(l),w=Yf(c),N=Xf(c),k=Yf(d),L=Xf(d),E={a:ue,A:J,b:le,B:me,c:null,d:W3,e:W3,f:hU,g:jU,G:SU,H:uU,I:dU,j:fU,L:lP,m:pU,M:mU,p:ee,q:z,Q:K3,s:G3,S:vU,u:gU,U:xU,V:bU,w:yU,W:wU,x:null,X:null,y:NU,Y:kU,Z:AU,"%":V3},I={a:re,A:ie,b:fe,B:Z,c:null,d:H3,e:H3,f:OU,g:BU,G:qU,H:PU,I:CU,j:_U,L:uP,m:IU,M:EU,p:de,q:we,Q:K3,s:G3,S:LU,u:DU,U:TU,V:MU,w:RU,W:FU,x:null,X:null,y:zU,Y:UU,Z:$U,"%":V3},M={a:Y,A:C,b:T,B:H,c:V,d:q3,e:q3,f:sU,g:U3,G:B3,H:$3,I:$3,j:rU,L:iU,m:tU,M:nU,p:B,q:eU,Q:lU,s:cU,S:aU,u:YB,U:XB,V:ZB,w:GB,W:QB,x:W,X:pe,y:U3,Y:B3,Z:JB,"%":oU};E.x=F(r,E),E.X=F(n,E),E.c=F(t,E),I.x=F(r,I),I.X=F(n,I),I.c=F(t,I);function F(ae,ye){return function(_e){var ke=[],qe=-1,Ke=0,ne=ae.length,He,ft,dt;for(_e instanceof Date||(_e=new Date(+_e));++qe<ne;)ae.charCodeAt(qe)===37&&(ke.push(ae.slice(Ke,qe)),(ft=z3[He=ae.charAt(++qe)])!=null?He=ae.charAt(++qe):ft=He==="e"?" ":"0",(dt=ye[He])&&(He=dt(_e,ft)),ke.push(He),Ke=qe+1);return ke.push(ae.slice(Ke,qe)),ke.join("")}}function R(ae,ye){return function(_e){var ke=Gf(1900,void 0,1),qe=U(ke,ae,_e+="",0),Ke,ne;if(qe!=_e.length)return null;if("Q"in ke)return new Date(ke.Q);if("s"in ke)return new Date(ke.s*1e3+("L"in ke?ke.L:0));if(ye&&!("Z"in ke)&&(ke.Z=0),"p"in ke&&(ke.H=ke.H%12+ke.p*12),ke.m===void 0&&(ke.m="q"in ke?ke.q:0),"V"in ke){if(ke.V<1||ke.V>53)return null;"w"in ke||(ke.w=1),"Z"in ke?(Ke=ob(Gf(ke.y,0,1)),ne=Ke.getUTCDay(),Ke=ne>4||ne===0?sm.ceil(Ke):sm(Ke),Ke=Xm.offset(Ke,(ke.V-1)*7),ke.y=Ke.getUTCFullYear(),ke.m=Ke.getUTCMonth(),ke.d=Ke.getUTCDate()+(ke.w+6)%7):(Ke=sb(Gf(ke.y,0,1)),ne=Ke.getDay(),Ke=ne>4||ne===0?im.ceil(Ke):im(Ke),Ke=qh.offset(Ke,(ke.V-1)*7),ke.y=Ke.getFullYear(),ke.m=Ke.getMonth(),ke.d=Ke.getDate()+(ke.w+6)%7)}else("W"in ke||"U"in ke)&&("w"in ke||(ke.w="u"in ke?ke.u%7:"W"in ke?1:0),ne="Z"in ke?ob(Gf(ke.y,0,1)).getUTCDay():sb(Gf(ke.y,0,1)).getDay(),ke.m=0,ke.d="W"in ke?(ke.w+6)%7+ke.W*7-(ne+5)%7:ke.w+ke.U*7-(ne+6)%7);return"Z"in ke?(ke.H+=ke.Z/100|0,ke.M+=ke.Z%100,ob(ke)):sb(ke)}}function U(ae,ye,_e,ke){for(var qe=0,Ke=ye.length,ne=_e.length,He,ft;qe<Ke;){if(ke>=ne)return-1;if(He=ye.charCodeAt(qe++),He===37){if(He=ye.charAt(qe++),ft=M[He in z3?ye.charAt(qe++):He],!ft||(ke=ft(ae,_e,ke))<0)return-1}else if(He!=_e.charCodeAt(ke++))return-1}return ke}function B(ae,ye,_e){var ke=f.exec(ye.slice(_e));return ke?(ae.p=h.get(ke[0].toLowerCase()),_e+ke[0].length):-1}function Y(ae,ye,_e){var ke=p.exec(ye.slice(_e));return ke?(ae.w=b.get(ke[0].toLowerCase()),_e+ke[0].length):-1}function C(ae,ye,_e){var ke=m.exec(ye.slice(_e));return ke?(ae.w=g.get(ke[0].toLowerCase()),_e+ke[0].length):-1}function T(ae,ye,_e){var ke=k.exec(ye.slice(_e));return ke?(ae.m=L.get(ke[0].toLowerCase()),_e+ke[0].length):-1}function H(ae,ye,_e){var ke=w.exec(ye.slice(_e));return ke?(ae.m=N.get(ke[0].toLowerCase()),_e+ke[0].length):-1}function V(ae,ye,_e){return U(ae,t,ye,_e)}function W(ae,ye,_e){return U(ae,r,ye,_e)}function pe(ae,ye,_e){return U(ae,n,ye,_e)}function ue(ae){return l[ae.getDay()]}function J(ae){return i[ae.getDay()]}function le(ae){return d[ae.getMonth()]}function me(ae){return c[ae.getMonth()]}function ee(ae){return a[+(ae.getHours()>=12)]}function z(ae){return 1+~~(ae.getMonth()/3)}function re(ae){return l[ae.getUTCDay()]}function ie(ae){return i[ae.getUTCDay()]}function fe(ae){return d[ae.getUTCMonth()]}function Z(ae){return c[ae.getUTCMonth()]}function de(ae){return a[+(ae.getUTCHours()>=12)]}function we(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ye=F(ae+="",E);return ye.toString=function(){return ae},ye},parse:function(ae){var ye=R(ae+="",!1);return ye.toString=function(){return ae},ye},utcFormat:function(ae){var ye=F(ae+="",I);return ye.toString=function(){return ae},ye},utcParse:function(ae){var ye=R(ae+="",!0);return ye.toString=function(){return ae},ye}}}var z3={"-":"",_:" ",0:"0"},ia=/^\s*\d+/,HB=/^%/,VB=/[\\^$*+?|[\]().{}]/g;function ir(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function KB(e){return e.replace(VB,"\\$&")}function Yf(e){return new RegExp("^(?:"+e.map(KB).join("|")+")","i")}function Xf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function GB(e,t,r){var n=ia.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function YB(e,t,r){var n=ia.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function XB(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ZB(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function QB(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function B3(e,t,r){var n=ia.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function U3(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function JB(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eU(e,t,r){var n=ia.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tU(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function q3(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rU(e,t,r){var n=ia.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function $3(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nU(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aU(e,t,r){var n=ia.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function iU(e,t,r){var n=ia.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sU(e,t,r){var n=ia.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oU(e,t,r){var n=HB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lU(e,t,r){var n=ia.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cU(e,t,r){var n=ia.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function W3(e,t){return ir(e.getDate(),t,2)}function uU(e,t){return ir(e.getHours(),t,2)}function dU(e,t){return ir(e.getHours()%12||12,t,2)}function fU(e,t){return ir(1+qh.count(Ll(e),e),t,3)}function lP(e,t){return ir(e.getMilliseconds(),t,3)}function hU(e,t){return lP(e,t)+"000"}function pU(e,t){return ir(e.getMonth()+1,t,2)}function mU(e,t){return ir(e.getMinutes(),t,2)}function vU(e,t){return ir(e.getSeconds(),t,2)}function gU(e){var t=e.getDay();return t===0?7:t}function xU(e,t){return ir(Zm.count(Ll(e)-1,e),t,2)}function cP(e){var t=e.getDay();return t>=4||t===0?Kd(e):Kd.ceil(e)}function bU(e,t){return e=cP(e),ir(Kd.count(Ll(e),e)+(Ll(e).getDay()===4),t,2)}function yU(e){return e.getDay()}function wU(e,t){return ir(im.count(Ll(e)-1,e),t,2)}function NU(e,t){return ir(e.getFullYear()%100,t,2)}function jU(e,t){return e=cP(e),ir(e.getFullYear()%100,t,2)}function kU(e,t){return ir(e.getFullYear()%1e4,t,4)}function SU(e,t){var r=e.getDay();return e=r>=4||r===0?Kd(e):Kd.ceil(e),ir(e.getFullYear()%1e4,t,4)}function AU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ir(t/60|0,"0",2)+ir(t%60,"0",2)}function H3(e,t){return ir(e.getUTCDate(),t,2)}function PU(e,t){return ir(e.getUTCHours(),t,2)}function CU(e,t){return ir(e.getUTCHours()%12||12,t,2)}function _U(e,t){return ir(1+Xm.count(Dl(e),e),t,3)}function uP(e,t){return ir(e.getUTCMilliseconds(),t,3)}function OU(e,t){return uP(e,t)+"000"}function IU(e,t){return ir(e.getUTCMonth()+1,t,2)}function EU(e,t){return ir(e.getUTCMinutes(),t,2)}function LU(e,t){return ir(e.getUTCSeconds(),t,2)}function DU(e){var t=e.getUTCDay();return t===0?7:t}function TU(e,t){return ir(Qm.count(Dl(e)-1,e),t,2)}function dP(e){var t=e.getUTCDay();return t>=4||t===0?Gd(e):Gd.ceil(e)}function MU(e,t){return e=dP(e),ir(Gd.count(Dl(e),e)+(Dl(e).getUTCDay()===4),t,2)}function RU(e){return e.getUTCDay()}function FU(e,t){return ir(sm.count(Dl(e)-1,e),t,2)}function zU(e,t){return ir(e.getUTCFullYear()%100,t,2)}function BU(e,t){return e=dP(e),ir(e.getUTCFullYear()%100,t,2)}function UU(e,t){return ir(e.getUTCFullYear()%1e4,t,4)}function qU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gd(e):Gd.ceil(e),ir(e.getUTCFullYear()%1e4,t,4)}function $U(){return"+0000"}function V3(){return"%"}function K3(e){return+e}function G3(e){return Math.floor(+e/1e3)}var Cd,fP,hP;WU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WU(e){return Cd=WB(e),fP=Cd.format,Cd.parse,hP=Cd.utcFormat,Cd.utcParse,Cd}function HU(e){return new Date(e)}function VU(e){return e instanceof Date?+e:+new Date(+e)}function X2(e,t,r,n,a,i,l,c,d,f){var h=M2(),m=h.invert,g=h.domain,p=f(".%L"),b=f(":%S"),w=f("%I:%M"),N=f("%I %p"),k=f("%a %d"),L=f("%b %d"),E=f("%B"),I=f("%Y");function M(F){return(d(F)<F?p:c(F)<F?b:l(F)<F?w:i(F)<F?N:n(F)<F?a(F)<F?k:L:r(F)<F?E:I)(F)}return h.invert=function(F){return new Date(m(F))},h.domain=function(F){return arguments.length?g(Array.from(F,VU)):g().map(HU)},h.ticks=function(F){var R=g();return e(R[0],R[R.length-1],F??10)},h.tickFormat=function(F,R){return R==null?M:f(R)},h.nice=function(F){var R=g();return(!F||typeof F.range!="function")&&(F=t(R[0],R[R.length-1],F??10)),F?g(J8(R,F)):h},h.copy=function(){return Uh(h,X2(e,t,r,n,a,i,l,c,d,f))},h}function KU(){return bs.apply(X2(qB,$B,Ll,G2,Zm,qh,V2,W2,Au,fP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GU(){return bs.apply(X2(BB,UB,Dl,Y2,Qm,Xm,K2,H2,Au,hP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jm(){var e=0,t=1,r,n,a,i,l=Ya,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(a===0?.5:(m=(i(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(g){var p,b;return arguments.length?([p,b]=g,l=m(p,b),f):[l(0),l(1)]}}return f.range=h(Jd),f.rangeRound=h(T2),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function zc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pP(){var e=Fc(Jm()(Ya));return e.copy=function(){return zc(e,pP())},Bl.apply(e,arguments)}function mP(){var e=z2(Jm()).domain([1,10]);return e.copy=function(){return zc(e,mP()).base(e.base())},Bl.apply(e,arguments)}function vP(){var e=B2(Jm());return e.copy=function(){return zc(e,vP()).constant(e.constant())},Bl.apply(e,arguments)}function Z2(){var e=U2(Jm());return e.copy=function(){return zc(e,Z2()).exponent(e.exponent())},Bl.apply(e,arguments)}function YU(){return Z2.apply(null,arguments).exponent(.5)}function gP(){var e=[],t=Ya;function r(n){if(n!=null&&!isNaN(n=+n))return t((zh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Lc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Dz(e,i/n))},r.copy=function(){return gP(t).domain(e)},Bl.apply(r,arguments)}function ev(){var e=0,t=.5,r=1,n=1,a,i,l,c,d,f=Ya,h,m=!1,g;function p(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-i)*(n*w<n*i?c:d),f(m?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([e,t,r]=w,a=h(e=+e),i=h(t=+t),l=h(r=+r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(w){return arguments.length?(m=!!w,p):m},p.interpolator=function(w){return arguments.length?(f=w,p):f};function b(w){return function(N){var k,L,E;return arguments.length?([k,L,E]=N,f=oB(w,[k,L,E]),p):[f(0),f(.5),f(1)]}}return p.range=b(Jd),p.rangeRound=b(T2),p.unknown=function(w){return arguments.length?(g=w,p):g},function(w){return h=w,a=w(e),i=w(t),l=w(r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,p}}function xP(){var e=Fc(ev()(Ya));return e.copy=function(){return zc(e,xP())},Bl.apply(e,arguments)}function bP(){var e=z2(ev()).domain([.1,1,10]);return e.copy=function(){return zc(e,bP()).base(e.base())},Bl.apply(e,arguments)}function yP(){var e=B2(ev());return e.copy=function(){return zc(e,yP()).constant(e.constant())},Bl.apply(e,arguments)}function Q2(){var e=U2(ev());return e.copy=function(){return zc(e,Q2()).exponent(e.exponent())},Bl.apply(e,arguments)}function XU(){return Q2.apply(null,arguments).exponent(.5)}const Jf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:E2,scaleDiverging:xP,scaleDivergingLog:bP,scaleDivergingPow:Q2,scaleDivergingSqrt:XU,scaleDivergingSymlog:yP,scaleIdentity:Q8,scaleImplicit:L1,scaleLinear:Z8,scaleLog:eP,scaleOrdinal:I2,scalePoint:Rz,scalePow:q2,scaleQuantile:nP,scaleQuantize:aP,scaleRadial:rP,scaleSequential:pP,scaleSequentialLog:mP,scaleSequentialPow:Z2,scaleSequentialQuantile:gP,scaleSequentialSqrt:YU,scaleSequentialSymlog:vP,scaleSqrt:OB,scaleSymlog:tP,scaleThreshold:iP,scaleTime:KU,scaleUtc:GU,tickFormat:X8},Symbol.toStringTag,{value:"Module"}));var Bc=e=>e.chartData,ZU=Le([Bc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),J2=(e,t,r,n)=>n?ZU(e):Bc(e);function Tl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ar(t)&&ar(r))return!0}return!1}function Y3(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(ar(r))a=r;else if(typeof r=="function")return;if(ar(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(Tl(l))return l}}function QU(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Tl(n))return Y3(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,c;if(a==="auto")t!=null&&(l=Math.min(...t));else if(gt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&o4.test(a)){var d=o4.exec(a);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(gt(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&l4.test(i)){var h=l4.exec(i);if(h==null||h[1]==null||t==null)c=void 0;else{var m=+h[1];c=t[1]+m}}else c=t==null?void 0:t[1];var g=[l,c];if(Tl(g))return t==null?g:Y3(g,t,r)}}}var ef=1e9,JU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ty,Kr=!0,gs="[DecimalError] ",Iu=gs+"Invalid argument: ",ey=gs+"Exponent out of range: ",tf=Math.floor,Nu=Math.pow,eq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ui,ra=1e7,Rr=7,NP=9007199254740991,om=tf(NP/Rr),et={};et.absoluteValue=et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};et.comparedTo=et.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};et.decimalPlaces=et.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};et.dividedBy=et.div=function(e){return Pl(this,new this.constructor(e))};et.dividedToIntegerBy=et.idiv=function(e){var t=this,r=t.constructor;return Ar(Pl(t,new r(e),0,1),r.precision)};et.equals=et.eq=function(e){return!this.cmp(e)};et.exponent=function(){return En(this)};et.greaterThan=et.gt=function(e){return this.cmp(e)>0};et.greaterThanOrEqualTo=et.gte=function(e){return this.cmp(e)>=0};et.isInteger=et.isint=function(){return this.e>this.d.length-2};et.isNegative=et.isneg=function(){return this.s<0};et.isPositive=et.ispos=function(){return this.s>0};et.isZero=function(){return this.s===0};et.lessThan=et.lt=function(e){return this.cmp(e)<0};et.lessThanOrEqualTo=et.lte=function(e){return this.cmp(e)<1};et.logarithm=et.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ui))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(Ui)?new n(0):(Kr=!1,t=Pl(wh(r,i),wh(e,i),i),Kr=!0,Ar(t,a))};et.minus=et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SP(t,e):jP(t,(e.s=-e.s,e))};et.modulo=et.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gs+"NaN");return r.s?(Kr=!1,t=Pl(r,e,0,1).times(e),Kr=!0,r.minus(t)):Ar(new n(r),a)};et.naturalExponential=et.exp=function(){return kP(this)};et.naturalLogarithm=et.ln=function(){return wh(this)};et.negated=et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};et.plus=et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jP(t,e):SP(t,(e.s=-e.s,e))};et.precision=et.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Iu+e);if(t=En(a)+1,n=a.d.length-1,r=n*Rr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};et.squareRoot=et.sqrt=function(){var e,t,r,n,a,i,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(gs+"NaN")}for(e=En(c),Kr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=_o(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=tf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(Pl(c,i,l+2)).times(.5),_o(i.d).slice(0,l)===(t=_o(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Ar(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;l+=4}return Kr=!0,Ar(n,r)};et.times=et.mul=function(e){var t,r,n,a,i,l,c,d,f,h=this,m=h.constructor,g=h.d,p=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,d=g.length,f=p.length,d<f&&(i=g,g=p,p=i,l=d,d=f,f=l),i=[],l=d+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+p[n]*g[a-n-1]+t,i[a--]=c%ra|0,t=c/ra|0;i[a]=(i[a]+t)%ra|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Kr?Ar(e,m.precision):e};et.toDecimalPlaces=et.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(To(e,0,ef),t===void 0?t=n.rounding:To(t,0,8),Ar(r,e+En(r)+1,t))};et.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Uu(n,!0):(To(e,0,ef),t===void 0?t=a.rounding:To(t,0,8),n=Ar(new a(n),e+1,t),r=Uu(n,!0,e+1)),r};et.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Uu(a):(To(e,0,ef),t===void 0?t=i.rounding:To(t,0,8),n=Ar(new i(a),e+En(a)+1,t),r=Uu(n.abs(),!1,e+En(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};et.toInteger=et.toint=function(){var e=this,t=e.constructor;return Ar(new t(e),En(e)+1,t.rounding)};et.toNumber=function(){return+this};et.toPower=et.pow=function(e){var t,r,n,a,i,l,c=this,d=c.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(Ui);if(c=new d(c),!c.s){if(e.s<1)throw Error(gs+"Infinity");return c}if(c.eq(Ui))return c;if(n=d.precision,e.eq(Ui))return Ar(c,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=c.s,l){if((r=h<0?-h:h)<=NP){for(a=new d(Ui),t=Math.ceil(n/Rr+4),Kr=!1;r%2&&(a=a.times(c),Z3(a.d,t)),r=tf(r/2),r!==0;)c=c.times(c),Z3(c.d,t);return Kr=!0,e.s<0?new d(Ui).div(a):Ar(a,n)}}else if(i<0)throw Error(gs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Kr=!1,a=e.times(wh(c,n+f)),Kr=!0,a=kP(a),a.s=i,a};et.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=En(a),n=Uu(a,r<=i.toExpNeg||r>=i.toExpPos)):(To(e,1,ef),t===void 0?t=i.rounding:To(t,0,8),a=Ar(new i(a),e,t),r=En(a),n=Uu(a,e<=r||r<=i.toExpNeg,e)),n};et.toSignificantDigits=et.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(To(e,1,ef),t===void 0?t=n.rounding:To(t,0,8)),Ar(new n(r),e,t)};et.toString=et.valueOf=et.val=et.toJSON=et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=En(e),r=e.constructor;return Uu(e,t<=r.toExpNeg||t>=r.toExpPos)};function jP(e,t){var r,n,a,i,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Kr?Ar(t,m):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=l,c=d.length),l=Math.ceil(m/Rr),c=l>c?l+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/ra|0,d[i]%=ra;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Kr?Ar(t,m):t}function To(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Iu+e)}function _o(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Rr-n.length,r&&(i+=Cc(r)),i+=n;l=e[t],n=l+"",r=Rr-n.length,r&&(i+=Cc(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Pl=function(){function e(n,a){var i,l=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+l,n[c]=i%ra|0,l=i/ra|0;return l&&n.unshift(l),n}function t(n,a,i,l){var c,d;if(i!=l)d=i>l?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*ra+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var c,d,f,h,m,g,p,b,w,N,k,L,E,I,M,F,R,U,B=n.constructor,Y=n.s==a.s?1:-1,C=n.d,T=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(gs+"Division by zero");for(d=n.e-a.e,R=T.length,M=C.length,p=new B(Y),b=p.d=[],f=0;T[f]==(C[f]||0);)++f;if(T[f]>(C[f]||0)&&--d,i==null?L=i=B.precision:l?L=i+(En(n)-En(a))+1:L=i,L<0)return new B(0);if(L=L/Rr+2|0,f=0,R==1)for(h=0,T=T[0],L++;(f<M||h)&&L--;f++)E=h*ra+(C[f]||0),b[f]=E/T|0,h=E%T|0;else{for(h=ra/(T[0]+1)|0,h>1&&(T=e(T,h),C=e(C,h),R=T.length,M=C.length),I=R,w=C.slice(0,R),N=w.length;N<R;)w[N++]=0;U=T.slice(),U.unshift(0),F=T[0],T[1]>=ra/2&&++F;do h=0,c=t(T,w,R,N),c<0?(k=w[0],R!=N&&(k=k*ra+(w[1]||0)),h=k/F|0,h>1?(h>=ra&&(h=ra-1),m=e(T,h),g=m.length,N=w.length,c=t(m,w,g,N),c==1&&(h--,r(m,R<g?U:T,g))):(h==0&&(c=h=1),m=T.slice()),g=m.length,g<N&&m.unshift(0),r(w,m,N),c==-1&&(N=w.length,c=t(T,w,R,N),c<1&&(h++,r(w,R<N?U:T,N))),N=w.length):c===0&&(h++,w=[0]),b[f++]=h,c&&w[0]?w[N++]=C[I]||0:(w=[C[I]],N=1);while((I++<M||w[0]!==void 0)&&L--)}return b[0]||b.shift(),p.e=d,Ar(p,l?i+En(p)+1:i)}}();function kP(e,t){var r,n,a,i,l,c,d=0,f=0,h=e.constructor,m=h.precision;if(En(e)>16)throw Error(ey+En(e));if(!e.s)return new h(Ui);for(Kr=!1,c=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Nu(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new h(Ui),h.precision=c;;){if(a=Ar(a.times(e),c),r=r.times(++d),l=i.plus(Pl(a,r,c)),_o(l.d).slice(0,c)===_o(i.d).slice(0,c)){for(;f--;)i=Ar(i.times(i),c);return h.precision=m,t==null?(Kr=!0,Ar(i,m)):i}i=l}}function En(e){for(var t=e.e*Rr,r=e.d[0];r>=10;r/=10)t++;return t}function lb(e,t,r){if(t>e.LN10.sd())throw Kr=!0,r&&(e.precision=r),Error(gs+"LN10 precision limit exceeded");return Ar(new e(e.LN10),t)}function Cc(e){for(var t="";e--;)t+="0";return t}function wh(e,t){var r,n,a,i,l,c,d,f,h,m=1,g=10,p=e,b=p.d,w=p.constructor,N=w.precision;if(p.s<1)throw Error(gs+(p.s?"NaN":"-Infinity"));if(p.eq(Ui))return new w(0);if(t==null?(Kr=!1,f=N):f=t,p.eq(10))return t==null&&(Kr=!0),lb(w,f);if(f+=g,w.precision=f,r=_o(b),n=r.charAt(0),i=En(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=_o(p.d),n=r.charAt(0),m++;i=En(p),n>1?(p=new w("0."+r),i++):p=new w(n+"."+r.slice(1))}else return d=lb(w,f+2,N).times(i+""),p=wh(new w(n+"."+r.slice(1)),f-g).plus(d),w.precision=N,t==null?(Kr=!0,Ar(p,N)):p;for(c=l=p=Pl(p.minus(Ui),p.plus(Ui),f),h=Ar(p.times(p),f),a=3;;){if(l=Ar(l.times(h),f),d=c.plus(Pl(l,new w(a),f)),_o(d.d).slice(0,f)===_o(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(lb(w,f+2,N).times(i+""))),c=Pl(c,new w(m),f),w.precision=N,t==null?(Kr=!0,Ar(c,N)):c;c=d,a+=2}}function X3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=tf(r/Rr),e.d=[],n=(r+1)%Rr,r<0&&(n+=Rr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Rr;n<a;)e.d.push(+t.slice(n,n+=Rr));t=t.slice(n),n=Rr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Kr&&(e.e>om||e.e<-om))throw Error(ey+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ar(e,t,r){var n,a,i,l,c,d,f,h,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Rr,a=t,f=m[h=0];else{if(h=Math.ceil((n+1)/Rr),i=m.length,h>=i)return e;for(f=i=m[h],l=1;i>=10;i/=10)l++;n%=Rr,a=n-Rr+l}if(r!==void 0&&(i=Nu(10,l-a-1),c=f/i%10|0,d=t<0||m[h+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/Nu(10,l-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=En(e),m.length=1,t=t-i-1,m[0]=Nu(10,(Rr-t%Rr)%Rr),e.e=tf(-t/Rr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=Nu(10,Rr-n),m[h]=a>0?(f/Nu(10,l-a)%Nu(10,a)|0)*i:0),d)for(;;)if(h==0){(m[0]+=i)==ra&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=ra)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Kr&&(e.e>om||e.e<-om))throw Error(ey+En(e));return e}function SP(e,t){var r,n,a,i,l,c,d,f,h,m,g=e.constructor,p=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Kr?Ar(t,p):t;if(d=e.d,m=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(h=l<0,h?(r=d,l=-l,c=m.length):(r=m,n=f,c=d.length),a=Math.max(Math.ceil(p/Rr),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,h=a<c,h&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){h=d[a]<m[a];break}l=0}for(h&&(r=d,d=m,m=r,t.s=-t.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>l;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=ra-1;--d[i],d[a]+=ra}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Kr?Ar(t,p):t):new g(0)}function Uu(e,t,r){var n,a=En(e),i=_o(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Cc(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Cc(-a-1)+i,r&&(n=r-l)>0&&(i+=Cc(n))):a>=l?(i+=Cc(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Cc(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Cc(n))),e.s<0?"-"+i:i}function Z3(e,t){if(e.length>t)return e.length=t,!0}function AP(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Iu+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return X3(l,i.toString())}else if(typeof i!="string")throw Error(Iu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,eq.test(i))X3(l,i);else throw Error(Iu+i)}if(a.prototype=et,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=AP,a.config=a.set=tq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function tq(e){if(!e||typeof e!="object")throw Error(gs+"Object expected");var t,r,n,a=["precision",1,ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(tf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Iu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Iu+r+": "+n);return this}var ty=AP(JU);Ui=new ty(1);const gr=ty;function PP(e){var t;return e===0?t=1:t=Math.floor(new gr(e).abs().log(10).toNumber())+1,t}function CP(e,t,r){for(var n=new gr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var _P=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},OP=(e,t,r)=>{if(e.lte(0))return new gr(0);var n=PP(e.toNumber()),a=new gr(10).pow(n),i=e.div(a),l=n!==1?.05:.1,c=new gr(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return t?new gr(d.toNumber()):new gr(Math.ceil(d.toNumber()))},rq=(e,t,r)=>{var n=new gr(1),a=new gr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new gr(10).pow(PP(e)-1),a=new gr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new gr(Math.floor(e)))}else e===0?a=new gr(Math.floor((t-1)/2)):r||(a=new gr(Math.floor(e)));for(var l=Math.floor((t-1)/2),c=[],d=0;d<t;d++)c.push(a.add(new gr(d-l).mul(n)).toNumber());return c},IP=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new gr(0),tickMin:new gr(0),tickMax:new gr(0)};var l=OP(new gr(r).sub(t).div(n-1),a,i),c;t<=0&&r>=0?c=new gr(0):(c=new gr(t).add(r).div(2),c=c.sub(new gr(c).mod(l)));var d=Math.ceil(c.sub(t).div(l).toNumber()),f=Math.ceil(new gr(r).sub(c).div(l).toNumber()),h=d+f+1;return h>n?IP(t,r,n,a,i+1):(h<n&&(f=r>0?f+(n-h):f,d=r>0?d:d+(n-h)),{step:l,tickMin:c.sub(new gr(d).mul(l)),tickMax:c.add(new gr(f).mul(l))})},nq=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[c,d]=_P([r,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),d];return r>n?f.reverse():f}if(c===d)return rq(c,a,i);var{step:h,tickMin:m,tickMax:g}=IP(c,d,l,i,0),p=CP(m,g.add(new gr(.1).mul(h)),h);return r>n?p.reverse():p},aq=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=_P([n,a]);if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(r,2),f=OP(new gr(c).sub(l).div(d-1),i,0),h=[...CP(new gr(l),new gr(c),f),c];return i===!1&&(h=h.map(m=>Math.round(m))),n>a?h.reverse():h},iq=e=>e.rootProps.barCategoryGap,tv=e=>e.rootProps.stackOffset,EP=e=>e.rootProps.reverseStackOrder,ry=e=>e.options.chartName,ny=e=>e.rootProps.syncId,LP=e=>e.rootProps.syncMethod,ay=e=>e.options.eventEmitter,Xa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vu={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},wo={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},rv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function nv(e,t,r){if(r!=="auto")return r;if(e!=null)return Rl(e,t)?"category":"number"}function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(n){sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sq(e,t,r){return(t=oq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=lq(e,"string");return typeof t=="symbol"?t:t+""}function lq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J3={allowDataOverflow:vu.allowDataOverflow,allowDecimals:vu.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vu.angleAxisId,includeHidden:!1,name:void 0,reversed:vu.reversed,scale:vu.scale,tick:vu.tick,tickCount:void 0,ticks:void 0,type:vu.type,unit:void 0},ek={allowDataOverflow:wo.allowDataOverflow,allowDecimals:wo.allowDecimals,allowDuplicatedCategory:wo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wo.radiusAxisId,includeHidden:wo.includeHidden,name:void 0,reversed:wo.reversed,scale:wo.scale,tick:wo.tick,tickCount:wo.tickCount,ticks:void 0,type:wo.type,unit:void 0},cq=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},iy=Le([cq,j8],(e,t)=>{var r;if(e!=null)return e;var n=(r=nv(t,"angleAxis",J3.type))!==null&&r!==void 0?r:"category";return lm(lm({},J3),{},{type:n})}),uq=(e,t)=>e.polarAxis.radiusAxis[t],sy=Le([uq,j8],(e,t)=>{var r;if(e!=null)return e;var n=(r=nv(t,"radiusAxis",ek.type))!==null&&r!==void 0?r:"category";return lm(lm({},ek),{},{type:n})}),av=e=>e.polarOptions,oy=Le([Fl,zl,xa],lz),DP=Le([av,oy],(e,t)=>{if(e!=null)return Rc(e.innerRadius,t,0)}),TP=Le([av,oy],(e,t)=>{if(e!=null)return Rc(e.outerRadius,t,t*.8)}),dq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},MP=Le([av],dq);Le([iy,MP],rv);var RP=Le([oy,DP,TP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Le([sy,RP],rv);var FP=Le([an,av,DP,TP,Fl,zl],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=t;return{cx:Rc(l,a,a/2),cy:Rc(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),sa=(e,t)=>t,iv=(e,t,r)=>r;function zP(e){return e==null?void 0:e.id}function BP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var h=zP(c);f.forEach((m,g)=>{var p=i==null||a?g:String(va(m,i,null)),b=va(m,c.dataKey,0),w;l.has(p)?w=l.get(p):w={},Object.assign(w,{[h]:b}),l.set(p,w)})}}),Array.from(l.values())}function ly(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var sv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ov(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function fq(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var oa=e=>{var t=an(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rf=e=>e.tooltip.settings.axisId;function hq(e){if(e in Jf)return Jf[e]();var t="scale".concat(Lh(e));if(t in Jf)return Jf[t]()}function tk(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(i){function l(){return i.apply(this,arguments)}return l.toString=function(){return i.toString()},l}(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(i){var l=a[0],c=a[1];return l<=c?i>=l&&i<=c:i>=c&&i<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?i=>t.call(e,i):void 0,map:(i,l)=>{var c=e(i);if(c!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var d=e.bandwidth();switch(l.position){case"middle":c+=d/2;break;case"end":c+=d;break}}return c}}}}function rk(e,t,r){if(typeof e=="function")return tk(e.copy().domain(t).range(r));if(e!=null){var n=hq(e);if(n!=null)return n.domain(t).range(r),tk(n)}}var pq=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Tl(t)){for(var r,n,a=0;a<t.length;a++){var i=t[a];ar(i)&&((r===void 0||i<r)&&(r=i),(n===void 0||i>n)&&(n=i))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t,r){return(t=vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R1=[0,"auto"],Jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UP=(e,t)=>e.cartesianAxis.xAxis[t],Ul=(e,t)=>{var r=UP(e,t);return r??Jn},ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:R1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mh},qP=(e,t)=>e.cartesianAxis.yAxis[t],ql=(e,t)=>{var r=qP(e,t);return r??ea},xq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cy=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??xq},Ja=(e,t,r)=>{switch(t){case"xAxis":return Ul(e,r);case"yAxis":return ql(e,r);case"zAxis":return cy(e,r);case"angleAxis":return iy(e,r);case"radiusAxis":return sy(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bq=(e,t,r)=>{switch(t){case"xAxis":return Ul(e,r);case"yAxis":return ql(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$h=(e,t,r)=>{switch(t){case"xAxis":return Ul(e,r);case"yAxis":return ql(e,r);case"angleAxis":return iy(e,r);case"radiusAxis":return sy(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$P=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function WP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var HP=e=>e.graphicalItems.cartesianItems,yq=Le([sa,iv],WP),VP=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Wh=Le([HP,Ja,yq],VP,{memoizeOptions:{resultEqualityCheck:ov}}),KP=Le([Wh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ly)),GP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),wq=Le([Wh],GP),YP=e=>e.map(t=>t.data).filter(Boolean).flat(1),Nq=Le([Wh],YP,{memoizeOptions:{resultEqualityCheck:ov}}),XP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},uy=Le([Nq,J2],XP),ZP=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:va(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:va(a,n)}))):e.map(n=>({value:n})),lv=Le([uy,Ja,Wh],ZP);function QP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function p0(e){if(Lo(e)||e instanceof Date){var t=Number(e);if(ar(t))return t}}function ak(e){if(Array.isArray(e)){var t=[p0(e[0]),p0(e[1])];return Tl(t)?t:void 0}var r=p0(e);if(r!=null)return[r,r]}function Ml(e){return e.map(p0).filter(bi)}function jq(e,t,r){return!r||typeof t!="number"||Ol(t)?[]:r.length?Ml(r.flatMap(n=>{var a=va(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!ar(i)||!ar(l)))return[t-i,t+l]})):[]}var Wn=e=>{var t=oa(e),r=rf(e);return $h(e,t,r)},Hh=Le([Wn],e=>e==null?void 0:e.dataKey),kq=Le([KP,J2,Wn],BP),JP=(e,t,r,n)=>{var a={},i=t.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},a);return Object.fromEntries(Object.entries(i).map(l=>{var[c,d]=l,f=n?[...d].reverse():d,h=f.map(zP);return[c,{stackedData:eR(e,h,r),graphicalItems:f}]}))},Sq=Le([kq,KP,tv,EP],JP),eC=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=nR(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Aq=Le([Ja],e=>e.allowDataOverflow),dy=e=>{var t;if(e==null||!("domain"in e))return R1;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ml(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:R1},tC=Le([Ja],dy),rC=Le([tC,Aq],wP),Pq=Le([Sq,Bc,sa,rC],eC,{memoizeOptions:{resultEqualityCheck:sv}}),fy=e=>e.errorBars,Cq=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>QP(r,n)),um=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),c=Math.max(...i);return[l,c]}},nC=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(c=>{r.forEach(d=>{var f,h,m=(f=n[d.id])===null||f===void 0?void 0:f.filter(k=>QP(a,k)),g=va(c,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),p=jq(c,g,m);if(p.length>=2){var b=Math.min(...p),w=Math.max(...p);(i==null||b<i)&&(i=b),(l==null||w>l)&&(l=w)}var N=ak(g);N!=null&&(i=i==null?N[0]:Math.min(i,N[0]),l=l==null?N[1]:Math.max(l,N[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var d=ak(va(c,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),ar(i)&&ar(l))return[i,l]},_q=Le([uy,Ja,wq,fy,sa],nC,{memoizeOptions:{resultEqualityCheck:sv}});function Oq(e){var{value:t}=e;if(Lo(t)||t instanceof Date)return t}var Iq=(e,t,r)=>{var n=e.map(Oq).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&xA(n))?U8(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},aC=e=>e.referenceElements.dots,nf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Eq=Le([aC,sa,iv],nf),iC=e=>e.referenceElements.areas,Lq=Le([iC,sa,iv],nf),sC=e=>e.referenceElements.lines,Dq=Le([sC,sa,iv],nf),oC=(e,t)=>{if(e!=null){var r=Ml(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Tq=Le(Eq,sa,oC),lC=(e,t)=>{if(e!=null){var r=Ml(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Mq=Le([Lq,sa],lC);function Rq(e){var t;if(e.x!=null)return Ml([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ml(r)}function Fq(e){var t;if(e.y!=null)return Ml([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ml(r)}var cC=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Rq(n):Fq(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},zq=Le([Dq,sa],cC),Bq=Le(Tq,zq,Mq,(e,t,r)=>um(e,r,t)),uC=(e,t,r,n,a,i,l,c)=>{if(r!=null)return r;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?um(n,i,a):um(i,a);return QU(t,f,e.allowDataOverflow)},Uq=Le([Ja,tC,rC,Pq,_q,Bq,an,sa],uC,{memoizeOptions:{resultEqualityCheck:sv}}),qq=[0,1],dC=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:c,type:d}=e,f=Rl(t,i);if(f&&c==null){var h;return U8(0,(h=r==null?void 0:r.length)!==null&&h!==void 0?h:0)}return d==="category"?Iq(n,e,f):a==="expand"?qq:l}},hy=Le([Ja,an,uy,lv,tv,sa,Uq],dC);function $q(e){return e in Jf}var fC=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var i="scale".concat(Lh(n));return $q(i)?i:"point"}}},af=Le([Ja,$P,ry],fC);function py(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?rk(e.scale,r,n):rk(t,r,n)}var hC=(e,t,r)=>{var n=dy(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Tl(e))return nq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Tl(e))return aq(e,t.tickCount,t.allowDecimals)}},my=Le([hy,$h,af],hC),pC=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Tl(t)&&Array.isArray(r)&&r.length>0){var a,i,l=t[0],c=(a=r[0])!==null&&a!==void 0?a:0,d=t[1],f=(i=r[r.length-1])!==null&&i!==void 0?i:0;return[Math.min(l,c),Math.max(d,f)]}return t},Wq=Le([Ja,hy,my,sa],pC),Hq=Le(lv,Ja,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ml(e.map(m=>m.value))).sort((m,g)=>m-g),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var l=i-a;if(l===0)return 1/0;for(var c=0;c<n.length-1;c++){var d=n[c],f=n[c+1];if(!(d==null||f==null)){var h=f-d;r=Math.min(r,h)}}return r/l}}),mC=Le(Hq,an,iq,xa,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!ar(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Rc(r,e*i),c=e*i/2;return c-l-(c-l)/i*l}return 0}),Vq=(e,t,r)=>{var n=Ul(e,t);return n==null||typeof n.padding!="string"?0:mC(e,"xAxis",t,r,n.padding)},Kq=(e,t,r)=>{var n=ql(e,t);return n==null||typeof n.padding!="string"?0:mC(e,"yAxis",t,r,n.padding)},Gq=Le(Ul,Vq,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Yq=Le(ql,Kq,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Xq=Le([xa,Gq,$m,qm,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Zq=Le([xa,an,Yq,$m,qm,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Vh=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Xq(e,r,n);case"yAxis":return Zq(e,r,n);case"zAxis":return(a=cy(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return MP(e);case"radiusAxis":return RP(e,r);default:return}},vC=Le([Ja,Vh],rv),Qq=Le([af,Wq],pq),cv=Le([Ja,af,Qq,vC],py);Le([Wh,fy,sa],Cq);function gC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var uv=(e,t)=>t,dv=(e,t,r)=>r,Jq=Le(Bm,uv,dv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(gC)),e$=Le(Um,uv,dv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(gC)),xC=(e,t)=>({width:e.width,height:t.height}),t$=(e,t)=>{var r=typeof t.width=="number"?t.width:Mh;return{width:r,height:e.height}},r$=Le(xa,Ul,xC),n$=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},a$=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},i$=Le(zl,xa,Jq,uv,dv,(e,t,r,n,a)=>{var i={},l;return r.forEach(c=>{var d=xC(t,c);l==null&&(l=n$(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),i}),s$=Le(Fl,xa,e$,uv,dv,(e,t,r,n,a)=>{var i={},l;return r.forEach(c=>{var d=t$(t,c);l==null&&(l=a$(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),i}),o$=(e,t)=>{var r=Ul(e,t);if(r!=null)return i$(e,r.orientation,r.mirror)},l$=Le([xa,Ul,o$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),c$=(e,t)=>{var r=ql(e,t);if(r!=null)return s$(e,r.orientation,r.mirror)},u$=Le([xa,ql,c$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),d$=Le(xa,ql,(e,t)=>{var r=typeof t.width=="number"?t.width:Mh;return{width:r,height:e.height}}),bC=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,c=Rl(e,n),d=t.map(f=>f.value);if(l&&c&&i==="category"&&a&&xA(d))return d}},vy=Le([an,lv,Ja,sa],bC),yC=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=Rl(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},gy=Le([an,lv,$h,sa],yC),ik=Le([an,bq,af,cv,vy,gy,Vh,my,sa],(e,t,r,n,a,i,l,c,d)=>{if(t!=null){var f=Rl(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:c,range:l,realScaleType:r,scale:n}}}),f$=(e,t,r,n,a,i,l,c,d)=>{if(!(t==null||n==null)){var f=Rl(e,d),{type:h,ticks:m,tickCount:g}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/p:0;b=d==="angleAxis"&&i!=null&&i.length>=2?hs(i[0]-i[1])*2*b:b;var w=m||a;return w?w.map((N,k)=>{var L=l?l.indexOf(N):N,E=n.map(L);return ar(E)?{index:k,coordinate:E+b,value:N,offset:b}:null}).filter(bi):f&&c?c.map((N,k)=>{var L=n.map(N);return ar(L)?{coordinate:L+b,value:N,index:k,offset:b}:null}).filter(bi):n.ticks?n.ticks(g).map((N,k)=>{var L=n.map(N);return ar(L)?{coordinate:L+b,value:N,index:k,offset:b}:null}).filter(bi):n.domain().map((N,k)=>{var L=n.map(N);return ar(L)?{coordinate:L+b,value:l?l[N]:N,index:k,offset:b}:null}).filter(bi)}},wC=Le([an,$h,af,cv,my,Vh,vy,gy,sa],f$),h$=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Rl(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(n==null?void 0:n.length)>=2?hs(n[0]-n[1])*2*f:f,c&&i?i.map((h,m)=>{var g=r.map(h);return ar(g)?{coordinate:g+f,value:h,index:m,offset:f}:null}).filter(bi):r.ticks?r.ticks(d).map((h,m)=>{var g=r.map(h);return ar(g)?{coordinate:g+f,value:h,index:m,offset:f}:null}).filter(bi):r.domain().map((h,m)=>{var g=r.map(h);return ar(g)?{coordinate:g+f,value:a?a[h]:h,index:m,offset:f}:null}).filter(bi)}},NC=Le([an,$h,cv,Vh,vy,gy,sa],h$),jC=Le(Ja,cv,(e,t)=>{if(!(e==null||t==null))return cm(cm({},e),{},{scale:t})}),p$=Le([Ja,af,hy,vC],py);Le((e,t,r)=>cy(e,r),p$,(e,t)=>{if(!(e==null||t==null))return cm(cm({},e),{},{scale:t})});var m$=Le([an,Bm,Um],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kC=e=>e.options.defaultTooltipEventType,SC=e=>e.options.validateTooltipEventTypes;function AC(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function xy(e,t){var r=kC(e),n=SC(e);return AC(t,r,n)}function v$(e){return kt(t=>xy(t,e))}var PC=(e,t)=>{var r,n=Number(t);if(!(Ol(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},g$=e=>e.tooltip.settings,Oc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},x$={itemInteraction:{click:Oc,hover:Oc},axisInteraction:{click:Oc,hover:Oc},keyboardInteraction:Oc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CC=ji({name:"tooltip",initialState:x$,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Vr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Hs(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Vr()},removeTooltipEntrySettings:{reducer(e,t){var r=Hs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Vr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:b$,replaceTooltipEntrySettings:y$,removeTooltipEntrySettings:w$,setTooltipSettingsState:N$,setActiveMouseOverItemIndex:j$,mouseLeaveItem:OZ,mouseLeaveChart:_C,setActiveClickItemIndex:IZ,setMouseOverAxisIndex:OC,setMouseClickAxisIndex:k$,setSyncInteraction:F1,setKeyboardInteraction:z1}=CC.actions,S$=CC.reducer;function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){A$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A$(e,t,r){return(t=P$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P$(e){var t=C$(e,"string");return typeof t=="symbol"?t:t+""}function C$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _$(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function O$(e){return e.index!=null}var IC=(e,t,r,n)=>{if(t==null)return Oc;var a=_$(e,t,r);if(a==null)return Oc;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(O$(a)){if(i)return r0(r0({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return r0(r0({},Oc),{},{coordinate:a.coordinate})};function I$(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function E$(e,t){var r=I$(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),l=Math.max(n,a);return r>=i&&r<=l}function L$(e,t,r){if(r==null||t==null)return!0;var n=va(e,t);return n==null||!Tl(r)?!0:E$(n,r)}var by=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!ar(i))return a;var l=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(l,Math.min(i,c)),f=t[d];return f==null||L$(f,r,n)?String(d):null},EC=(e,t,r,n,a,i,l)=>{if(i!=null){var c=l[0],d=c==null?void 0:c.getPosition(i);if(d!=null)return d;var f=a==null?void 0:a[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},LC=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===a})},DC=e=>e.options.tooltipPayloadSearcher,sf=e=>e.tooltip;function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){D$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D$(e,t,r){return(t=T$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T$(e){var t=M$(e,"string");return typeof t=="symbol"?t:t+""}function M$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R$(e,t){return e??t}var TC=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:h}=r,m=[];return e.reduce((g,p)=>{var b,{dataDefinedOnItem:w,settings:N}=p,k=R$(w,c),L=Array.isArray(k)?u8(k,f,h):k,E=(b=N==null?void 0:N.dataKey)!==null&&b!==void 0?b:n,I=N==null?void 0:N.nameKey,M;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&l==="axis"?M=bA(L,n,a):M=i(L,t,d,I),Array.isArray(M))M.forEach(R=>{var U=lk(lk({},N),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});g.push(c4({tooltipEntrySettings:U,dataKey:R.dataKey,payload:R.payload,value:va(R.payload,R.dataKey),name:R.name}))});else{var F;g.push(c4({tooltipEntrySettings:N,dataKey:E,payload:M,value:va(M,E),name:(F=va(M,I))!==null&&F!==void 0?F:N==null?void 0:N.name}))}return g},m)}},yy=Le([Wn,$P,ry],fC),F$=Le([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),z$=Le([oa,rf],WP),of=Le([F$,Wn,z$],VP,{memoizeOptions:{resultEqualityCheck:ov}}),B$=Le([of],e=>e.filter(ly)),U$=Le([of],YP,{memoizeOptions:{resultEqualityCheck:ov}}),lf=Le([U$,Bc],XP),q$=Le([B$,Bc,Wn],BP),wy=Le([lf,Wn,of],ZP),MC=Le([Wn],dy),$$=Le([Wn],e=>e.allowDataOverflow),RC=Le([MC,$$],wP),W$=Le([of],e=>e.filter(ly)),H$=Le([q$,W$,tv,EP],JP),V$=Le([H$,Bc,oa,RC],eC),K$=Le([of],GP),G$=Le([lf,Wn,K$,fy,oa],nC,{memoizeOptions:{resultEqualityCheck:sv}}),Y$=Le([aC,oa,rf],nf),X$=Le([Y$,oa],oC),Z$=Le([iC,oa,rf],nf),Q$=Le([Z$,oa],lC),J$=Le([sC,oa,rf],nf),eW=Le([J$,oa],cC),tW=Le([X$,eW,Q$],um),rW=Le([Wn,MC,RC,V$,G$,tW,an,oa],uC),Kh=Le([Wn,an,lf,wy,tv,oa,rW],dC),nW=Le([Kh,Wn,yy],hC),aW=Le([Wn,Kh,nW,oa],pC),FC=e=>{var t=oa(e),r=rf(e),n=!1;return Vh(e,t,r,n)},zC=Le([Wn,FC],rv),BC=Le([Wn,yy,aW,zC],py),iW=Le([an,wy,Wn,oa],bC),sW=Le([an,wy,Wn,oa],yC),oW=(e,t,r,n,a,i,l,c)=>{if(t){var{type:d}=t,f=Rl(e,c);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?hs(a[0]-a[1])*2*m:m,f&&l?l.map((g,p)=>{var b=n.map(g);return ar(b)?{coordinate:b+m,value:g,index:p,offset:m}:null}).filter(bi):n.domain().map((g,p)=>{var b=n.map(g);return ar(b)?{coordinate:b+m,value:i?i[g]:g,index:p,offset:m}:null}).filter(bi)}}},$l=Le([an,Wn,yy,BC,FC,iW,sW,oa],oW),Ny=Le([kC,SC,g$],(e,t,r)=>AC(r.shared,e,t)),UC=e=>e.tooltip.settings.trigger,jy=e=>e.tooltip.settings.defaultIndex,Gh=Le([sf,Ny,UC,jy],IC),Nh=Le([Gh,lf,Hh,Kh],by),qC=Le([$l,Nh],PC),lW=Le([Gh],e=>{if(e)return e.dataKey});Le([Gh],e=>{if(e)return e.graphicalItemId});var $C=Le([sf,Ny,UC,jy],LC),cW=Le([Fl,zl,an,xa,$l,jy,$C],EC),uW=Le([Gh,cW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),dW=Le([Gh],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),fW=Le([$C,Nh,Bc,Hh,qC,DC,Ny],TC),hW=Le([fW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return(t=mW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gW=()=>kt(Wn),xW=()=>{var e=gW(),t=kt($l),r=kt(BC);return U0(!e||!r?void 0:uk(uk({},e),{},{scale:r}),t)};function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){bW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NW=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},jW=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:l}=n;return _d(_d(_d({},n),ma(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,{angle:d}=n;return _d(_d(_d({},n),ma(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var WC=(e,t,r,n,a)=>{var i,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,h,m,g,p=c>0?(d=r[c-1])===null||d===void 0?void 0:d.coordinate:(f=r[l-1])===null||f===void 0?void 0:f.coordinate,b=(h=r[c])===null||h===void 0?void 0:h.coordinate,w=c>=l-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(g=r[c+1])===null||g===void 0?void 0:g.coordinate,N=void 0;if(!(p==null||b==null||w==null))if(hs(b-p)!==hs(w-b)){var k=[];if(hs(w-b)===hs(a[1]-a[0])){N=w;var L=b+a[1]-a[0];k[0]=Math.min(L,(L+p)/2),k[1]=Math.max(L,(L+p)/2)}else{N=p;var E=w+a[1]-a[0];k[0]=Math.min(b,(E+b)/2),k[1]=Math.max(b,(E+b)/2)}var I=[Math.min(b,(N+b)/2),Math.max(b,(N+b)/2)];if(e>I[0]&&e<=I[1]||e>=k[0]&&e<=k[1]){var M;return(M=r[c])===null||M===void 0?void 0:M.index}}else{var F=Math.min(p,w),R=Math.max(p,w);if(e>(F+b)/2&&e<=(R+b)/2){var U;return(U=r[c])===null||U===void 0?void 0:U.index}}}else if(t)for(var B=0;B<l;B++){var Y=t[B];if(Y!=null){var C=t[B+1],T=t[B-1];if(B===0&&C!=null&&e<=(Y.coordinate+C.coordinate)/2||B===l-1&&T!=null&&e>(Y.coordinate+T.coordinate)/2||B>0&&B<l-1&&T!=null&&C!=null&&e>(Y.coordinate+T.coordinate)/2&&e<=(Y.coordinate+C.coordinate)/2)return Y.index}}return-1},SW=()=>kt(ry),ky=(e,t)=>t,HC=(e,t,r)=>r,Sy=(e,t,r,n)=>n,AW=Le($l,e=>Om(e,t=>t.coordinate)),Ay=Le([sf,ky,HC,Sy],IC),Py=Le([Ay,lf,Hh,Kh],by),PW=(e,t,r)=>{if(t!=null){var n=sf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},VC=Le([sf,ky,HC,Sy],LC),dm=Le([Fl,zl,an,xa,$l,Sy,VC],EC),CW=Le([Ay,dm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),KC=Le([$l,Py],PC),_W=Le([VC,Py,Bc,Hh,KC,DC,ky],TC),OW=Le([Ay,Py],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),IW=(e,t,r,n,a,i,l)=>{if(!(!e||!r||!n||!a)&&kW(e,l)){var c=aR(e,t),d=WC(c,i,a,r,n),f=NW(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},EW=(e,t,r,n,a,i,l)=>{if(!(!e||!n||!a||!i||!r)){var c=hz(e,r);if(c){var d=iR(c,t),f=WC(d,l,i,n,a),h=jW(t,i,f,c);return{activeIndex:String(f),activeCoordinate:h}}}},LW=(e,t,r,n,a,i,l,c)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?IW(e,t,n,a,i,l,c):EW(e,t,r,n,a,i,l)},DW=Le(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),TW=Le(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Xa)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:fq}});function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){MW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MW(e,t,r){return(t=RW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zW={},BW={zIndexMap:Object.values(Xa).reduce((e,t)=>hk(hk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),zW)},UW=new Set(Object.values(Xa));function qW(e){return UW.has(e)}var GC=ji({name:"zIndex",initialState:BW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Vr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!qW(r)&&delete e.zIndexMap[r])},prepare:Vr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Vr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Vr()}}}),{registerZIndexPortal:$W,unregisterZIndexPortal:WW,registerZIndexPortalElement:HW,unregisterZIndexPortalElement:VW}=GC.actions,KW=GC.reducer;function Wl(e){var{zIndex:t,children:r}=e,n=FR(),a=n&&t!==void 0&&t!==0,i=ki(),l=aa();P.useLayoutEffect(()=>a?(l($W({zIndex:t})),()=>{l(WW({zIndex:t}))}):Zd,[l,t,a]);var c=kt(d=>DW(d,t,i));return a?c?eA.createPortal(r,c):null:r}function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(null,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return(t=YW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZW(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return P.isValidElement(t)?P.cloneElement(t,n):P.createElement(r,n)}function QW(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:h}=e,m=r,g=n,p=a;if(!d||!m||h!=="ScatterChart"&&f!=="axis")return null;var b,w,N;if(h==="ScatterChart")b=m,w=AF,N=Xa.cursorLine;else if(h==="BarChart")b=PF(c,m,i,l),w=R8,N=Xa.cursorRectangle;else if(c==="radial"&&NA(m)){var{cx:k,cy:L,radius:E,startAngle:I,endAngle:M}=F8(m);b={cx:k,cy:L,startAngle:I,endAngle:M,innerRadius:E,outerRadius:E},w=B8,N=Xa.cursorLine}else b={points:gz(c,m,i)},w=E8,N=Xa.cursorLine;var F=typeof d=="object"&&"className"in d?d.className:void 0,R=n0(n0(n0(n0({stroke:"#ccc",pointerEvents:"none"},i),b),Sm(d)),{},{payload:g,payloadIndex:p,className:Pr("recharts-tooltip-cursor",F)});return P.createElement(Wl,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:N},P.createElement(ZW,{cursor:d,cursorComp:w,cursorProps:R}))}function JW(e){var t=xW(),r=b8(),n=Qd(),a=SW();return t==null||r==null||n==null||a==null?null:P.createElement(QW,B1({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var YC=P.createContext(null),eH=()=>P.useContext(YC),cb={exports:{}},mk;function tH(){return mk||(mk=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function i(d,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new a(h,m||d,g),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],p]:d._events[b].push(p):(d._events[b]=p,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,p=m.length,b=new Array(p);g<p;g++)b[g]=m[g].fn;return b},c.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,h,m,g,p,b){var w=r?r+f:f;if(!this._events[w])return!1;var N=this._events[w],k=arguments.length,L,E;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),k){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,h),!0;case 3:return N.fn.call(N.context,h,m),!0;case 4:return N.fn.call(N.context,h,m,g),!0;case 5:return N.fn.call(N.context,h,m,g,p),!0;case 6:return N.fn.call(N.context,h,m,g,p,b),!0}for(E=1,L=new Array(k-1);E<k;E++)L[E-1]=arguments[E];N.fn.apply(N.context,L)}else{var I=N.length,M;for(E=0;E<I;E++)switch(N[E].once&&this.removeListener(f,N[E].fn,void 0,!0),k){case 1:N[E].fn.call(N[E].context);break;case 2:N[E].fn.call(N[E].context,h);break;case 3:N[E].fn.call(N[E].context,h,m);break;case 4:N[E].fn.call(N[E].context,h,m,g);break;default:if(!L)for(M=1,L=new Array(k-1);M<k;M++)L[M-1]=arguments[M];N[E].fn.apply(N[E].context,L)}}return!0},c.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},c.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},c.prototype.removeListener=function(f,h,m,g){var p=r?r+f:f;if(!this._events[p])return this;if(!h)return l(this,p),this;var b=this._events[p];if(b.fn)b.fn===h&&(!g||b.once)&&(!m||b.context===m)&&l(this,p);else{for(var w=0,N=[],k=b.length;w<k;w++)(b[w].fn!==h||g&&!b[w].once||m&&b[w].context!==m)&&N.push(b[w]);N.length?this._events[p]=N.length===1?N[0]:N:l(this,p)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c}(cb)),cb.exports}var rH=tH();const nH=Mo(rH);var jh=new nH,U1="recharts.syncEvent.tooltip",vk="recharts.syncEvent.brush",aH=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Ol(r))return e[r]}},iH={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},XC=ji({name:"options",initialState:iH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sH=XC.reducer,{createEventEmitter:oH}=XC.actions;function lH(e){return e.tooltip.syncInteraction}var cH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ZC=ji({name:"chartData",initialState:cH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:gk,setDataStartEndIndexes:uH,setComputedData:EZ}=ZC.actions,dH=ZC.reducer,fH=["x","y"];function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return(t=pH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vH(e,t){if(e==null)return{};var r,n,a=gH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xH(){var e=kt(ny),t=kt(ay),r=aa(),n=kt(LP),a=kt($l),i=Qd(),l=Wm(),c=kt(d=>d.rootProps.className);P.useEffect(()=>{if(e==null)return Zd;var d=(f,h,m)=>{if(t!==m&&e===f){if(n==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var p=h.payload.coordinate,{x:b,y:w}=p,N=vH(p,fH),{x:k,y:L,width:E,height:I}=h.payload.sourceViewBox,M=Od(Od({},N),{},{x:l.x+(E?(b-k)/E:0)*l.width,y:l.y+(I?(w-L)/I:0)*l.height});r(Od(Od({},h),{},{payload:Od(Od({},h.payload),{},{coordinate:M})}))}else r(h);return}if(a!=null){var F;if(typeof n=="function"){var R={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=n(a,R);F=a[U]}else n==="value"&&(F=a.find(pe=>String(pe.value)===h.payload.label));var{coordinate:B}=h.payload;if(F==null||h.payload.active===!1||B==null||l==null){r(F1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Y,y:C}=B,T=Math.min(Y,l.x+l.width),H=Math.min(C,l.y+l.height),V={x:i==="horizontal"?F.coordinate:T,y:i==="horizontal"?H:F.coordinate},W=F1({active:h.payload.active,coordinate:V,dataKey:h.payload.dataKey,index:String(F.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(W)}}};return jh.on(U1,d),()=>{jh.off(U1,d)}},[c,r,t,e,n,a,i,l])}function bH(){var e=kt(ny),t=kt(ay),r=aa();P.useEffect(()=>{if(e==null)return Zd;var n=(a,i,l)=>{t!==l&&e===a&&r(uH(i))};return jh.on(vk,n),()=>{jh.off(vk,n)}},[r,t,e])}function yH(){var e=aa();P.useEffect(()=>{e(oH())},[e]),xH(),bH()}function wH(e,t,r,n,a,i){var l=kt(p=>PW(p,e,t)),c=kt(ay),d=kt(ny),f=kt(LP),h=kt(lH),m=h==null?void 0:h.active,g=Wm();P.useEffect(()=>{if(!m&&d!=null&&c!=null){var p=F1({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});jh.emit(U1,d,p,c)}},[m,r,l,a,n,c,d,f,i,g])}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){NH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NH(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SH(e){return e.dataKey}function AH(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(iF,t)}var wk=[],PH={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function CH(e){var t,r,n=Ni(e,PH),{active:a,allowEscapeViewBox:i,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:g,position:p,reverseDirection:b,useTranslate3d:w,wrapperStyle:N,cursor:k,shared:L,trigger:E,defaultIndex:I,portal:M,axisId:F}=n,R=aa(),U=typeof I=="number"?String(I):I;P.useEffect(()=>{R(N$({shared:L,trigger:E,axisId:F,active:a,defaultIndex:U}))},[R,L,E,F,a,U]);var B=Wm(),Y=I8(),C=v$(L),{activeIndex:T,isActive:H}=(t=kt(de=>OW(de,C,E,U)))!==null&&t!==void 0?t:{},V=kt(de=>_W(de,C,E,U)),W=kt(de=>KC(de,C,E,U)),pe=kt(de=>CW(de,C,E,U)),ue=V,J=eH(),le=(r=a??H)!==null&&r!==void 0?r:!1,[me,ee]=VM([ue,le]),z=C==="axis"?W:void 0;wH(C,E,pe,z,T,le);var re=M??J;if(re==null||B==null||C==null)return null;var ie=ue??wk;le||(ie=wk),f&&ie.length&&(ie=xM(ie.filter(de=>de.value!=null&&(de.hide!==!0||n.includeHidden)),g,SH));var fe=ie.length>0,Z=P.createElement(fF,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:le,coordinate:pe,hasPayload:fe,offset:m,position:p,reverseDirection:b,useTranslate3d:w,viewBox:B,wrapperStyle:N,lastBoundingBox:me,innerRef:ee,hasPortalFromProps:!!M},AH(d,yk(yk({},n),{},{payload:ie,label:z,active:le,activeIndex:T,coordinate:pe,accessibilityLayer:Y})));return P.createElement(P.Fragment,null,eA.createPortal(Z,re),le&&P.createElement(JW,{cursor:k,tooltipEventType:C,coordinate:pe,payload:ie,index:T}))}function _H(e,t,r){return(t=OH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EH{constructor(t){_H(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return(t=TH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RH={cacheSize:2e3,enableCache:!0},QC=LH({},RH),jk=new EH(QC.cacheSize),FH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kk="recharts_measurement_span";function zH(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(c)}var Sk=(e,t)=>{try{var r=document.getElementById(kk);r||(r=document.createElement("span"),r.setAttribute("id",kk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,FH,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ih=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gm.isSsr)return{width:0,height:0};if(!QC.enableCache)return Sk(t,r);var n=zH(t,r),a=jk.get(n);if(a)return a;var i=Sk(t,r);return jk.set(n,i),i},JC;function BH(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=qH(e,"string");return typeof t=="symbol"?t:t+""}function qH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ak=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$H=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VH=["cm","mm","pt","pc","in","Q","px"];function KH(e){return VH.includes(e)}var Md="NaN";function GH(e,t){return e*HH[t]}class pa{static parse(t){var r,[,n,a]=(r=WH.exec(t))!==null&&r!==void 0?r:[];return n==null?pa.NaN:new pa(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ol(t)&&(this.unit=""),r!==""&&!$H.test(r)&&(this.num=NaN,this.unit=""),KH(r)&&(this.num=GH(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new pa(NaN,""):new pa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pa(NaN,""):new pa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pa(NaN,""):new pa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pa(NaN,""):new pa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ol(this.num)}}JC=pa;BH(pa,"NaN",new JC(NaN,""));function e_(e){if(e==null||e.includes(Md))return Md;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Ak.exec(t))!==null&&r!==void 0?r:[],l=pa.parse(n??""),c=pa.parse(i??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Md;t=t.replace(Ak,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,m,g]=(f=Pk.exec(t))!==null&&f!==void 0?f:[],p=pa.parse(h??""),b=pa.parse(g??""),w=m==="+"?p.add(b):p.subtract(b);if(w.isNaN())return Md;t=t.replace(Pk,w.toString())}return t}var Ck=/\(([^()]*)\)/;function YH(e){for(var t=e,r;(r=Ck.exec(t))!=null;){var[,n]=r;t=t.replace(Ck,e_(n))}return t}function XH(e){var t=e.replace(/\s+/g,"");return t=YH(t),t=e_(t),t}function ZH(e){try{return XH(e)}catch{return Md}}function ub(e){var t=ZH(e.slice(5,-1));return t===Md?"":t}var QH=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],JH=["dx","dy","angle","className","breakAll"];function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q1.apply(null,arguments)}function _k(e,t){if(e==null)return{};var r,n,a=eV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var t_=/[ \f\n\r\t\v\u2028\u2029]+/,r_=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ga(t)||(r?a=t.toString().split(""):a=t.toString().split(t_));var i=a.map(c=>({word:c,width:ih(c,n).width})),l=r?0:ih("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function tV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var n_=(e,t,r,n)=>e.reduce((a,i)=>{var{word:l,width:c}=i,d=a[a.length-1];if(d&&c!=null&&(t==null||n||d.width+c+r<Number(t)))d.words.push(l),d.width+=c+r;else{var f={words:[l],width:c};a.push(f)}return a},[]),a_=e=>e.reduce((t,r)=>t.width>r.width?t:r),rV="",Ok=(e,t,r,n,a,i,l,c)=>{var d=e.slice(0,t),f=r_({breakAll:r,style:n,children:d+rV});if(!f)return[!1,[]];var h=n_(f.wordsWithComputedWidth,i,l,c),m=h.length>a||a_(h).width>Number(i);return[m,h]},nV=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:c,breakAll:d}=e,f=gt(i),h=String(l),m=n_(t,n,r,a);if(!f||a)return m;var g=m.length>i||a_(m).width>Number(n);if(!g)return m;for(var p=0,b=h.length-1,w=0,N;p<=b&&w<=h.length-1;){var k=Math.floor((p+b)/2),L=k-1,[E,I]=Ok(h,L,d,c,i,n,r,a),[M]=Ok(h,k,d,c,i,n,r,a);if(!E&&!M&&(p=k+1),E&&M&&(b=k-1),!E&&M){N=I;break}w++}return N||m},Ik=e=>{var t=ga(e)?[]:e.toString().split(t_);return[{words:t,width:void 0}]},aV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!Gm.isSsr){var c,d,f=r_({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;c=h,d=m}else return Ik(n);return nV({breakAll:i,children:n,maxLines:l,style:a},c,d,t,!!r)}return Ik(n)},i_="#808080",iV={angle:0,breakAll:!1,capHeight:"0.71em",fill:i_,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Cy=P.forwardRef((e,t)=>{var r=Ni(e,iV),{x:n,y:a,lineHeight:i,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:h}=r,m=_k(r,QH),g=P.useMemo(()=>aV({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:p,dy:b,angle:w,className:N,breakAll:k}=m,L=_k(m,JH);if(!Lo(n)||!Lo(a)||g.length===0)return null;var E=Number(n)+(gt(p)?p:0),I=Number(a)+(gt(b)?b:0);if(!ar(E)||!ar(I))return null;var M;switch(h){case"start":M=ub("calc(".concat(l,")"));break;case"middle":M=ub("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:M=ub("calc(".concat(g.length-1," * -").concat(i,")"));break}var F=[],R=g[0];if(d&&R!=null){var U=R.width,{width:B}=m;F.push("scale(".concat(gt(B)&&gt(U)?B/U:1,")"))}return w&&F.push("rotate(".concat(w,", ").concat(E,", ").concat(I,")")),F.length&&(L.transform=F.join(" ")),P.createElement("text",q1({},Za(L),{ref:t,x:E,y:I,className:Pr("recharts-text",N),textAnchor:f,fill:c.includes("url")?i_:c}),g.map((Y,C)=>{var T=Y.words.join(k?"":" ");return P.createElement("tspan",{x:E,dy:C===0?M:i,key:"".concat(T,"-").concat(C)},T)}))});Cy.displayName="Text";function Ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(r),!0).forEach(function(n){sV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sV(e,t,r){return(t=oV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=lV(e,"string");return typeof t=="symbol"?t:t+""}function lV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cV=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:i,y:l,height:c,upperWidth:d,lowerWidth:f}=S2(t),h=i,m=i+(d-f)/2,g=(h+m)/2,p=(d+f)/2,b=h+d/2,w=c>=0?1:-1,N=w*n,k=w>0?"end":"start",L=w>0?"start":"end",E=d>=0?1:-1,I=E*n,M=E>0?"end":"start",F=E>0?"start":"end",R=a;if(r==="top"){var U={x:h+d/2,y:l-N,horizontalAnchor:"middle",verticalAnchor:k};return R&&(U.height=Math.max(l-R.y,0),U.width=d),U}if(r==="bottom"){var B={x:m+f/2,y:l+c+N,horizontalAnchor:"middle",verticalAnchor:L};return R&&(B.height=Math.max(R.y+R.height-(l+c),0),B.width=f),B}if(r==="left"){var Y={x:g-I,y:l+c/2,horizontalAnchor:M,verticalAnchor:"middle"};return R&&(Y.width=Math.max(Y.x-R.x,0),Y.height=c),Y}if(r==="right"){var C={x:g+p+I,y:l+c/2,horizontalAnchor:F,verticalAnchor:"middle"};return R&&(C.width=Math.max(R.x+R.width-C.x,0),C.height=c),C}var T=R?{width:p,height:c}:{};return r==="insideLeft"?No({x:g+I,y:l+c/2,horizontalAnchor:F,verticalAnchor:"middle"},T):r==="insideRight"?No({x:g+p-I,y:l+c/2,horizontalAnchor:M,verticalAnchor:"middle"},T):r==="insideTop"?No({x:h+d/2,y:l+N,horizontalAnchor:"middle",verticalAnchor:L},T):r==="insideBottom"?No({x:m+f/2,y:l+c-N,horizontalAnchor:"middle",verticalAnchor:k},T):r==="insideTopLeft"?No({x:h+I,y:l+N,horizontalAnchor:F,verticalAnchor:L},T):r==="insideTopRight"?No({x:h+d-I,y:l+N,horizontalAnchor:M,verticalAnchor:L},T):r==="insideBottomLeft"?No({x:m+I,y:l+c-N,horizontalAnchor:F,verticalAnchor:k},T):r==="insideBottomRight"?No({x:m+f-I,y:l+c-N,horizontalAnchor:M,verticalAnchor:k},T):r&&typeof r=="object"&&(gt(r.x)||Ru(r.x))&&(gt(r.y)||Ru(r.y))?No({x:i+Rc(r.x,p),y:l+Rc(r.y,c),horizontalAnchor:"end",verticalAnchor:"end"},T):No({x:b,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},T)},uV=["labelRef"],dV=["content"];function Lk(e,t){if(e==null)return{};var r,n,a=fV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return(t=pV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(null,arguments)}var s_=P.createContext(null),vV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:l,children:c}=e,d=P.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:l}),[t,r,n,a,i,l]);return P.createElement(s_.Provider,{value:d},c)},o_=()=>{var e=P.useContext(s_),t=Wm();return e||(t?S2(t):void 0)},gV=P.createContext(null),xV=()=>{var e=P.useContext(gV),t=kt(FP);return e||t},bV=e=>{var{value:t,formatter:r}=e,n=ga(e.children)?t:e.children;return typeof r=="function"?r(n):n},_y=e=>e!=null&&typeof e=="function",yV=(e,t)=>{var r=hs(t-e),n=Math.min(Math.abs(t-e),360);return r*n},wV=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:c,cy:d,innerRadius:f,outerRadius:h,startAngle:m,endAngle:g,clockWise:p}=a,b=(f+h)/2,w=yV(m,g),N=w>=0?1:-1,k,L;switch(t){case"insideStart":k=m+N*i,L=p;break;case"insideEnd":k=g-N*i,L=!p;break;case"end":k=g+N*i,L=p;break;default:throw new Error("Unsupported position ".concat(t))}L=w<=0?L:!L;var E=ma(c,d,b,k),I=ma(c,d,b,k+(L?1:-1)*359),M="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(L?0:1,`,
    `).concat(I.x,",").concat(I.y),F=ga(e.id)?ch("recharts-radial-line-"):e.id;return P.createElement("text",jl({},n,{dominantBaseline:"central",className:Pr("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:F,d:M})),P.createElement("textPath",{xlinkHref:"#".concat(F)},r))},NV=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(r==="outside"){var{x:h,y:m}=ma(n,a,l+t,f);return{x:h,y:m,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+l)/2,{x:p,y:b}=ma(n,a,g,f);return{x:p,y:b,textAnchor:"middle",verticalAnchor:"middle"}},m0=e=>e!=null&&"cx"in e&&gt(e.cx),jV={angle:0,offset:5,zIndex:Xa.label,position:"middle",textBreakAll:!1};function kV(e){if(!m0(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function _c(e){var t=Ni(e,jV),{viewBox:r,parentViewBox:n,position:a,value:i,children:l,content:c,className:d="",textBreakAll:f,labelRef:h}=t,m=xV(),g=o_(),p=a==="center"?g:m??g,b,w,N;r==null?b=p:m0(r)?b=r:b=S2(r);var k=kV(b);if(!b||ga(i)&&ga(l)&&!P.isValidElement(c)&&typeof c!="function")return null;var L=eh(eh({},t),{},{viewBox:b});if(P.isValidElement(c)){var{labelRef:E}=L,I=Lk(L,uV);return P.cloneElement(c,I)}if(typeof c=="function"){var{content:M}=L,F=Lk(L,dV);if(w=P.createElement(c,F),P.isValidElement(w))return w}else w=bV(t);var R=Za(t);if(m0(b)){if(a==="insideStart"||a==="insideEnd"||a==="end")return wV(t,a,w,R,b);N=NV(b,t.offset,t.position)}else{if(!k)return null;var U=cV({viewBox:k,position:a,offset:t.offset,parentViewBox:m0(n)?void 0:n});N=eh(eh({x:U.x,y:U.y,textAnchor:U.horizontalAnchor,verticalAnchor:U.verticalAnchor},U.width!==void 0?{width:U.width}:{}),U.height!==void 0?{height:U.height}:{})}return P.createElement(Wl,{zIndex:t.zIndex},P.createElement(Cy,jl({ref:h,className:Pr("recharts-label",d)},R,N,{textAnchor:tV(R.textAnchor)?R.textAnchor:N.textAnchor,breakAll:f}),w))}_c.displayName="Label";var SV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?P.createElement(_c,jl({key:"label-implicit"},n)):Lo(e)?P.createElement(_c,jl({key:"label-implicit",value:e},n)):P.isValidElement(e)?e.type===_c?P.cloneElement(e,eh({key:"label-implicit"},n)):P.createElement(_c,jl({key:"label-implicit",content:e},n)):_y(e)?P.createElement(_c,jl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?P.createElement(_c,jl({},e,{key:"label-implicit"},n)):null};function AV(e){var{label:t,labelRef:r}=e,n=o_();return SV(t,n,r)||null}var db={},fb={},Tk;function PV(){return Tk||(Tk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(fb)),fb}var hb={},Mk;function CV(){return Mk||(Mk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(hb)),hb}var Rk;function _V(){return Rk||(Rk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PV(),r=CV(),n=m2();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a}(db)),db}var pb,Fk;function OV(){return Fk||(Fk=1,pb=_V().last),pb}var IV=OV();const EV=Mo(IV);var LV=["valueAccessor"],DV=["dataKey","clockWise","id","textBreakAll","zIndex"];function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(null,arguments)}function zk(e,t){if(e==null)return{};var r,n,a=TV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MV=e=>Array.isArray(e.value)?EV(e.value):e.value,l_=P.createContext(void 0),RV=l_.Provider,c_=P.createContext(void 0);c_.Provider;function FV(){return P.useContext(l_)}function zV(){return P.useContext(c_)}function v0(e){var{valueAccessor:t=MV}=e,r=zk(e,LV),{dataKey:n,clockWise:a,id:i,textBreakAll:l,zIndex:c}=r,d=zk(r,DV),f=FV(),h=zV(),m=f||h;return!m||!m.length?null:P.createElement(Wl,{zIndex:c??Xa.label},P.createElement(Mc,{className:"recharts-label-list"},m.map((g,p)=>{var b,w=ga(n)?t(g,p):va(g.payload,n),N=ga(i)?{}:{id:"".concat(i,"-").concat(p)};return P.createElement(_c,fm({key:"label-".concat(p)},Za(g),d,N,{fill:(b=r.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,index:p,zIndex:0}))})))}v0.displayName="LabelList";function BV(e){var{label:t}=e;return t?t===!0?P.createElement(v0,{key:"labelList-implicit"}):P.isValidElement(t)||_y(t)?P.createElement(v0,{key:"labelList-implicit",content:t}):typeof t=="object"?P.createElement(v0,fm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(null,arguments)}var u_=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Pr("recharts-dot",a);return gt(t)&&gt(r)&&gt(n)?P.createElement("circle",$1({},Eo(e),p2(e),{className:i,cx:t,cy:r,r:n})):null},UV={radiusAxis:{},angleAxis:{}},d_=ji({name:"polarAxis",initialState:UV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:LZ,removeRadiusAxis:DZ,addAngleAxis:TZ,removeAngleAxis:MZ}=d_.actions,qV=d_.reducer;function $V(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var f_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,mb={},Bk;function WV(){return Bk||(Bk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(mb)),mb}var vb,Uk;function HV(){return Uk||(Uk=1,vb=WV().isPlainObject),vb}var VV=HV();const KV=Mo(VV);var qk,$k,Wk,Hk,Vk;function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return(t=YV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=XV(e,"string");return typeof t=="symbol"?t:t+""}function XV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(null,arguments)}function Zf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Yk=(e,t,r,n,a)=>{var i=r-n,l;return l=xn(qk||(qk=Zf(["M ",",",""])),e,t),l+=xn($k||($k=Zf(["L ",",",""])),e+r,t),l+=xn(Wk||(Wk=Zf(["L ",",",""])),e+r-i/2,t+a),l+=xn(Hk||(Hk=Zf(["L ",",",""])),e+r-i/2-n,t+a),l+=xn(Vk||(Vk=Zf(["L ",","," Z"])),e,t),l},ZV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QV=e=>{var t=Ni(e,ZV),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=t,g=P.useRef(null),[p,b]=P.useState(-1),w=P.useRef(a),N=P.useRef(i),k=P.useRef(l),L=P.useRef(r),E=P.useRef(n),I=_2(e,"trapezoid-");if(P.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var V=g.current.getTotalLength();V&&b(V)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var M=Pr("recharts-trapezoid",c);if(!m)return P.createElement("g",null,P.createElement("path",hm({},Za(t),{className:M,d:Yk(r,n,a,i,l)})));var F=w.current,R=N.current,U=k.current,B=L.current,Y=E.current,C="0px ".concat(p===-1?1:p,"px"),T="".concat(p,"px 0px"),H=L8(["strokeDasharray"],f,d);return P.createElement(C2,{animationId:I,key:I,canBegin:p>0,duration:f,easing:d,isActive:m,begin:h},V=>{var W=xi(F,a,V),pe=xi(R,i,V),ue=xi(U,l,V),J=xi(B,r,V),le=xi(Y,n,V);g.current&&(w.current=W,N.current=pe,k.current=ue,L.current=J,E.current=le);var me=V>0?{transition:H,strokeDasharray:T}:{strokeDasharray:C};return P.createElement("path",hm({},Za(t),{className:M,d:Yk(J,le,W,pe,ue),ref:g,style:Gk(Gk({},me),t.style)}))})},JV=["option","shapeType","activeClassName"];function eK(e,t){if(e==null)return{};var r,n,a=tK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iK(e,t){return pm(pm({},t),e)}function sK(e,t){return e==="symbols"}function Zk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return P.createElement(R8,r);case"trapezoid":return P.createElement(QV,r);case"sector":return P.createElement(B8,r);case"symbols":if(sK(t))return P.createElement(wA,r);break;case"curve":return P.createElement(E8,r);default:return null}}function oK(e){return P.isValidElement(e)?e.props:e}function lK(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=eK(e,JV),i;if(P.isValidElement(t))i=P.cloneElement(t,pm(pm({},a),oK(t)));else if(typeof t=="function")i=t(a,a.index);else if(KV(t)&&typeof t!="boolean"){var l=iK(t,a);i=P.createElement(Zk,{shapeType:r,elementProps:l})}else{var c=a;i=P.createElement(Zk,{shapeType:r,elementProps:c})}return a.isActive?P.createElement(Mc,{className:n},i):i}function cK(e){var{tooltipEntrySettings:t}=e,r=aa(),n=ki(),a=P.useRef(null);return P.useLayoutEffect(()=>{n||(a.current===null?r(b$(t)):a.current!==t&&r(y$({prev:a.current,next:t})),a.current=t)},[t,r,n]),P.useLayoutEffect(()=>()=>{a.current&&(r(w$(a.current)),a.current=null)},[r]),null}function uK(e){var{legendPayload:t}=e,r=aa(),n=ki(),a=P.useRef(null);return P.useLayoutEffect(()=>{n||(a.current===null?r(ZR(t)):a.current!==t&&r(QR({prev:a.current,next:t})),a.current=t)},[r,n,t]),P.useLayoutEffect(()=>()=>{a.current&&(r(JR(a.current)),a.current=null)},[r]),null}var gb,dK=()=>{var[e]=P.useState(()=>ch("uid-"));return e},fK=(gb=PO.useId)!==null&&gb!==void 0?gb:dK;function hK(e,t){var r=fK();return t||(e?"".concat(e,"-").concat(r):r)}var pK=P.createContext(void 0),mK=e=>{var{id:t,type:r,children:n}=e,a=hK("recharts-".concat(r),t);return P.createElement(pK.Provider,{value:a},n(a))},vK={cartesianItems:[],polarItems:[]},h_=ji({name:"graphicalItems",initialState:vK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Vr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Hs(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Vr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Hs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Vr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Vr()},removePolarGraphicalItem:{reducer(e,t){var r=Hs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Vr()}}}),{addCartesianGraphicalItem:gK,replaceCartesianGraphicalItem:xK,removeCartesianGraphicalItem:bK,addPolarGraphicalItem:RZ,removePolarGraphicalItem:FZ}=h_.actions,yK=h_.reducer,wK=e=>{var t=aa(),r=P.useRef(null);return P.useLayoutEffect(()=>{r.current===null?t(gK(e)):r.current!==e&&t(xK({prev:r.current,next:e})),r.current=e},[t,e]),P.useLayoutEffect(()=>()=>{r.current&&(t(bK(r.current)),r.current=null)},[t]),null},NK=P.memo(wK),jK=["points"];function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return(t=SK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(null,arguments)}function PK(e,t){if(e==null)return{};var r,n,a=CK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _K(e){var{option:t,dotProps:r,className:n}=e;if(P.isValidElement(t))return P.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Pr(n,typeof t!="boolean"?t.className:""),i=r??{},{points:l}=i,c=PK(i,jK);return P.createElement(u_,mm({},c,{className:a}))}function OK(e,t){return e==null?!1:t?!0:e.length===1}function IK(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:l,needClip:c,clipPathId:d,zIndex:f=Xa.scatter}=e;if(!OK(t,r))return null;var h=f_(r),m=$D(r),g=t.map((b,w)=>{var N,k,L=xb(xb(xb({r:3},l),m),{},{index:w,cx:(N=b.x)!==null&&N!==void 0?N:void 0,cy:(k=b.y)!==null&&k!==void 0?k:void 0,dataKey:i,value:b.value,payload:b.payload,points:t});return P.createElement(_K,{key:"dot-".concat(w),option:r,dotProps:L,className:a})}),p={};return c&&d!=null&&(p.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(d,")")),P.createElement(Wl,{zIndex:f},P.createElement(Mc,mm({className:n},p),g))}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=LK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LK(e){var t=DK(e,"string");return typeof t=="symbol"?t:t+""}function DK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TK={xAxis:{},yAxis:{},zAxis:{}},p_=ji({name:"cartesianAxis",initialState:TK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Vr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Vr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Vr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Vr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Vr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Vr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Vr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Vr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Vr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==a.width&&Math.abs(n-((i=l[0])!==null&&i!==void 0?i:0))<=1)return;var c=[...l,n].slice(-3);e.yAxis[r]=eS(eS({},a),{},{width:n,widthHistory:c})}}}}),{addXAxis:MK,replaceXAxis:RK,removeXAxis:FK,addYAxis:zK,replaceYAxis:BK,removeYAxis:UK,addZAxis:zZ,replaceZAxis:BZ,removeZAxis:UZ,updateYAxisWidth:qK}=p_.actions,$K=p_.reducer,WK=Le([xa],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),HK=Le([WK,Fl,zl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Oy=()=>kt(HK),VK=()=>kt(hW);function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XK=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=bb(bb(bb({},c),Sm(a)),p2(a)),f;return P.isValidElement(a)?f=P.cloneElement(a,d):typeof a=="function"?f=a(d):f=P.createElement(u_,d),P.createElement(Mc,{className:"recharts-active-dot",clipPath:l},f)};function ZK(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:l=Xa.activeDot}=e,c=kt(Nh),d=VK();if(t==null||d==null)return null;var f=t.find(h=>d.includes(h.payload));return ga(f)?null:P.createElement(Wl,{zIndex:l},P.createElement(XK,{point:f,childIndex:Number(c),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var QK=e=>{var{chartData:t}=e,r=aa(),n=ki();return P.useEffect(()=>n?()=>{}:(r(gk(t)),()=>{r(gk(void 0))}),[t,r,n]),null},rS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},m_=ji({name:"brush",initialState:rS,reducers:{setBrushSettings(e,t){return t.payload==null?rS:t.payload}}}),{setBrushSettings:qZ}=m_.actions,JK=m_.reducer;function eG(e){return(e%180+180)%180}var tG=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eG(a),l=i*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},rG={dots:[],areas:[],lines:[]},v_=ji({name:"referenceElements",initialState:rG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Hs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Hs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Hs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:$Z,removeDot:WZ,addArea:HZ,removeArea:VZ,addLine:KZ,removeLine:GZ}=v_.actions,nG=v_.reducer,aG=P.createContext(void 0),iG=e=>{var{children:t}=e,[r]=P.useState("".concat(ch("recharts"),"-clip")),n=Oy();if(n==null)return null;var{x:a,y:i,width:l,height:c}=n;return P.createElement(aG.Provider,{value:r},P.createElement("defs",null,P.createElement("clipPath",{id:r},P.createElement("rect",{x:a,y:i,height:c,width:l}))),t)};function g_(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function sG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tG(n,r)}function oG(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:c}=e;return t===1?{start:n?a:i,end:n?a+l:i+c}:{start:n?a+l:i+c,end:n?a:i}}function kh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function lG(e,t){return g_(e,t+1)}function cG(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:c}=t,d=0,f=1,h=l,m=function(){var b=n==null?void 0:n[d];if(b===void 0)return{v:g_(n,f)};var w=d,N,k=()=>(N===void 0&&(N=r(b,w)),N),L=b.coordinate,E=d===0||kh(e,L,k,h,c);E||(d=0,h=l,f+=1),E&&(h=L+e*(k()/2+a),d+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function uG(e,t,r,n,a){var i=(n||[]).slice(),l=i.length;if(l===0)return[];for(var{start:c,end:d}=t,f=1;f<=l;f++){for(var h=(l-1)%f,m=c,g=!0,p=function(){var I=n[w];if(I==null)return 0;var M=w,F,R=()=>(F===void 0&&(F=r(I,M)),F),U=I.coordinate,B=w===h||kh(e,U,R,m,d);if(!B)return g=!1,1;B&&(m=U+e*(R()/2+a))},b,w=h;w<l&&(b=p(),!(b!==0&&b===1));w+=f);if(g){for(var N=[],k=h;k<l;k+=f){var L=n[k];L!=null&&N.push(L)}return N}}return[]}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pG(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:c}=t,{end:d}=t,f=function(g){var p=i[g];if(p==null)return 1;var b=p,w,N=()=>(w===void 0&&(w=r(p,g)),w);if(g===l-1){var k=e*(b.coordinate+e*N()/2-d);i[g]=b=Da(Da({},b),{},{tickCoord:k>0?b.coordinate-k*e:b.coordinate})}else i[g]=b=Da(Da({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var L=kh(e,b.tickCoord,N,c,d);L&&(d=b.tickCoord-e*(N()/2+a),i[g]=Da(Da({},b),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return i}function mG(e,t,r,n,a,i){var l=(n||[]).slice(),c=l.length,{start:d,end:f}=t;if(i){var h=n[c-1];if(h!=null){var m=r(h,c-1),g=e*(h.coordinate+e*m/2-f);if(l[c-1]=h=Da(Da({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var p=kh(e,h.tickCoord,()=>m,d,f);p&&(f=h.tickCoord-e*(m/2+a),l[c-1]=Da(Da({},h),{},{isShow:!0}))}}}for(var b=i?c-1:c,w=function(L){var E=l[L];if(E==null)return 1;var I=E,M,F=()=>(M===void 0&&(M=r(E,L)),M);if(L===0){var R=e*(I.coordinate-e*F()/2-d);l[L]=I=Da(Da({},I),{},{tickCoord:R<0?I.coordinate-R*e:I.coordinate})}else l[L]=I=Da(Da({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var U=kh(e,I.tickCoord,F,d,f);U&&(d=I.tickCoord+e*(F()/2+a),l[L]=Da(Da({},I),{},{isShow:!0}))}},N=0;N<b;N++)w(N);return l}function Iy(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:h,angle:m}=e;if(!a||!a.length||!n)return[];if(gt(d)||Gm.isSsr){var g;return(g=lG(a,gt(d)?d:0))!==null&&g!==void 0?g:[]}var p=[],b=c==="top"||c==="bottom"?"width":"height",w=h&&b==="width"?ih(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},N=(M,F)=>{var R=typeof f=="function"?f(M.value,F):M.value;return b==="width"?sG(ih(R,{fontSize:t,letterSpacing:r}),w,m):ih(R,{fontSize:t,letterSpacing:r})[b]},k=a[0],L=a[1],E=a.length>=2&&k!=null&&L!=null?hs(L.coordinate-k.coordinate):1,I=oG(i,E,b);return d==="equidistantPreserveStart"?cG(E,I,N,a,l):d==="equidistantPreserveEnd"?uG(E,I,N,a,l):(d==="preserveStart"||d==="preserveStartEnd"?p=mG(E,I,N,a,l,d==="preserveStartEnd"):p=pG(E,I,N,a,l),p.filter(M=>M.isShow))}var vG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=r?r.getBoundingClientRect().width:0,d=a+i,f=l+d+c+(r?n:0);return Math.round(f)}return 0},gG=["axisLine","width","height","className","hide","ticks","axisType"];function xG(e,t){if(e==null)return{};var r,n,a=bG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(null,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Xa.axis};function jG(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=gn(gn(gn({},d),Eo(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!l||i==="bottom"&&l);f=gn(gn({},f),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var m=+(i==="left"&&!l||i==="right"&&l);f=gn(gn({},f),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return P.createElement("line",qu({},f,{className:Pr("recharts-cartesian-axis-line",_m(c,"className"))}))}function kG(e,t,r,n,a,i,l,c,d){var f,h,m,g,p,b,w=c?-1:1,N=e.tickSize||l,k=gt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=h=e.coordinate,g=r+ +!c*a,m=g-w*N,b=m-w*d,p=k;break;case"left":m=g=e.coordinate,h=t+ +!c*n,f=h-w*N,p=f-w*d,b=k;break;case"right":m=g=e.coordinate,h=t+ +c*n,f=h+w*N,p=f+w*d,b=k;break;default:f=h=e.coordinate,g=r+ +c*a,m=g+w*N,b=m+w*d,p=k;break}return{line:{x1:f,y1:m,x2:h,y2:g},tick:{x:p,y:b}}}function SG(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function PG(e){var{option:t,tickProps:r,value:n}=e,a,i=Pr(r.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(t))a=P.cloneElement(t,gn(gn({},r),{},{className:i}));else if(typeof t=="function")a=t(gn(gn({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Pr(l,$V(t))),a=P.createElement(Cy,qu({},r,{className:l}),n)}return a}var CG=P.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:h,mirror:m,x:g,y:p,width:b,height:w,tickSize:N,tickMargin:k,fontSize:L,letterSpacing:E,getTicksConfig:I,events:M,axisType:F}=e,R=Iy(gn(gn({},I),{},{ticks:r}),L,E),U=SG(h,m),B=AG(h,m),Y=Eo(I),C=Sm(n),T={};typeof a=="object"&&(T=a);var H=gn(gn({},Y),{},{fill:"none"},T),V=R.map(ue=>gn({entry:ue},kG(ue,g,p,b,w,h,N,m,k))),W=V.map(ue=>{var{entry:J,line:le}=ue;return P.createElement(Mc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},a&&P.createElement("line",qu({},H,le,{className:Pr("recharts-cartesian-axis-tick-line",_m(a,"className"))})))}),pe=V.map((ue,J)=>{var le,me,{entry:ee,tick:z}=ue,re=gn(gn(gn(gn({verticalAnchor:B},Y),{},{textAnchor:U,stroke:"none",fill:i},z),{},{index:J,payload:ee,visibleTicksCount:R.length,tickFormatter:l,padding:d},f),{},{angle:(le=(me=f==null?void 0:f.angle)!==null&&me!==void 0?me:Y.angle)!==null&&le!==void 0?le:0}),ie=gn(gn({},re),C);return P.createElement(Mc,qu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},KT(M,ee,J)),n&&P.createElement(PG,{option:n,tickProps:ie,value:"".concat(typeof l=="function"?l(ee.value,J):ee.value).concat(c||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},pe.length>0&&P.createElement(Wl,{zIndex:Xa.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:t},pe)),W.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},W))}),_G=P.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:c,axisType:d}=e,f=xG(e,gG),[h,m]=P.useState(""),[g,p]=P.useState(""),b=P.useRef(null);P.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var N;return vG({ticks:b.current,label:(N=e.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=P.useCallback(N=>{if(N){var k=N.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=k;var L=k[0];if(L){var E=window.getComputedStyle(L),I=E.fontSize,M=E.letterSpacing;(I!==h||M!==g)&&(m(I),p(M))}}},[h,g]);return l||n!=null&&n<=0||a!=null&&a<=0?null:P.createElement(Wl,{zIndex:e.zIndex},P.createElement(Mc,{className:Pr("recharts-cartesian-axis",i)},P.createElement(jG,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Eo(e)}),P.createElement(CG,{ref:w,axisType:d,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),P.createElement(vV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},P.createElement(AV,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ey=P.forwardRef((e,t)=>{var r=Ni(e,Cl);return P.createElement(_G,qu({},r,{ref:t}))});Ey.displayName="CartesianAxis";var OG=["x1","y1","x2","y2","key"],IG=["offset"],EG=["xAxisId","yAxisId"],LG=["xAxisId","yAxisId"];function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=TG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=MG(e,"string");return typeof t=="symbol"?t:t+""}function MG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(null,arguments)}function vm(e,t){if(e==null)return{};var r,n,a=RG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FG=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:c}=e;return P.createElement("rect",{x:n,y:a,ry:c,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function x_(e){var{option:t,lineItemProps:r}=e,n;if(P.isValidElement(t))n=P.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:l,x2:c,y2:d,key:f}=r,h=vm(r,OG),m=(a=Eo(h))!==null&&a!==void 0?a:{},{offset:g}=m,p=vm(m,IG);n=P.createElement("line",Pu({},p,{x1:i,y1:l,x2:c,y2:d,fill:"none",key:f}))}return n}function zG(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,c=vm(e,EG),d=a.map((f,h)=>{var m=Ta(Ta({},c),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(h),index:h});return P.createElement(x_,{key:"line-".concat(h),option:n,lineItemProps:m})});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function BG(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,c=vm(e,LG),d=a.map((f,h)=>{var m=Ta(Ta({},c),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(h),index:h});return P.createElement(x_,{option:n,lineItemProps:m,key:"line-".concat(h)})});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function UG(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var p=f[g+1],b=p==null,w=b?a+l-m:p-m;if(w<=0)return null;var N=g%t.length;return P.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:w,width:i,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function qG(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var p=f[g+1],b=p==null,w=b?a+l-m:p-m;if(w<=0)return null;var N=g%r.length;return P.createElement("rect",{key:"react-".concat(g),x:m,y:i,width:w,height:c,stroke:"none",fill:r[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var $G=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return d8(Iy(Ta(Ta(Ta({},Cl),r),{},{ticks:f8(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},WG=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return d8(Iy(Ta(Ta(Ta({},Cl),r),{},{ticks:f8(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},HG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Xa.grid};function b_(e){var t=y8(),r=w8(),n=b8(),a=Ta(Ta({},Ni(e,HG)),{},{x:gt(e.x)?e.x:n.left,y:gt(e.y)?e.y:n.top,width:gt(e.width)?e.width:n.width,height:gt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:c,y:d,width:f,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:p}=a,b=ki(),w=kt(B=>ik(B,"xAxis",i,b)),N=kt(B=>ik(B,"yAxis",l,b));if(!Do(f)||!Do(h)||!gt(c)||!gt(d))return null;var k=a.verticalCoordinatesGenerator||$G,L=a.horizontalCoordinatesGenerator||WG,{horizontalPoints:E,verticalPoints:I}=a;if((!E||!E.length)&&typeof L=="function"){var M=g&&g.length,F=L({yAxis:N?Ta(Ta({},N),{},{ticks:M?g:N.ticks}):void 0,width:t??f,height:r??h,offset:n},M?!0:m);q0(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(E=F)}if((!I||!I.length)&&typeof k=="function"){var R=p&&p.length,U=k({xAxis:w?Ta(Ta({},w),{},{ticks:R?p:w.ticks}):void 0,width:t??f,height:r??h,offset:n},R?!0:m);q0(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(I=U)}return P.createElement(Wl,{zIndex:a.zIndex},P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(FG,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),P.createElement(UG,Pu({},a,{horizontalPoints:E})),P.createElement(qG,Pu({},a,{verticalPoints:I})),P.createElement(zG,Pu({},a,{offset:n,horizontalPoints:E,xAxis:w,yAxis:N})),P.createElement(BG,Pu({},a,{offset:n,verticalPoints:I,xAxis:w,yAxis:N}))))}b_.displayName="CartesianGrid";var VG={},y_=ji({name:"errorBars",initialState:VG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:YZ,replaceErrorBar:XZ,removeErrorBar:ZZ}=y_.actions,KG=y_.reducer,GG=["children"];function YG(e,t){if(e==null)return{};var r,n,a=XG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},QG=P.createContext(ZG);function JG(e){var{children:t}=e,r=YG(e,GG);return P.createElement(QG.Provider,{value:r},t)}function w_(e,t){var r,n,a=kt(f=>Ul(f,e)),i=kt(f=>ql(f,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Jn.allowDataOverflow,c=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ea.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function eY(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Oy(),{needClipX:i,needClipY:l,needClip:c}=w_(t,r);if(!c||!a)return null;var{x:d,y:f,width:h,height:m}=a;return P.createElement("clipPath",{id:"clipPath-".concat(n)},P.createElement("rect",{x:i?d:d-h/2,y:l?f:f-m/2,width:i?h:h*2,height:l?m:m*2}))}var N_=(e,t,r,n)=>jC(e,"xAxis",t,n),j_=(e,t,r,n)=>NC(e,"xAxis",t,n),k_=(e,t,r,n)=>jC(e,"yAxis",r,n),S_=(e,t,r,n)=>NC(e,"yAxis",r,n),tY=Le([an,N_,k_,j_,S_],(e,t,r,n,a)=>Rl(e,"xAxis")?U0(t,n,!1):U0(r,a,!1)),rY=(e,t,r,n,a)=>a;function nY(e){return e.type==="line"}var aY=Le([HP,rY],(e,t)=>e.filter(nY).find(r=>r.id===t)),iY=Le([an,N_,k_,j_,S_,aY,tY,J2],(e,t,r,n,a,i,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=c;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:g}=i,p;if(g!=null&&g.length>0?p=g:p=d==null?void 0:d.slice(f,h+1),p!=null)return WY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:p})}});function sY(e){var t=Sm(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),c=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(c)||c<0)&&(c=n),{r:l,strokeWidth:c}}return{r,strokeWidth:n}}var yb={exports:{}},wb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function oY(){if(sS)return wb;sS=1;var e=Yd();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,c=e.useDebugValue;return wb.useSyncExternalStoreWithSelector=function(d,f,h,m,g){var p=a(null);if(p.current===null){var b={hasValue:!1,value:null};p.current=b}else b=p.current;p=l(function(){function N(M){if(!k){if(k=!0,L=M,M=m(M),g!==void 0&&b.hasValue){var F=b.value;if(g(F,M))return E=F}return E=M}if(F=E,r(L,M))return F;var R=m(M);return g!==void 0&&g(F,R)?(L=M,F):(L=M,E=R)}var k=!1,L,E,I=h===void 0?null:h;return[function(){return N(f())},I===null?void 0:function(){return N(I())}]},[f,h,m,g]);var w=n(d,p[0],p[1]);return i(function(){b.hasValue=!0,b.value=w},[w]),c(w),w},wb}var oS;function lY(){return oS||(oS=1,yb.exports=oY()),yb.exports}lY();function cY(e){e()}function uY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var lS={notify(){},get:()=>[]};function dY(e,t){let r,n=lS,a=0,i=!1;function l(w){h();const N=n.subscribe(w);let k=!1;return()=>{k||(k=!0,N(),m())}}function c(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function f(){return i}function h(){a++,r||(r=e.subscribe(d),n=uY())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=lS)}function g(){i||(i=!0,h())}function p(){i&&(i=!1,m())}const b={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:p,getListeners:()=>n};return b}var fY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hY=fY(),pY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mY=pY(),vY=()=>hY||mY?P.useLayoutEffect:P.useEffect,gY=vY();function cS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xY(e,t){if(cS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!cS(e[r[a]],t[r[a]]))return!1;return!0}var Nb=Symbol.for("react-redux-context"),jb=typeof globalThis<"u"?globalThis:{};function bY(){if(!P.createContext)return{};const e=jb[Nb]??(jb[Nb]=new Map);let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var yY=bY();function wY(e){const{children:t,context:r,serverState:n,store:a}=e,i=P.useMemo(()=>{const d=dY(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=P.useMemo(()=>a.getState(),[a]);gY(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const c=r||yY;return P.createElement(c.Provider,{value:i},t)}var NY=wY,jY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function kY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ly(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(jY.has(n)){if(e[n]==null&&t[n]==null)continue;if(!xY(e[n],t[n]))return!1}else if(!kY(e[n],t[n]))return!1;return!0}var SY=["id"],AY=["type","layout","connectNulls","needClip","shape"],PY=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dy(e,t){if(e==null)return{};var r,n,a=IY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EY=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:h8(r,t),payload:e}]},LY=P.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:c,unit:d,tooltipType:f,id:h}=e,m={dataDefinedOnItem:r,getPosition:Zd,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:h8(l,t),hide:c,type:f,color:n,unit:d,graphicalItemId:h}};return P.createElement(cK,{tooltipEntrySettings:m})}),A_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function DY(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var TY=(e,t,r)=>{var n=r.reduce((p,b)=>p+b);if(!n)return A_(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,c=[],d=0,f=0;d<r.length;f+=(h=r[d])!==null&&h!==void 0?h:0,++d){var h,m=r[d];if(m!=null&&f+m>i){c=[...r.slice(0,d),i-f];break}}var g=c.length%2===0?[0,l]:[l];return[...DY(r,a),...c,...g].map(p=>"".concat(p,"px")).join(", ")};function MY(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n,{id:c}=n,d=Dy(n,SY),f=Eo(d);return P.createElement(IK,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:f,needClip:l,clipPathId:t})}function RY(e){var{showLabels:t,children:r,points:n}=e,a=P.useMemo(()=>n==null?void 0:n.map(i=>{var l,c,d={x:(l=i.x)!==null&&l!==void 0?l:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ao(Ao({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return P.createElement(RV,{value:t?a:void 0},r)}function dS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:c,connectNulls:d,needClip:f,shape:h}=i,m=Dy(i,AY),g=Ao(Ao({},Za(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return P.createElement(P.Fragment,null,(n==null?void 0:n.length)>1&&P.createElement(lK,Sh({shapeType:"curve",option:h},g,{pathRef:r})),P.createElement(MY,{points:n,clipPathId:t,props:i}))}function FY(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function zY(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:m,animateNewValues:g,width:p,height:b,onAnimationEnd:w,onAnimationStart:N}=r,k=a.current,L=_2(l,"recharts-line-"),E=P.useRef(L),[I,M]=P.useState(!1),F=!I,R=P.useCallback(()=>{typeof w=="function"&&w(),M(!1)},[w]),U=P.useCallback(()=>{typeof N=="function"&&N(),M(!0)},[N]),B=FY(n.current),Y=P.useRef(0);E.current!==L&&(Y.current=i.current,E.current=L);var C=Y.current;return P.createElement(RY,{points:l,showLabels:F},r.children,P.createElement(C2,{animationId:L,begin:f,duration:h,isActive:d,easing:m,onAnimationEnd:R,onAnimationStart:U,key:L},T=>{var H=xi(C,B+C,T),V=Math.min(H,B),W;if(d)if(c){var pe="".concat(c).split(/[,\s]+/gim).map(le=>parseFloat(le));W=TY(V,B,pe)}else W=A_(B,V);else W=c==null?void 0:String(c);if(T>0&&B>0&&(a.current=l,i.current=Math.max(i.current,V)),k){var ue=k.length/l.length,J=T===1?l:l.map((le,me)=>{var ee=Math.floor(me*ue);if(k[ee]){var z=k[ee];return Ao(Ao({},le),{},{x:xi(z.x,le.x,T),y:xi(z.y,le.y,T)})}return g?Ao(Ao({},le),{},{x:xi(p*2,le.x,T),y:xi(b/2,le.y,T)}):Ao(Ao({},le),{},{x:le.x,y:le.y})});return a.current=J,P.createElement(dS,{props:r,points:J,clipPathId:t,pathRef:n,strokeDasharray:W})}return P.createElement(dS,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:W})}),P.createElement(BV,{label:r.label}))}function BY(e){var{clipPathId:t,props:r}=e,n=P.useRef(null),a=P.useRef(0),i=P.useRef(null);return P.createElement(zY,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var UY=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:va(e.payload,t)}};class qY extends P.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:c,left:d,width:f,height:h,id:m,needClip:g,zIndex:p}=this.props;if(t)return null;var b=Pr("recharts-line",a),w=m,{r:N,strokeWidth:k}=sY(r),L=f_(r),E=N*2+k,I=g?"url(#clipPath-".concat(L?"":"dots-").concat(w,")"):void 0;return P.createElement(Wl,{zIndex:p},P.createElement(Mc,{className:b},g&&P.createElement("defs",null,P.createElement(eY,{clipPathId:w,xAxisId:i,yAxisId:l}),!L&&P.createElement("clipPath",{id:"clipPath-dots-".concat(w)},P.createElement("rect",{x:d-E/2,y:c-E/2,width:f+E,height:h+E}))),P.createElement(JG,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:UY,errorBarOffset:0},P.createElement(BY,{props:this.props,clipPathId:w}))),P.createElement(ZK,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:I}))}}var P_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Xa.line,type:"linear"};function $Y(e){var t=Ni(e,P_),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:c,dot:d,hide:f,isAnimationActive:h,label:m,legendType:g,xAxisId:p,yAxisId:b,id:w}=t,N=Dy(t,PY),{needClip:k}=w_(p,b),L=Oy(),E=Qd(),I=ki(),M=kt(Y=>iY(Y,p,b,I,w));if(E!=="horizontal"&&E!=="vertical"||M==null||L==null)return null;var{height:F,width:R,x:U,y:B}=L;return P.createElement(qY,Sh({},N,{id:w,connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:f,label:m,legendType:g,xAxisId:p,yAxisId:b,points:M,layout:E,height:F,width:R,left:U,top:B,needClip:k}))}function WY(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:c,displayedData:d}=e;return d.map((f,h)=>{var m=va(f,l);if(t==="horizontal"){var g=s4({axis:r,ticks:a,bandSize:c,entry:f,index:h}),p=ga(m)?null:n.scale.map(m);return{x:g,y:p??null,value:m,payload:f}}var b=ga(m)?null:r.scale.map(m),w=s4({axis:n,ticks:i,bandSize:c,entry:f,index:h});return b==null||w==null?null:{x:b,y:w,value:m,payload:f}}).filter(Boolean)}function HY(e){var t=Ni(e,P_),r=ki();return P.createElement(mK,{id:t.id,type:"line"},n=>P.createElement(P.Fragment,null,P.createElement(uK,{legendPayload:EY(t)}),P.createElement(LY,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),P.createElement(NK,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),P.createElement($Y,Sh({},t,{id:n}))))}var C_=P.memo(HY,Ly);C_.displayName="Line";var VY=["domain","range"],KY=["domain","range"];function fS(e,t){if(e==null)return{};var r,n,a=GY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function __(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=fS(e,VY),{domain:i,range:l}=t,c=fS(t,KY);return!hS(r,i)||!hS(n,l)?!1:Ly(a,c)}var YY=["type"],XY=["dangerouslySetInnerHTML","ticks","scale"],ZY=["id","scale"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W1.apply(null,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){QY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QY(e,t,r){return(t=JY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H1(e,t){if(e==null)return{};var r,n,a=tX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rX(e){var t=aa(),r=P.useRef(null),n=N8(),{type:a}=e,i=H1(e,YY),l=nv(n,"xAxis",a),c=P.useMemo(()=>{if(l!=null)return mS(mS({},i),{},{type:l})},[i,l]);return P.useLayoutEffect(()=>{c!=null&&(r.current===null?t(MK(c)):r.current!==c&&t(RK({prev:r.current,next:c})),r.current=c)},[c,t]),P.useLayoutEffect(()=>()=>{r.current&&(t(FK(r.current)),r.current=null)},[t]),null}var nX=e=>{var{xAxisId:t,className:r}=e,n=kt(m8),a=ki(),i="xAxis",l=kt(k=>wC(k,i,t,a)),c=kt(k=>r$(k,t)),d=kt(k=>l$(k,t)),f=kt(k=>UP(k,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:g}=e,p=H1(e,XY),{id:b,scale:w}=f,N=H1(f,ZY);return P.createElement(Ey,W1({},p,N,{x:d.x,y:d.y,width:c.width,height:c.height,className:Pr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},aX={allowDataOverflow:Jn.allowDataOverflow,allowDecimals:Jn.allowDecimals,allowDuplicatedCategory:Jn.allowDuplicatedCategory,angle:Jn.angle,axisLine:Cl.axisLine,height:Jn.height,hide:!1,includeHidden:Jn.includeHidden,interval:Jn.interval,label:!1,minTickGap:Jn.minTickGap,mirror:Jn.mirror,orientation:Jn.orientation,padding:Jn.padding,reversed:Jn.reversed,scale:Jn.scale,tick:Jn.tick,tickCount:Jn.tickCount,tickLine:Cl.tickLine,tickSize:Cl.tickSize,type:Jn.type,xAxisId:0},iX=e=>{var t=Ni(e,aX);return P.createElement(P.Fragment,null,P.createElement(rX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),P.createElement(nX,t))},O_=P.memo(iX,__);O_.displayName="XAxis";var sX=["type"],oX=["dangerouslySetInnerHTML","ticks","scale"],lX=["id","scale"];function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V1.apply(null,arguments)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return(t=uX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K1(e,t){if(e==null)return{};var r,n,a=fX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hX(e){var t=aa(),r=P.useRef(null),n=N8(),{type:a}=e,i=K1(e,sX),l=nv(n,"yAxis",a),c=P.useMemo(()=>{if(l!=null)return gS(gS({},i),{},{type:l})},[l,i]);return P.useLayoutEffect(()=>{c!=null&&(r.current===null?t(zK(c)):r.current!==c&&t(BK({prev:r.current,next:c})),r.current=c)},[c,t]),P.useLayoutEffect(()=>()=>{r.current&&(t(UK(r.current)),r.current=null)},[t]),null}function pX(e){var{yAxisId:t,className:r,width:n,label:a}=e,i=P.useRef(null),l=P.useRef(null),c=kt(m8),d=ki(),f=aa(),h="yAxis",m=kt(F=>d$(F,t)),g=kt(F=>u$(F,t)),p=kt(F=>wC(F,h,t,d)),b=kt(F=>qP(F,t));if(P.useLayoutEffect(()=>{if(!(n!=="auto"||!m||_y(a)||P.isValidElement(a)||b==null)){var F=i.current;if(F){var R=F.getCalculatedWidth();Math.round(m.width)!==Math.round(R)&&f(qK({id:t,width:R}))}}},[p,m,f,a,t,n,b]),m==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:w,ticks:N,scale:k}=e,L=K1(e,oX),{id:E,scale:I}=b,M=K1(b,lX);return P.createElement(Ey,V1({},L,M,{ref:i,labelRef:l,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Pr("recharts-".concat(h," ").concat(h),r),viewBox:c,ticks:p,axisType:h}))}var mX={allowDataOverflow:ea.allowDataOverflow,allowDecimals:ea.allowDecimals,allowDuplicatedCategory:ea.allowDuplicatedCategory,angle:ea.angle,axisLine:Cl.axisLine,hide:!1,includeHidden:ea.includeHidden,interval:ea.interval,label:!1,minTickGap:ea.minTickGap,mirror:ea.mirror,orientation:ea.orientation,padding:ea.padding,reversed:ea.reversed,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,tickLine:Cl.tickLine,tickSize:Cl.tickSize,type:ea.type,width:ea.width,yAxisId:0},vX=e=>{var t=Ni(e,mX);return P.createElement(P.Fragment,null,P.createElement(hX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),P.createElement(pX,t))},I_=P.memo(vX,__);I_.displayName="YAxis";var gX=(e,t)=>t,Ty=Le([gX,an,FP,oa,zC,$l,AW,xa],LW),My=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},E_=vs("mouseClick"),L_=Th();L_.startListening({actionCreator:E_,effect:(e,t)=>{var r=e.payload,n=Ty(t.getState(),My(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(k$({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var G1=vs("mouseMove"),D_=Th(),a0=null;D_.startListening({actionCreator:G1,effect:(e,t)=>{var r=e.payload;a0!==null&&cancelAnimationFrame(a0);var n=My(r);a0=requestAnimationFrame(()=>{var a=t.getState(),i=xy(a,a.tooltip.settings.shared);if(i==="axis"){var l=Ty(a,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(OC({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(_C())}a0=null})}});function xX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var xS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},T_=ji({name:"rootProps",initialState:xS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:xS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),bX=T_.reducer,{updateOptions:yX}=T_.actions,wX=null,NX={updatePolarOptions:(e,t)=>t.payload},M_=ji({name:"polarOptions",initialState:wX,reducers:NX}),{updatePolarOptions:QZ}=M_.actions,jX=M_.reducer,R_=vs("keyDown"),F_=vs("focus"),Ry=Th();Ry.startListening({actionCreator:R_,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=by(a,lf(r),Hh(r),Kh(r)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=$l(r);if(i==="Enter"){var f=dm(r,"axis","hover",String(a.index));t.dispatch(z1({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var h=m$(r),m=h==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,p=c+g*m;if(!(d==null||p>=d.length||p<0)){var b=dm(r,"axis","hover",String(p));t.dispatch(z1({active:!0,activeIndex:p.toString(),activeCoordinate:b}))}}}}}});Ry.startListening({actionCreator:F_,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=dm(r,"axis","hover",String(i));t.dispatch(z1({active:!0,activeIndex:i,activeCoordinate:l}))}}}});var fs=vs("externalEvent"),z_=Th(),kb=new Map;z_.startListening({actionCreator:fs,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=kb.get(a);i!==void 0&&cancelAnimationFrame(i);var l=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:uW(c),activeDataKey:lW(c),activeIndex:Nh(c),activeLabel:qC(c),activeTooltipIndex:Nh(c),isTooltipActive:dW(c)};r(d,n)}finally{kb.delete(a)}});kb.set(a,l)}}});var kX=Le([sf],e=>e.tooltipItemPayloads),SX=Le([kX,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(i=>i.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),B_=vs("touchMove"),U_=Th();U_.startListening({actionCreator:B_,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=xy(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var l=Ty(n,My({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(OC({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(oR),m=(c=f.getAttribute(lR))!==null&&c!==void 0?c:void 0,g=of(n).find(w=>w.id===m);if(h==null||g==null||m==null)return;var{dataKey:p}=g,b=SX(n,h,m);t.dispatch(j$({activeDataKey:p,activeIndex:h,activeCoordinate:b,activeGraphicalItemId:m}))}}}});var AX=MA({brush:JK,cartesianAxis:$K,chartData:dH,errorBars:KG,graphicalItems:yK,layout:V9,legend:eF,options:sH,polarAxis:qV,polarOptions:jX,referenceElements:nG,rootProps:bX,tooltip:S$,zIndex:KW}),PX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return g9({reducer:AX,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([L_.middleware,D_.middleware,Ry.middleware,z_.middleware,U_.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(ZA({type:"raf"}))},devTools:{serialize:{replacer:xX},name:"recharts-".concat(r)}})};function CX(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=ki(),i=P.useRef(null);if(a)return r;i.current==null&&(i.current=PX(t,n));var l=g2;return P.createElement(NY,{context:l,store:i.current},r)}function _X(e){var{layout:t,margin:r}=e,n=aa(),a=ki();return P.useEffect(()=>{a||(n($9(t)),n(q9(r)))},[n,a,t,r]),null}var OX=P.memo(_X,Ly);function IX(e){var t=aa();return P.useEffect(()=>{t(yX(e))},[t,e]),null}function bS(e){var{zIndex:t,isPanorama:r}=e,n=P.useRef(null),a=aa();return P.useLayoutEffect(()=>(n.current&&a(HW({zIndex:t,element:n.current,isPanorama:r})),()=>{a(VW({zIndex:t,isPanorama:r}))}),[a,t,r]),P.createElement("g",{tabIndex:-1,ref:n})}function yS(e){var{children:t,isPanorama:r}=e,n=kt(TW);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),i=n.filter(l=>l>0);return P.createElement(P.Fragment,null,a.map(l=>P.createElement(bS,{key:l,zIndex:l,isPanorama:r})),t,i.map(l=>P.createElement(bS,{key:l,zIndex:l,isPanorama:r})))}var EX=["children"];function LX(e,t){if(e==null)return{};var r,n,a=DX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(null,arguments)}var TX={width:"100%",height:"100%",display:"block"},MX=P.forwardRef((e,t)=>{var r=y8(),n=w8(),a=I8();if(!Do(r)||!Do(n))return null;var{children:i,otherAttributes:l,title:c,desc:d}=e,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0),P.createElement(J6,gm({},l,{title:c,desc:d,role:h,tabIndex:f,width:r,height:n,style:TX,ref:t}),i)}),RX=e=>{var{children:t}=e,r=kt($m);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return P.createElement(J6,{width:n,height:a,x:l,y:i},t)},wS=P.forwardRef((e,t)=>{var{children:r}=e,n=LX(e,EX),a=ki();return a?P.createElement(RX,null,P.createElement(yS,{isPanorama:!0},r)):P.createElement(MX,gm({ref:t},n),P.createElement(yS,{isPanorama:!1},r))});function FX(){var e=aa(),[t,r]=P.useState(null),n=kt(sR);return P.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ar(i)&&i!==n&&e(H9(i))}},[t,e,n]),r}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){BX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BX(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(null,arguments)}var $X=()=>(yH(),null);function xm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var WX=P.forwardRef((e,t)=>{var r,n,a=P.useRef(null),[i,l]=P.useState({containerWidth:xm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:xm((n=e.style)===null||n===void 0?void 0:n.height)}),c=P.useCallback((f,h)=>{l(m=>{var g=Math.round(f),p=Math.round(h);return m.containerWidth===g&&m.containerHeight===p?m:{containerWidth:g,containerHeight:p}})},[]),d=P.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=f.getBoundingClientRect();c(h,m);var g=b=>{var w=b[0];if(w!=null){var{width:N,height:k}=w.contentRect;c(N,k)}},p=new ResizeObserver(g);p.observe(f),a.current=p}},[t,c]);return P.useEffect(()=>()=>{var f=a.current;f!=null&&f.disconnect()},[c]),P.createElement(P.Fragment,null,P.createElement(Rh,{width:i.containerWidth,height:i.containerHeight}),P.createElement("div",Dc({ref:d},e)))}),HX=P.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=P.useState({containerWidth:xm(r),containerHeight:xm(n)}),l=P.useCallback((d,f)=>{i(h=>{var m=Math.round(d),g=Math.round(f);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),c=P.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[t,l]);return P.createElement(P.Fragment,null,P.createElement(Rh,{width:a.containerWidth,height:a.containerHeight}),P.createElement("div",Dc({ref:c},e)))}),VX=P.forwardRef((e,t)=>{var{width:r,height:n}=e;return P.createElement(P.Fragment,null,P.createElement(Rh,{width:r,height:n}),P.createElement("div",Dc({ref:t},e)))}),KX=P.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?P.createElement(HX,Dc({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?P.createElement(VX,Dc({},e,{width:r,height:n,ref:t})):P.createElement(P.Fragment,null,P.createElement(Rh,{width:r,height:n}),P.createElement("div",Dc({ref:t},e)))});function GX(e){return e?WX:KX}var YX=P.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:p,onTouchMove:b,onTouchStart:w,style:N,width:k,responsive:L,dispatchTouchEvents:E=!0}=e,I=P.useRef(null),M=aa(),[F,R]=P.useState(null),[U,B]=P.useState(null),Y=FX(),C=k2(),T=(C==null?void 0:C.width)>0?C.width:k,H=(C==null?void 0:C.height)>0?C.height:a,V=P.useCallback(ae=>{Y(ae),typeof t=="function"&&t(ae),R(ae),B(ae),ae!=null&&(I.current=ae)},[Y,t,R,B]),W=P.useCallback(ae=>{M(E_(ae)),M(fs({handler:i,reactEvent:ae}))},[M,i]),pe=P.useCallback(ae=>{M(G1(ae)),M(fs({handler:f,reactEvent:ae}))},[M,f]),ue=P.useCallback(ae=>{M(_C()),M(fs({handler:h,reactEvent:ae}))},[M,h]),J=P.useCallback(ae=>{M(G1(ae)),M(fs({handler:m,reactEvent:ae}))},[M,m]),le=P.useCallback(()=>{M(F_())},[M]),me=P.useCallback(ae=>{M(R_(ae.key))},[M]),ee=P.useCallback(ae=>{M(fs({handler:l,reactEvent:ae}))},[M,l]),z=P.useCallback(ae=>{M(fs({handler:c,reactEvent:ae}))},[M,c]),re=P.useCallback(ae=>{M(fs({handler:d,reactEvent:ae}))},[M,d]),ie=P.useCallback(ae=>{M(fs({handler:g,reactEvent:ae}))},[M,g]),fe=P.useCallback(ae=>{M(fs({handler:w,reactEvent:ae}))},[M,w]),Z=P.useCallback(ae=>{E&&M(B_(ae)),M(fs({handler:b,reactEvent:ae}))},[M,E,b]),de=P.useCallback(ae=>{M(fs({handler:p,reactEvent:ae}))},[M,p]),we=GX(L);return P.createElement(YC.Provider,{value:F},P.createElement(XD.Provider,{value:U},P.createElement(we,{width:T??(N==null?void 0:N.width),height:H??(N==null?void 0:N.height),className:Pr("recharts-wrapper",n),style:zX({position:"relative",cursor:"default",width:T,height:H},N),onClick:W,onContextMenu:ee,onDoubleClick:z,onFocus:le,onKeyDown:me,onMouseDown:re,onMouseEnter:pe,onMouseLeave:ue,onMouseMove:J,onMouseUp:ie,onTouchEnd:de,onTouchMove:Z,onTouchStart:fe,ref:V},P.createElement($X,null),r)))}),XX=["width","height","responsive","children","className","style","compact","title","desc"];function ZX(e,t){if(e==null)return{};var r,n,a=QX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JX=P.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:c,compact:d,title:f,desc:h}=e,m=ZX(e,XX),g=Eo(m);return d?P.createElement(P.Fragment,null,P.createElement(Rh,{width:r,height:n}),P.createElement(wS,{otherAttributes:g,title:f,desc:h},i)):P.createElement(YX,{className:l,style:c,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},P.createElement(wS,{otherAttributes:g,title:f,desc:h,ref:t},P.createElement(iG,null,i)))});function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(null,arguments)}var eZ={top:5,right:5,bottom:5,left:5},tZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:eZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},rZ=P.forwardRef(function(t,r){var n,a=Ni(t.categoricalChartProps,tZ),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return P.createElement(CX,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},P.createElement(QK,{chartData:f.data}),P.createElement(OX,{layout:a.layout,margin:a.margin}),P.createElement(IX,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),P.createElement(JX,Y1({},a,{ref:r})))}),nZ=["axis"],aZ=P.forwardRef((e,t)=>P.createElement(rZ,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nZ,tooltipPayloadSearcher:aH,categoricalChartProps:e,ref:t}));const iZ=({meterId:e,onEdit:t})=>{const{readings:r,getMeterById:n,getReadingsByMeter:a,addReading:i,updateReading:l,deleteReading:c}=Ch(),{getAssetById:d}=Ro(),{activeUserId:f}=xs(),[h,m]=P.useState("1W"),[g,p]=P.useState(!1),[b,w]=P.useState(""),[N,k]=P.useState(""),[L,E]=P.useState(null),[I,M]=P.useState(""),[F,R]=P.useState(""),[U,B]=P.useState(null),Y=e?n(e):void 0,C=Y!=null&&Y.assetId?d(Y.assetId):void 0,T=P.useMemo(()=>Y!=null&&Y.id?a(Y.id):[],[Y==null?void 0:Y.id,a,r]),H=P.useMemo(()=>{if(!T.length)return[];const ue=Date.now();let J;switch(h){case"1H":J=ue-60*60*1e3;break;case"1D":J=ue-24*60*60*1e3;break;case"1W":J=ue-7*24*60*60*1e3;break;case"1M":J=ue-30*24*60*60*1e3;break;case"3M":J=ue-90*24*60*60*1e3;break;case"6M":J=ue-180*24*60*60*1e3;break;case"1Y":J=ue-365*24*60*60*1e3;break;default:J=0}return T.filter(le=>new Date(le.recordedAt||le.createdAt).getTime()>=J).sort((le,me)=>new Date(le.recordedAt||le.createdAt).getTime()-new Date(me.recordedAt||me.createdAt).getTime())},[T,h]),V=P.useMemo(()=>H.map(ue=>{const J=new Date(ue.recordedAt||ue.createdAt);let le;switch(h){case"1H":case"1D":le=J.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1});break;case"1W":case"1M":le=J.toLocaleDateString(void 0,{month:"short",day:"numeric"});break;default:le=J.toLocaleDateString(void 0,{month:"short",year:"2-digit"})}return{name:le,value:ue.value,fullDate:J.toLocaleString(),timestamp:J.getTime()}}),[H,h]);if(!e)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-[var(--panel)] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-[var(--muted)] bg-[var(--panel-2)]",children:"Select a meter to view details"})})});if(!Y)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-[var(--panel)] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-red-400 bg-[var(--panel-2)]",children:"Meter not found"})})});const W=ue=>{E(ue.id),M(ue.value.toString());const J=new Date(ue.recordedAt||ue.createdAt),le=J.getTimezoneOffset()*6e4,me=new Date(J.getTime()-le).toISOString().slice(0,16);R(me)},pe=()=>{if(!L)return;const ue=parseFloat(I);if(isNaN(ue))return;const J=new Date(F).toISOString();l(L,{value:ue,recordedAt:J}),E(null)};return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-[var(--panel)] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-x-hidden overflow-y-auto w-full",children:[s.jsxs("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] box-border caret-transparent shrink-0 px-4 py-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap justify-between gap-y-2 mb-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex gap-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold box-border caret-transparent tracking-[-0.2px] leading-7",children:Y==null?void 0:Y.name}),s.jsx("button",{title:"Copy Link",type:"button",className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded-[50%] hover:bg-accent hover:text-white transition-colors",onClick:()=>{var ue;try{(ue=navigator.clipboard)==null||ue.writeText(window.location.href.replace(/#.*/,"#meters"))}catch{}},children:s.jsx("span",{className:"box-border caret-transparent flex text-nowrap",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-35.svg",alt:"Icon",className:"box-border caret-transparent h-5 text-nowrap w-5"})})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsx("button",{type:"button",onClick:()=>{p(!0),k(""),w("")},className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Record Reading"})}),s.jsx("button",{type:"button",onClick:t,className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Edit"})}),s.jsx("button",{type:"button",className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"text-slate-500 box-border caret-transparent flex shrink-0 text-nowrap hover:text-gray-600",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-40.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"})})})]})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 text-sm text-gray-600 mb-0",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-7.svg",alt:"Icon",className:"text-slate-500 box-border caret-transparent shrink-0 h-4 w-4"}),C?s.jsx("a",{href:"#assets",className:"text-accent hover:text-accent-hover",onClick:()=>setTimeout(()=>window.dispatchEvent(new CustomEvent("select-asset",{detail:{id:C.id}})),0),children:C==null?void 0:C.name}):s.jsx("span",{children:"Global"})]}),s.jsx("span",{children:"-"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:"text-slate-500 box-border caret-transparent shrink-0 h-4 w-4"}),s.jsx("a",{href:"#locations",className:"text-accent hover:text-accent-hover",children:Y.locationName||""})]})]})]}),s.jsxs("div",{className:"relative box-border caret-transparent flex flex-col grow scroll-smooth overflow-auto scroll-pt-4 px-6 pt-6",children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold",children:"Readings"}),g&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",step:"any",autoFocus:!0,value:b,onChange:ue=>w(ue.target.value),placeholder:`Enter ${Y.unit||""}`.trim(),className:"border border-[var(--border)] rounded px-2 py-1 text-sm w-40"}),s.jsx("button",{type:"button",className:"px-3 py-1 rounded bg-accent text-white text-sm",onClick:()=>{const ue=parseFloat(b);if(isNaN(ue)){k("Enter a valid number");return}i({meterId:Y.id,value:ue,unit:Y.unit,recordedByUserId:f||void 0,source:"manual",recordedAt:new Date().toISOString()}),p(!1),w("")},children:"Save"}),s.jsx("button",{type:"button",className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:()=>{p(!1),k("")},children:"Cancel"}),N&&s.jsx("div",{className:"text-xs text-red-500 ml-2",children:N})]}),s.jsx("div",{className:"flex items-center gap-1",children:["1H","1D","1W","1M","3M","6M","1Y"].map(ue=>s.jsx("button",{type:"button",onClick:()=>m(ue),className:`px-2 py-0.5 text-[10px] uppercase font-bold tracking-wider rounded ${h===ue?"bg-accent text-white":"bg-transparent text-[var(--muted)] hover:bg-[var(--panel-2)]"}`,children:ue},ue))})]}),s.jsx("div",{className:"h-48 bg-[var(--panel)] rounded border border-[var(--border)] mb-4 p-4",children:V.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-[var(--muted)] text-[10px] uppercase tracking-widest",children:"No data"}):s.jsx(MR,{width:"100%",height:"100%",children:s.jsxs(aZ,{data:V,children:[s.jsx(b_,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.08)"}),s.jsx(O_,{dataKey:"name",fontSize:9,tickMargin:10,stroke:"var(--muted)",tick:{fill:"var(--muted)",fontSize:9}}),s.jsx(I_,{fontSize:9,stroke:"var(--muted)",tick:{fill:"var(--muted)",fontSize:9}}),s.jsx(CH,{contentStyle:{fontSize:"10px",borderRadius:"4px",border:"1px solid var(--border)",background:"var(--panel)",color:"var(--text)",boxShadow:"0 4px 12px rgba(0,0,0,0.5)"},labelStyle:{fontWeight:"bold",color:"var(--muted)"},itemStyle:{color:"var(--text)"},cursor:{stroke:"rgba(255,255,255,0.1)",strokeWidth:1},labelFormatter:(ue,J)=>{var le,me;return((me=(le=J==null?void 0:J[0])==null?void 0:le.payload)==null?void 0:me.fullDate)||ue}}),s.jsx(C_,{type:"monotone",dataKey:"value",stroke:"var(--accent)",strokeWidth:1.5,dot:{r:2,fill:"var(--accent)"},activeDot:{r:4,strokeWidth:0}})]})})}),s.jsx("div",{className:"min-h-[60px] bg-[var(--panel-2)] rounded flex items-center justify-center border border-[var(--border)] mb-4 relative",children:T.length===0?s.jsx("div",{className:"text-[var(--muted)] text-[11px] uppercase tracking-wider",children:"No readings yet"}):s.jsxs("div",{className:"text-center p-4",children:[s.jsxs("div",{className:"text-2xl font-semibold",children:[Y.lastReading,Y.unit?` ${Y.unit}`:""]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last reading ",Y.lastReadingAt?new Date(Y.lastReadingAt).toLocaleString():""]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total readings: ",T.length]})]})}),s.jsxs("div",{className:"bg-[var(--panel)] border border-[var(--border)] rounded",children:[s.jsx("div",{className:"px-3 py-2 border-b border-[var(--border)] text-sm font-medium",children:"History"}),T.length===0?s.jsx("div",{className:"px-3 py-3 text-sm text-[var(--muted)]",children:"No readings to display"}):s.jsx("ul",{className:"divide-y divide-[var(--border)] max-h-80 overflow-auto",children:T.slice(0,50).map(ue=>s.jsx("li",{className:"px-3 py-2 text-sm group",children:L===ue.id?s.jsxs("div",{className:"space-y-2 py-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:I,onChange:J=>M(J.target.value),className:"border border-[var(--border)] rounded px-2 py-1 text-sm w-24"}),s.jsx("span",{className:"text-gray-500",children:Y.unit})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{type:"datetime-local",value:F,onChange:J=>R(J.target.value),className:"border border-[var(--border)] rounded px-2 py-1 text-sm flex-grow"})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>E(null),className:"p-1 text-gray-500 hover:text-gray-700",children:s.jsx(bm,{size:16})}),s.jsx("button",{onClick:pe,className:"p-1 text-accent hover:text-accent-hover",children:s.jsx(OS,{size:16})})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"font-medium",children:[ue.value,Y.unit?` ${Y.unit}`:ue.unit?` ${ue.unit}`:""]}),ue.workOrderId&&s.jsxs("div",{className:"text-[10px] text-accent font-medium",children:["WO: ",ue.workOrderId.slice(0,8),"..."]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[new Date(ue.recordedAt||ue.createdAt).toLocaleString(),"  ",ue.source||""]})]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[s.jsx("button",{onClick:()=>W(ue),className:"p-1.5 text-[var(--muted)] hover:text-accent hover:bg-accent-muted rounded",title:"Edit reading",children:s.jsx(XO,{size:14})}),U===ue.id?s.jsxs("div",{className:"flex items-center bg-[var(--panel-2)] rounded border border-[rgba(255,77,109,0.2)]",children:[s.jsx("button",{onClick:()=>{c(ue.id),B(null)},className:"px-2 py-1 text-[10px] text-red-400 font-bold hover:bg-[rgba(255,77,109,0.15)]",children:"Confirm"}),s.jsx("button",{onClick:()=>B(null),className:"px-2 py-1 text-[10px] text-[var(--muted)] hover:bg-[var(--panel)] border-l border-[rgba(255,77,109,0.2)]",children:"Cancel"})]}):s.jsx("button",{onClick:()=>B(ue.id),className:"p-1.5 text-[var(--muted)] hover:text-red-400 hover:bg-[rgba(255,77,109,0.1)] rounded",title:"Delete reading",children:s.jsx(th,{size:14})})]})]})},ue.id))})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"button",className:"text-accent font-medium items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:text-accent-hover hover:border-accent-hover",onClick:()=>{},children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"See All Readings"})})})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-4"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Description"}),s.jsx("div",{className:"box-border caret-transparent leading-[21px]",children:s.jsx("span",{children:Y.description||""})})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-4"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Meter Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Measurement Unit"}),s.jsx("p",{className:"font-semibold",children:Y.unit||""})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Last Reading"}),s.jsx("p",{className:"font-semibold",children:typeof Y.lastReading=="number"?`${Y.lastReading}${Y.unit?` ${Y.unit}`:""}`:""})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Last Reading On"}),s.jsx("p",{className:"font-semibold",children:Y.lastReadingAt?new Date(Y.lastReadingAt).toLocaleString():""})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Status"}),s.jsx("p",{className:"font-semibold",children:Y.active?"Active":"Inactive"})]})]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-4"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h2",{className:"text-lg font-semibold",children:"Upcoming Reading Work Orders"})}),s.jsx("div",{className:"text-gray-500 text-sm",children:"No upcoming work orders with meter readings configured"})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-4"}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-2 mb-6",children:[s.jsxs("div",{children:["Created on ",new Date(Y.createdAt).toLocaleString()]}),s.jsxs("div",{children:["Last updated on ",new Date(Y.updatedAt).toLocaleString()]})]})]})]})})})},sZ={name:"",unit:"",description:"",assetId:void 0,locationId:void 0,locationName:"",active:!0,lastReading:void 0,lastReadingAt:void 0},oZ=({open:e,initial:t,onClose:r,onSubmit:n})=>{const{assets:a}=Ro(),i=P.useMemo(()=>({...sZ,...t}),[t]),[l,c]=P.useState(i),[d,f]=P.useState({});Ah.useEffect(()=>{c(i)},[i]);const h=w=>c(N=>({...N,...w})),m=!!l.assetId,g=()=>{var N;const w={};return(N=l.name)!=null&&N.trim()||(w.name="Name is required"),f(w),Object.keys(w).length===0},p=()=>{var w;g()&&n({...l,assetId:l.assetId||void 0,locationId:l.locationId||void 0,locationName:((w=l.locationName)==null?void 0:w.trim())||void 0})},b=w=>{const N=a.find(k=>k.id===w);if(N){const k=N.locationId?e2(N.locationId):void 0;h({assetId:N.id,locationId:N.locationId||void 0,locationName:(k==null?void 0:k.name)||N.locationName||""})}else h({assetId:void 0})};return e?s.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-end",onClick:r,children:s.jsxs("div",{className:"bg-white w-full max-w-xl h-full overflow-auto border-l border-[var(--border)]",onClick:w=>w.stopPropagation(),children:[s.jsxs("div",{className:"px-4 py-3 border-b border-[var(--border)] flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-semibold",children:t!=null&&t.id?"Edit Meter":"New Meter"}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:r,children:""})]}),s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Name",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{value:l.name,onChange:w=>h({name:w.target.value}),className:`w-full border rounded px-2 py-1 text-sm ${d.name?"border-red-400":"border-[var(--border)]"}`}),d.name&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:d.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Unit"}),s.jsx("input",{value:l.unit||"",onChange:w=>h({unit:w.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",placeholder:"e.g., Hours, kWh"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Active"}),s.jsxs("select",{value:l.active?"true":"false",onChange:w=>h({active:w.target.value==="true"}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"true",children:"Active"}),s.jsx("option",{value:"false",children:"Inactive"})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Description"}),s.jsx("textarea",{value:l.description||"",onChange:w=>h({description:w.target.value}),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm min-h-[72px]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Linked Asset"}),s.jsxs("select",{value:l.assetId||"",onChange:w=>b(w.target.value),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"",children:"None (Standalone Meter)"}),a.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Location",m&&s.jsx("span",{className:"text-gray-400 ml-1",children:"(from asset)"})]}),s.jsx(_h,{value:l.locationId||null,disabled:m,onChange:(w,N)=>{h({locationId:w||void 0,locationName:N})}})]})]})}),s.jsxs("div",{className:"px-4 py-3 border-t border-[var(--border)] bg-gray-50 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:r,children:"Cancel"}),s.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",onClick:p,children:"Save"})]})]})}):null},lZ=()=>{const{meters:e,addMeter:t,updateMeter:r}=Ch(),{assets:n}=Ro(),[a,i]=P.useState(null),[l,c]=P.useState(""),[d,f]=P.useState(!1),[h,m]=P.useState(null);P.useEffect(()=>{var w;!a&&e.length>0&&i(e[0].id),a&&!e.find(N=>N.id===a)&&i(((w=e[0])==null?void 0:w.id)||null)},[e,a]),P.useEffect(()=>{const w=N=>{var L;const k=(L=N==null?void 0:N.detail)==null?void 0:L.id;k&&i(k)};return window.addEventListener("select-meter",w),()=>window.removeEventListener("select-meter",w)},[]);const g=P.useMemo(()=>{const w=l.trim().toLowerCase();return(w?e.filter(k=>k.name.toLowerCase().includes(w)):e).map(k=>{var L;return{id:k.id,name:k.name,assetName:((L=n.find(E=>E.id===k.assetId))==null?void 0:L.name)||"",locationName:k.locationName||"",lastReading:typeof k.lastReading=="number"?`${k.lastReading}${k.unit?` ${k.unit}`:""}`:"",unit:k.unit||""}})},[e,n,l]),p=()=>{m(null),f(!0)},b=w=>{m(w),f(!0)};return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Meters"})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow max-w-[400px]",children:s.jsx("form",{className:"box-border caret-transparent basis-[0%] grow",onSubmit:w=>w.preventDefault(),children:s.jsx("input",{type:"search",value:l,onChange:w=>c(w.target.value),placeholder:"Search Meters",className:"bg-gray-50 bg-[url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2711%27%20height=%2712%27%3E%3Cg%20fill=%27none%27%20fill-rule=%27evenodd%27%20stroke=%27%23868686%27%20stroke-width=%271.25%27%20transform=%27translate%281%201.5)] bg-no-repeat box-border caret-transparent shrink-0 leading-5 min-h-10 -outline-offset-2 w-full border border-[var(--border)] bg-[position:10px_50%] pl-[30px] pr-2 py-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid"})})}),s.jsx("button",{type:"button",className:"relative text-accent font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"Manage Integrations"})}),s.jsx("button",{type:"button",onClick:p,className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:bg-accent-hover hover:border-accent-hover",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"New Meter"})})]})]})}),s.jsx("div",{className:"box-border caret-transparent shrink-0 px-4 py-3",children:s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] grow gap-x-2",children:[s.jsx("button",{type:"button",className:"items-center bg-sky-100 text-blue-500 caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-blue-500 px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:bg-sky-200",children:s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:"Type"})}),s.jsx("button",{type:"button",className:"items-center bg-white caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:"Asset"})}),s.jsx("button",{type:"button",className:"items-center bg-white caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:"Location"})})]})})}),s.jsxs("div",{className:"relative box-border caret-transparent flex basis-[0%] grow mx-4",children:[s.jsx(zD,{meters:g,selectedMeterId:a,onSelectMeter:w=>{i(w)}}),s.jsx(iZ,{meterId:a,onEdit:()=>{a&&b(a)}})]}),s.jsx(oZ,{open:d,initial:h&&e.find(w=>w.id===h)||void 0,onClose:()=>f(!1),onSubmit:w=>{h?r(h,w):t(w),f(!1)}})]})},cZ=({locations:e,selectedLocationId:t,onSelectLocation:r})=>{const n=P.useMemo(()=>{const a=[],i=(l,c)=>{const d=e.filter(f=>l===null?!f.parentLocationId:f.parentLocationId===l);for(const f of d)a.push({...f,depth:c}),i(f.id,c+1)};return i(null,0),a.length===0&&e.length>0?e.map(l=>({...l,depth:0})):a},[e]);return s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex flex-col shrink-0 max-w-[500px] min-w-[300px] w-2/5 border border-[var(--border)] mr-4 rounded-tl rounded-tr border-solid",children:[s.jsx("div",{className:"relative items-center border-b-zinc-200 border-l-neutral-800 border-r-neutral-800 border-t-neutral-800 box-border caret-transparent flex shrink-0 h-12 justify-between z-[1] border-b",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow p-3",children:s.jsx("div",{className:"relative text-[12.6px] box-border caret-transparent flex basis-[0%] grow leading-[15.12px]",children:s.jsx("div",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsxs("button",{type:"button",className:"text-gray-600 text-sm items-center bg-transparent caret-transparent flex shrink-0 leading-[16.8px] max-w-full text-center",children:["Sort By:",s.jsxs("div",{className:"text-blue-500 items-center box-border caret-transparent flex basis-[0%] grow stroke-blue-500",children:[s.jsxs("span",{className:"box-border caret-transparent block basis-[0%] grow stroke-blue-500 text-ellipsis text-nowrap overflow-hidden ml-1",children:[s.jsx("span",{className:"font-semibold box-border caret-transparent shrink-0 stroke-blue-500 text-nowrap",children:"Name"}),": Ascending Order"]}),s.jsx("div",{className:"box-border caret-transparent shrink-0 stroke-blue-500 ml-1 mb-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-27.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-[5px] w-2 -scale-100"})})]})]})})})})}),s.jsx("div",{className:"relative box-border caret-transparent basis-[0%] grow overflow-x-hidden overflow-y-auto pb-8 rounded-bl rounded-br",children:n.map(a=>s.jsxs("div",{onClick:()=>r(a.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[80px] cursor-pointer hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] border-l-2 transition-colors ${t===a.id?"bg-[var(--panel-2)] border-l-[var(--accent)]":"border-l-transparent"} group`,style:{paddingLeft:`${a.depth*24}px`},children:[s.jsx(Oo,{imageUrl:a.imageUrl,alt:a.name,fallbackIcon:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:`box-border caret-transparent shrink-0 h-[18px] w-[18px] transition-opacity ${t===a.id?"opacity-100":"group-hover:opacity-100"}`}),className:`h-12 w-12 ml-4 mr-3 ${a.depth>0?"scale-90":""}`}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center py-3 pr-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 my-px",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsxs("div",{title:a.name,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:[a.depth>0&&s.jsx("span",{className:"text-gray-300 mr-1",children:""}),a.name]})})}),a.address&&s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between my-1",children:s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent text-ellipsis text-nowrap overflow-hidden opacity-80",children:a.address})}),a.subLocationsCount>0&&s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 my-1",children:s.jsxs("span",{className:"text-blue-500 text-[13px] box-border caret-transparent flex items-center gap-1 opacity-90",children:[a.subLocationsCount," Sub-Locations"]})})]})]},a.id))})]})},q_=({initial:e,onClose:t,onSubmit:r})=>{const[n,a]=P.useState((e==null?void 0:e.name)||""),[i,l]=P.useState((e==null?void 0:e.description)||""),[c,d]=P.useState((e==null?void 0:e.address)||""),[f,h]=P.useState((e==null?void 0:e.imageUrl)||""),[m,g]=P.useState((e==null?void 0:e.parentLocationId)||null),[p,b]=P.useState({}),w=()=>{const k={};return n.trim()||(k.name="Name is required"),b(k),Object.keys(k).length===0},N=()=>{w()&&r({name:n.trim(),description:i.trim()||void 0,address:c.trim()||void 0,imageUrl:f||void 0,parentLocationId:m})};return s.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",onClick:t,children:s.jsxs("div",{className:"bg-white w-full max-w-md rounded-lg shadow-lg",onClick:k=>k.stopPropagation(),children:[s.jsxs("div",{className:"px-4 py-3 border-b border-[var(--border)] flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-semibold",children:e!=null&&e.id?"Edit Location":"New Location"}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:t,children:""})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx(s2,{currentImageUrl:f,onImageUploaded:h,onImageRemoved:()=>h(""),label:"Location Photo"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Name",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{value:n,onChange:k=>a(k.target.value),className:`w-full border rounded px-2 py-1 text-sm ${p.name?"border-red-400":"border-[var(--border)]"}`}),p.name&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:p.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Description"}),s.jsx("textarea",{value:i,onChange:k=>l(k.target.value),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm min-h-[60px]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Address"}),s.jsx("input",{value:c,onChange:k=>d(k.target.value),className:"w-full border border-[var(--border)] rounded px-2 py-1 text-sm"})]}),s.jsx("div",{children:s.jsx(_h,{label:"Parent Location",value:m,onChange:k=>g(k)})})]}),s.jsxs("div",{className:"px-4 py-3 border-t border-[var(--border)] bg-gray-50 flex items-center justify-end gap-2 rounded-b-lg",children:[s.jsx("button",{className:"px-3 py-1 rounded border border-[var(--border)] text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",onClick:N,children:"Save"})]})]})})},uZ=({locationId:e})=>{const{getLocationById:t,getChildLocations:r,deleteLocation:n}=Eu(),{assets:a}=Ro(),{workOrders:i}=Gs(),[l,c]=P.useState(!1),[d,f]=P.useState(null),{updateLocation:h}=Eu();if(!e)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-gray-500 bg-[var(--panel-2)]",children:"Select a location to view details"})})});const m=t(e);if(!m)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-red-500 bg-[var(--panel-2)]",children:"Location not found"})})});const g=r(e),p=a.filter(k=>k.locationId===e),b=i.filter(k=>k.locationId===e),w=()=>{if(f(null),p.length>0){f(`Cannot delete: ${p.length} asset(s) are assigned to this location. Reassign them first.`);return}if(b.length>0){f(`Cannot delete: ${b.length} work order(s) reference this location. Reassign them first.`);return}const k=n(e);k.ok||f(k.reason||"Cannot delete this location.")},N=()=>{window.dispatchEvent(new CustomEvent("create-sub-location",{detail:{parentLocationId:m.id}}))};return s.jsxs("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:[s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-x-hidden overflow-y-auto w-full relative",children:[s.jsxs("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] box-border caret-transparent shrink-0 px-4 py-4",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 flex-wrap justify-between gap-y-2 mb-0",children:[s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex gap-y-2",children:[s.jsx(Oo,{imageUrl:m.imageUrl,alt:m.name,fallbackIcon:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-6 w-6"}),className:"h-16 w-16"}),s.jsx("h3",{className:"text-xl font-semibold box-border caret-transparent tracking-[-0.2px] leading-7",children:m.name}),s.jsx("button",{title:"Copy Link",type:"button",className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded-[50%] hover:text-accent-hover transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex text-nowrap",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-35.svg",alt:"Icon",className:"box-border caret-transparent h-5 text-nowrap w-5"})})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsx("button",{type:"button",onClick:()=>c(!0),className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Edit"})}),s.jsx("button",{type:"button",onClick:w,className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded hover:bg-accent hover:text-white transition-colors",title:"Delete Location",children:s.jsx("span",{className:"text-slate-500 box-border caret-transparent flex shrink-0 text-nowrap hover:text-red-500",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),s.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})})]})]}),d&&s.jsx("div",{className:"mt-2 text-xs font-bold text-red-600 bg-red-50 border border-red-100 rounded px-3 py-2",children:d})]}),s.jsxs("div",{className:"relative box-border caret-transparent flex flex-col grow scroll-smooth overflow-auto scroll-pt-4 px-6 pt-6",children:[m.description&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:"Description"}),s.jsx("div",{className:"box-border caret-transparent text-sm leading-relaxed text-gray-700",children:m.description})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"})]}),m.address&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:"Address"}),s.jsx("div",{className:"box-border caret-transparent text-sm leading-relaxed text-gray-700",children:m.address})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"})]}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Sub-Locations (",g.length,")"]}),g.length===0?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-xs text-[var(--muted)] italic",children:"Add sub elements inside this Location"}),s.jsx("button",{type:"button",onClick:N,className:"text-accent text-xs font-bold uppercase tracking-wider hover:text-accent-hover text-left",children:"+ Create Sub-Location"})]}):s.jsx("div",{className:"space-y-1",children:g.map(k=>s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 p-2 border border-[var(--border)] rounded hover:bg-gray-50 transition-colors group",children:[s.jsx(Oo,{imageUrl:k.imageUrl,alt:k.name,fallbackIcon:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Location",className:"box-border caret-transparent shrink-0 h-3 w-3"}),className:"h-7 w-7 mr-3"}),s.jsx("div",{className:"text-sm font-medium group-hover:text-accent transition-colors",children:k.name})]},k.id))})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Assets (",p.length,")"]}),p.length===0?s.jsx("div",{className:"text-[var(--muted)] text-xs italic",children:"No assets at this location"}):s.jsx("div",{className:"space-y-1",children:p.map(k=>s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 p-2 border border-[var(--border)] rounded hover:bg-gray-50 transition-colors group",children:[s.jsx(Oo,{imageUrl:k.imageUrl,alt:k.name,fallbackIcon:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400",children:[s.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),s.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),className:"h-7 w-7 mr-3"}),s.jsx("div",{className:"text-sm font-medium group-hover:text-accent transition-colors",children:k.name})]},k.id))})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:["Work Orders (",b.length,")"]}),b.length===0?s.jsx("div",{className:"text-[var(--muted)] text-xs italic",children:"No work orders at this location"}):s.jsxs("div",{className:"space-y-1",children:[b.slice(0,5).map(k=>s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 p-2 border border-[var(--border)] rounded hover:bg-gray-50 transition-colors group",children:[s.jsxs("div",{className:"text-sm font-medium group-hover:text-accent transition-colors flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] text-gray-400",children:k.workOrderNumber}),k.title]}),s.jsx("span",{className:`ml-auto text-[10px] px-1.5 py-0.5 rounded ${k.status==="Done"?"bg-green-50 text-green-600":k.status==="In Progress"?"bg-accent-muted text-accent":"bg-gray-50 text-gray-500"}`,children:k.status})]},k.id)),b.length>5&&s.jsxs("div",{className:"text-xs text-gray-400 italic",children:["and ",b.length-5," more..."]})]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"text-[10px] text-[var(--muted)] space-y-1 mb-4 italic",children:[s.jsxs("div",{children:["Created on ",new Date(m.createdAt).toLocaleString()]}),s.jsxs("div",{children:["Last updated on ",new Date(m.updatedAt).toLocaleString()]})]})]})]})}),l&&s.jsx(q_,{initial:m,onClose:()=>c(!1),onSubmit:k=>{h(e,k),c(!1)}})]})},dZ=()=>{const[e,t]=P.useState("2687779"),[r,n]=P.useState(""),[a,i]=P.useState(!1),[l,c]=P.useState(null),{locations:d,addLocation:f}=Eu(),{assets:h}=Ro();P.useEffect(()=>{const p=b=>{var N;const w=(N=b.detail)==null?void 0:N.parentLocationId;w&&(c(w),i(!0))};return window.addEventListener("create-sub-location",p),()=>window.removeEventListener("create-sub-location",p)},[]);const m=P.useMemo(()=>d.map(p=>{const b=d.filter(N=>N.parentLocationId===p.id).length,w=h.filter(N=>N.locationId===p.id);return{id:p.id,name:p.name,description:p.description||"",address:p.address||"",parentLocationId:p.parentLocationId||null,subLocationsCount:b,assetsCount:w.length,assets:w.map(N=>({id:N.id,name:N.name,imageUrl:""}))}}),[d,h]),g=P.useMemo(()=>{if(!r.trim())return m;const p=r.toLowerCase();return m.filter(b=>b.name.toLowerCase().includes(p)||(b.address||"").toLowerCase().includes(p))},[m,r]);return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Locations"})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow max-w-[400px]",children:s.jsx("form",{className:"box-border caret-transparent basis-[0%] grow",onSubmit:p=>p.preventDefault(),children:s.jsx("input",{type:"search",placeholder:"Search Locations",value:r,onChange:p=>n(p.target.value),className:"bg-[var(--panel-2)] bg-no-repeat box-border caret-transparent shrink-0 leading-5 min-h-10 -outline-offset-2 w-full border border-[var(--border)] pl-3 pr-2 py-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid"})})}),s.jsx("button",{type:"button",onClick:()=>i(!0),className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-md border-solid hover:bg-accent-hover hover:border-accent-hover",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"New Location"})})]})]})}),s.jsx("div",{className:"box-border caret-transparent shrink-0 px-4 py-3",children:s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow gap-x-2"})})}),s.jsxs("div",{className:"relative box-border caret-transparent flex basis-[0%] grow mx-4",children:[s.jsx(cZ,{locations:g,selectedLocationId:e,onSelectLocation:t}),s.jsx(uZ,{locationId:e})]}),a&&s.jsx(q_,{initial:l?{parentLocationId:l}:void 0,onClose:()=>{i(!1),c(null)},onSubmit:p=>{const b=f(p);i(!1),c(null),t(b.id)}})]})},fZ=({isOpen:e,onClose:t})=>{const{addUser:r}=xs(),[n,a]=P.useState(""),[i,l]=P.useState("Technician"),[c,d]=P.useState(""),[f,h]=P.useState(""),[m,g]=P.useState("");if(!e)return null;const p=b=>{if(b.preventDefault(),!(!n||!c||!f)){if(c!==f){g("PINs do not match.");return}if(c.length<4||c.length>6){g("PIN must be 4-6 digits.");return}try{r({fullName:n,role:i,pin:c,lastVisit:"",isActive:!0,avatarUrl:`https://app.getmaintainx.com/img/static/user_placeholders/RandomPicture${Math.floor(Math.random()*30)+1}.png`}),a(""),l("Technician"),d(""),h(""),g(""),t()}catch(w){g(w.message)}}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[s.jsxs("header",{className:"px-6 py-4 border-b border-[var(--border)] flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Create New User"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",required:!0,className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:n,onChange:b=>a(b.target.value),placeholder:"e.g. John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:i,onChange:b=>l(b.target.value),children:[s.jsx("option",{value:"Administrator",children:"Administrator"}),s.jsx("option",{value:"Technician",children:"Technician"}),s.jsx("option",{value:"Viewer",children:"Viewer"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN (4-6 digits)"}),s.jsx("input",{type:"password",pattern:"\\d{4,6}",required:!0,className:`w-full border ${m?"border-red-500":"border-[var(--border)]"} rounded p-2 text-sm focus:outline-none focus:border-blue-500`,value:c,onChange:b=>{d(b.target.value.replace(/\D/g,"").slice(0,6)),m&&g("")},placeholder:"Enter PIN"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm PIN"}),s.jsx("input",{type:"password",pattern:"\\d{4,6}",required:!0,className:`w-full border ${m?"border-red-500":"border-[var(--border)]"} rounded p-2 text-sm focus:outline-none focus:border-blue-500`,value:f,onChange:b=>{h(b.target.value.replace(/\D/g,"").slice(0,6)),m&&g("")},placeholder:"Confirm PIN"}),m&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:m})]}),s.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-bold text-white bg-accent hover:bg-accent-hover rounded",children:"Create User"})]})]})]})})},hZ={Administrator:"Administrator",Technician:"Technician",Viewer:"Viewer"},pZ=e=>{if(!e)return"Never";const t=new Date(e),r=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=Math.floor((a.getTime()-n.getTime())/(1e3*60*60*24));return i===0?"Today":i===1?"Yesterday":t.toLocaleDateString()},mZ=()=>{const[e,t]=P.useState(!1),{allUsers:r}=xs();return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Users"})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow max-w-[400px]",children:s.jsx("form",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsx("input",{type:"search",placeholder:"Search Users",className:"bg-gray-50 bg-[url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2711%27%20height=%2712%27%3E%3Cg%20fill=%27none%27%20fill-rule=%27evenodd%27%20stroke=%27%23868686%27%20stroke-width=%271.25%27%20transform=%27translate%281%201.5)] bg-no-repeat box-border caret-transparent shrink-0 leading-5 min-h-10 -outline-offset-2 w-full border border-[var(--border)] bg-[position:10px_50%] pl-[30px] pr-2 py-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid"})})}),s.jsx("button",{type:"button",onClick:()=>t(!0),className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-md border-solid hover:bg-accent-hover hover:border-accent-hover",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"Create New User"})})]})]})}),s.jsx("div",{className:"relative box-border caret-transparent flex basis-[0%] grow overflow-auto",children:s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex flex-col grow border border-[var(--border)] m-4 rounded-bl rounded-br rounded-tl rounded-tr border-solid overflow-hidden",children:[s.jsx("div",{className:"relative box-border caret-transparent flex flex-col grow overflow-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-white sticky top-0 z-10 border-b border-[var(--border)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left text-[13px] font-medium text-[var(--muted)] px-4 py-3 opacity-[0.85]",children:s.jsx("button",{type:"button",className:"flex items-center gap-1 hover:text-[var(--text)] transition-colors",children:"Full Name"})}),s.jsx("th",{className:"text-left text-[13px] font-medium text-[var(--muted)] px-4 py-3 opacity-[0.85]",children:s.jsx("button",{type:"button",className:"flex items-center gap-1 hover:text-[var(--text)] transition-colors",children:"Role"})}),s.jsx("th",{className:"text-left text-[13px] font-medium text-[var(--muted)] px-4 py-3 opacity-[0.85]",children:s.jsx("button",{type:"button",className:"flex items-center gap-1 hover:text-[var(--text)] transition-colors",children:"Last Visit"})}),s.jsx("th",{className:"w-12"})]})}),s.jsx("tbody",{children:r.map(n=>s.jsxs("tr",{className:`border-b border-[var(--border)] hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] transition-colors ${n.isActive?"":"opacity-50"} group`,children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"items-center bg-white bg-cover box-border caret-transparent flex shrink-0 h-9 justify-center w-9 bg-center rounded-full transition-opacity group-hover:opacity-100",style:{backgroundImage:`url('${n.avatarUrl||"https://app.getmaintainx.com/img/static/user_placeholders/RandomPicture4.png"}')`}}),s.jsx("span",{className:"font-normal text-[13px] text-[var(--text)]",children:n.fullName})]})}),s.jsx("td",{className:"px-4 py-3 text-[13px] text-[var(--text)] opacity-90",children:hZ[n.role]||n.role}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-[var(--text)] text-[13px] opacity-90",children:pZ(n.lastVisit)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{type:"button",className:"text-slate-500 hover:text-gray-800",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-40.svg",alt:"Menu",className:"h-5 w-5 transition-opacity group-hover:opacity-100"})})})]},n.id))})]})}),s.jsxs("div",{className:"border-t border-[var(--border)] px-4 py-3 flex items-center justify-between bg-white",children:[s.jsx("div",{className:"text-sm text-gray-600",children:r.length>0?`1  ${r.length} of ${r.length}`:"0 of 0"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",disabled:!0,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-51.svg",alt:"Previous",className:"h-3 w-2 rotate-180"})}),s.jsx("button",{type:"button",disabled:!0,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-51.svg",alt:"Next",className:"h-3 w-2"})})]})]})]})}),s.jsx(fZ,{isOpen:e,onClose:()=>t(!1)})]})},vZ=e=>{const t=e.trim().split(/\s+/);return t.length===1?t[0].substring(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()},jS=["bg-teal-400","bg-orange-400","bg-purple-500","bg-blue-500","bg-pink-500","bg-green-500","bg-yellow-500","bg-red-500"],gZ=e=>{const t=e.split("").reduce((r,n)=>r+n.charCodeAt(0),0);return jS[t%jS.length]},xZ=({vendors:e,selectedVendorId:t,onSelectVendor:r})=>e.length===0?s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex flex-col shrink-0 max-w-[500px] min-w-[300px] w-2/5 border border-[var(--border)] mr-4 rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-64 p-8",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("p",{className:"text-sm",children:"No vendors yet"}),s.jsx("p",{className:"text-xs mt-2",children:'Click "New Vendor" to create one'})]})})}):s.jsxs("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex flex-col shrink-0 max-w-[500px] min-w-[300px] w-2/5 border border-[var(--border)] mr-4 rounded-tl rounded-tr border-solid",children:[s.jsx("div",{className:"relative items-center border-b-zinc-200 border-l-neutral-800 border-r-neutral-800 border-t-neutral-800 box-border caret-transparent flex shrink-0 h-12 justify-between z-[1] border-b",children:s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow p-3",children:s.jsx("div",{className:"relative text-[12.6px] box-border caret-transparent flex basis-[0%] grow leading-[15.12px] opacity-[0.85]",children:s.jsx("div",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsxs("button",{type:"button",className:"text-gray-600 text-sm items-center bg-transparent caret-transparent flex shrink-0 leading-[16.8px] max-w-full text-center font-medium",children:["Sort By:",s.jsxs("div",{className:"text-blue-500 items-center box-border caret-transparent flex basis-[0%] grow stroke-blue-500 font-medium",children:[s.jsxs("span",{className:"box-border caret-transparent block basis-[0%] grow stroke-blue-500 text-ellipsis text-nowrap overflow-hidden ml-1",children:[s.jsx("span",{className:"font-medium box-border caret-transparent shrink-0 stroke-blue-500 text-nowrap",children:"Name"}),": Ascending Order"]}),s.jsx("div",{className:"box-border caret-transparent shrink-0 stroke-blue-500 ml-1 mb-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-27.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-[5px] w-2 -scale-100"})})]})]})})})})}),s.jsx("div",{className:"relative box-border caret-transparent basis-[0%] grow overflow-x-hidden overflow-y-auto pb-8 rounded-bl rounded-br",children:e.map(n=>{const a=vZ(n.name),i=gZ(n.id);return s.jsxs("div",{onClick:()=>r(n.id),className:`relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[80px] cursor-pointer hover:bg-[var(--panel-2)] even:bg-[rgba(255,255,255,0.02)] border-l-2 transition-colors ${t===n.id?"bg-[var(--panel-2)] border-l-[var(--accent)]":"border-l-transparent"} group`,children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0 ml-4 mr-3",children:s.jsx("div",{className:`${i} text-white text-lg font-semibold items-center box-border caret-transparent flex shrink-0 h-12 justify-center w-12 rounded-full transition-opacity ${t===n.id?"opacity-100":"group-hover:opacity-100"}`,children:a})}),s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center py-3 pr-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 my-px",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:n.name,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:n.name})}),n.trade&&s.jsx("div",{className:"text-[var(--muted)] text-[13px] box-border caret-transparent shrink-0 opacity-80",children:n.trade})]})})]},n.id)})})]}),bZ=({vendorId:e,onEdit:t})=>{const{getVendorById:r,archiveVendor:n,deleteVendorHard:a}=Z1(),{getWorkOrdersByVendor:i}=Gs(),{getUserById:l}=xs(),{getCategoryById:c}=wm(),[d,f]=P.useState(!1),[h,m]=P.useState(!1),[g,p]=P.useState("");if(!e)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-gray-500 bg-[var(--panel-2)]",children:"Select a vendor to view details"})})});const b=r(e);if(!b)return s.jsx("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsx("div",{className:"flex items-center justify-center w-full h-full text-gray-500 bg-[var(--panel-2)]",children:"Vendor not found"})})});const w=i(e),N=l(b.createdByUserId),k=l(b.updatedByUserId),L=()=>{n(e),m(!1)},E=()=>{if(w.length>0){p(`Cannot delete vendor. ${w.length} work order(s) reference this vendor. Please archive instead.`);return}a(e),f(!1)};return s.jsxs("div",{className:"box-border caret-transparent flex basis-[375px] flex-col grow shrink-0 min-w-[200px] pt-2 px-2 border-l border-[var(--border)]",children:[s.jsx("div",{className:"bg-white shadow-[rgba(242,242,242,0.6)_0px_0px_12px_2px] box-border caret-transparent flex grow w-full border border-[var(--border)] overflow-hidden rounded-bl rounded-br rounded-tl rounded-tr border-solid",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow h-full overflow-x-hidden overflow-y-auto w-full",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap justify-between gap-y-2 mb-0",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-2 flex gap-y-2",children:s.jsxs("h3",{className:"text-xl font-semibold box-border caret-transparent tracking-[-0.2px] leading-7",children:[b.name,!b.isActive&&s.jsx("span",{className:"ml-2 text-[10px] uppercase font-bold text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded tracking-wider",children:"Archived"})]})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-2 flex shrink-0 flex-wrap gap-y-2 ml-auto",children:[s.jsx("button",{type:"button",onClick:t,className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] break-words gap-y-1 text-center text-nowrap border border-accent px-3 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 break-words text-nowrap",children:"Edit"})}),s.jsx("div",{className:"relative",children:s.jsx("button",{type:"button",onClick:()=>m(!0),className:"relative text-accent font-bold items-center aspect-square bg-transparent caret-transparent gap-x-1 flex shrink-0 h-8 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap overflow-hidden px-2 rounded hover:bg-accent hover:text-white transition-colors",title:"Archive or Delete",children:s.jsx("span",{className:"text-slate-500 box-border caret-transparent flex shrink-0 text-nowrap hover:text-gray-600",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-40.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 text-nowrap w-5"})})})})]})]})}),s.jsxs("div",{className:"relative box-border caret-transparent flex flex-col grow scroll-smooth overflow-auto scroll-pt-4 px-6 pt-6",children:[b.trade&&s.jsx("div",{className:"box-border caret-transparent shrink-0 mb-4",children:s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mr-2",children:"Trade:"}),s.jsx("span",{className:"font-medium text-[var(--text)]",children:b.trade})]})}),(b.contactName||b.phone||b.email||b.address)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:"Contact Information"}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[b.contactName&&s.jsxs("div",{className:"text-gray-700",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--muted)] mr-2",children:"Contact:"}),s.jsx("span",{className:"font-medium",children:b.contactName})]}),b.phone&&s.jsxs("div",{className:"text-gray-700",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--muted)] mr-2",children:"Phone:"})," ",s.jsx("a",{href:`tel:${b.phone}`,className:"text-accent hover:underline font-medium",children:b.phone})]}),b.email&&s.jsxs("div",{className:"text-gray-700",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--muted)] mr-2",children:"Email:"})," ",s.jsx("a",{href:`mailto:${b.email}`,className:"text-accent hover:underline font-medium",children:b.email})]}),b.address&&s.jsxs("div",{className:"text-gray-700",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--muted)] mr-2",children:"Address:"}),s.jsx("span",{className:"font-medium",children:b.address})]})]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"})]}),b.notes&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-4",children:[s.jsx("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-2",children:"Notes"}),s.jsx("div",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap italic bg-[var(--panel-2)] p-3 rounded border border-[var(--border)]",children:b.notes})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"})]}),s.jsxs("div",{className:"text-[10px] text-[var(--muted)] space-y-1 mb-4 italic",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Created by:"})," ",(N==null?void 0:N.fullName)||"Unknown"," on"," ",new Date(b.createdAt).toLocaleDateString()]}),b.updatedAt!==b.createdAt&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Last updated by:"})," ",(k==null?void 0:k.fullName)||"Unknown"," on"," ",new Date(b.updatedAt).toLocaleDateString()]})]}),s.jsx("div",{className:"border-b border-[var(--border)] my-3"}),s.jsxs("div",{className:"box-border caret-transparent shrink-0 mb-6",children:[s.jsxs("h2",{className:"text-[11px] uppercase tracking-[0.04em] text-[var(--muted)] font-semibold mb-3",children:["Work Order History (",w.length,")"]}),w.length===0?s.jsx("div",{className:"text-center text-[var(--muted)] py-6 bg-[var(--panel-2)] rounded border border-[var(--border)]",children:s.jsx("p",{className:"text-xs uppercase tracking-widest",children:"No history"})}):s.jsx("div",{className:"space-y-1",children:w.map(I=>{const M=I.categoryId?c(I.categoryId):null,F=I.status==="Done"?"text-teal-500":I.status==="In Progress"?"text-blue-500":"text-gray-500",R=I.priority==="High"?"text-red-500":I.priority==="Medium"?"text-orange-500":"text-teal-500";return s.jsxs("div",{className:"relative items-center border-b border-[var(--border)] box-border caret-transparent flex shrink-0 min-h-[80px] cursor-pointer hover:bg-gray-50 py-2 group transition-colors",children:[I.assetImageUrl&&s.jsx("div",{className:"relative box-border caret-transparent shrink-0 mr-3 rounded",children:s.jsx("div",{className:"font-semibold items-center box-border caret-transparent flex shrink-0 h-10 justify-center w-10 border border-[var(--border)] overflow-hidden rounded border-solid",children:s.jsx("img",{src:I.assetImageUrl,alt:I.asset,className:"h-10 w-10 object-cover"})})}),s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] flex-col grow justify-center",children:[s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 mb-0.5",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow overflow-hidden mr-2",children:s.jsx("div",{title:I.title,className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden font-medium text-sm group-hover:text-accent transition-colors",children:I.title})}),M&&s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("span",{className:"text-accent text-[9px] font-bold uppercase tracking-tighter bg-accent-muted px-1 py-0.5 rounded border border-accent/20",children:M.name})})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between mb-1",children:[s.jsx("div",{className:"text-gray-500 text-[11px] box-border caret-transparent basis-[0%] grow text-ellipsis text-nowrap w-full overflow-hidden italic",children:I.status==="Done"&&I.completedAt?`Done ${new Date(I.completedAt).toLocaleDateString()}`:`By ${I.assignedTo||"Unknown"}`}),s.jsxs("div",{className:"text-gray-400 text-[10px] font-mono box-border caret-transparent shrink-0",children:["#",I.workOrderNumber]})]}),s.jsxs("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-between",children:[s.jsx("div",{className:"relative box-border caret-transparent shrink-0",children:s.jsx("div",{className:"text-[10px] items-center box-border caret-transparent gap-x-1 flex shrink-0 leading-none uppercase font-bold tracking-wider",children:s.jsx("span",{className:`${F} box-border caret-transparent text-ellipsis text-nowrap overflow-hidden`,children:I.status})})}),s.jsx("div",{className:"box-border caret-transparent flex shrink-0",children:s.jsx("div",{className:`text-[9px] font-bold items-center box-border caret-transparent flex shrink-0 tracking-widest uppercase leading-none border border-[var(--border)] px-1.5 py-0.5 rounded ${R}`,children:I.priority})})]})]})]},I.id)})})]})]})]})}),s.jsx(S0,{isOpen:h,onClose:()=>{m(!1),p("")},onConfirm:L,title:"Archive Vendor",message:`Are you sure you want to archive "${b.name}"? The vendor will be hidden from pickers but will remain visible in historical work orders.`,confirmText:"Archive",confirmStyle:"warning"}),s.jsx(S0,{isOpen:d,onClose:()=>{f(!1),p("")},onConfirm:E,title:"Delete Vendor",message:g||`Are you sure you want to permanently delete "${b.name}"? This action cannot be undone.`,confirmText:"Delete",confirmStyle:"danger"})]})},yZ=["Electrical","HVAC","Plumbing","Fire Safety","Carpentry","Painting","Landscaping","Cleaning","Security","IT Support","General Contractor","Other"],wZ=({isOpen:e,onClose:t,onSave:r,vendor:n})=>{const[a,i]=P.useState(""),[l,c]=P.useState(""),[d,f]=P.useState(""),[h,m]=P.useState(""),[g,p]=P.useState(""),[b,w]=P.useState(""),[N,k]=P.useState(""),[L,E]=P.useState("");if(P.useEffect(()=>{n?(i(n.name),c(n.trade||""),f(n.contactName||""),m(n.phone||""),p(n.email||""),w(n.address||""),k(n.notes||"")):(i(""),c(""),f(""),m(""),p(""),w(""),k("")),E("")},[n,e]),!e)return null;const I=M=>{if(M.preventDefault(),!a.trim()){E("Vendor name is required");return}try{r({name:a.trim(),trade:l.trim()||void 0,contactName:d.trim()||void 0,phone:h.trim()||void 0,email:g.trim()||void 0,address:b.trim()||void 0,notes:N.trim()||void 0}),t()}catch(F){E(F.message)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[s.jsxs("header",{className:"px-6 py-4 border-b border-[var(--border)] flex justify-between items-center shrink-0",children:[s.jsx("h3",{className:"text-lg font-semibold",children:n?"Edit Vendor":"New Vendor"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("form",{onSubmit:I,className:"flex flex-col flex-1 overflow-hidden",children:[s.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name *"}),s.jsx("input",{type:"text",required:!0,className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:a,onChange:M=>{i(M.target.value),E("")},placeholder:"e.g. ABC Electrical Services"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trade"}),s.jsxs("select",{className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:l,onChange:M=>c(M.target.value),children:[s.jsx("option",{value:"",children:"Select a trade..."}),yZ.map(M=>s.jsx("option",{value:M,children:M},M))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:d,onChange:M=>f(M.target.value),placeholder:"e.g. John Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:h,onChange:M=>m(M.target.value),placeholder:"e.g. (555) 123-4567"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:g,onChange:M=>p(M.target.value),placeholder:"e.g. contact@vendor.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsx("input",{type:"text",className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500",value:b,onChange:M=>w(M.target.value),placeholder:"e.g. 123 Main St, City, State 12345"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{className:"w-full border border-[var(--border)] rounded p-2 text-sm focus:outline-none focus:border-blue-500 min-h-[80px]",value:N,onChange:M=>k(M.target.value),placeholder:"Additional notes about this vendor..."})]}),L&&s.jsx("p",{className:"text-red-500 text-xs",children:L})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-[var(--border)] flex justify-end gap-3 shrink-0",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-bold text-white bg-accent hover:bg-accent-hover rounded",children:n?"Save Changes":"Create Vendor"})]})]})]})})},NZ=()=>{const{activeVendors:e,selectedVendorId:t,selectVendor:r,createVendor:n,updateVendor:a,getVendorById:i}=Z1(),{activeUserId:l}=xs(),[c,d]=P.useState(!1),[f,h]=P.useState(null),m=b=>{if(f)a(f,b,l||"admin-001");else{const w=n(b,l||"admin-001");r(w.id)}d(!1),h(null)},g=()=>{t&&(h(t),d(!0))},p=()=>{h(null),d(!0)};return s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4",children:s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow gap-y-4",children:[s.jsx("div",{className:"items-center box-border caret-transparent gap-x-4 flex shrink-0 gap-y-4",children:s.jsx("h2",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"Vendors"})}),s.jsxs("div",{className:"items-center box-border caret-transparent gap-x-4 flex basis-[0%] grow justify-end gap-y-4",children:[s.jsx("div",{className:"box-border caret-transparent flex basis-[0%] grow max-w-[400px]",children:s.jsx("form",{className:"box-border caret-transparent basis-[0%] grow",children:s.jsx("input",{type:"search",placeholder:"Search Vendors",className:"bg-gray-50 bg-[url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2711%27%20height=%2712%27%3E%3Cg%20fill=%27none%27%20fill-rule=%27evenodd%27%20stroke=%27%23868686%27%20stroke-width=%271.25%27%20transform=%27translate%281%201.5)] bg-no-repeat box-border caret-transparent shrink-0 leading-5 min-h-10 -outline-offset-2 w-full border border-[var(--border)] bg-[position:10px_50%] pl-[30px] pr-2 py-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid"})})}),s.jsx("button",{type:"button",onClick:p,className:"relative text-white font-bold items-center bg-accent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded-md border-solid hover:bg-accent-hover hover:border-accent-hover",children:s.jsx("span",{className:"box-border caret-transparent flex shrink-0 text-nowrap",children:"New Vendor"})})]})]})}),s.jsx("div",{className:"box-border caret-transparent shrink-0 px-4 py-3",children:s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0",children:s.jsxs("div",{className:"box-border caret-transparent flex basis-[0%] grow gap-x-2",children:[s.jsxs("button",{type:"button",className:"items-center bg-white caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-center px-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-24.svg",alt:"Icon",className:"text-blue-500 text-[8px] box-border caret-transparent shrink-0 h-4 leading-[11.4288px] w-4"})}),s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:"Asset"})]}),s.jsxs("button",{type:"button",className:"items-center bg-white caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-center px-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-24.svg",alt:"Icon",className:"text-blue-500 text-[8px] box-border caret-transparent shrink-0 h-4 leading-[11.4288px] w-4"})}),s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:"Location"})]}),s.jsxs("button",{type:"button",className:"items-center bg-white caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-center px-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-24.svg",alt:"Icon",className:"text-blue-500 text-[8px] box-border caret-transparent shrink-0 h-4 leading-[11.4288px] w-4"})}),s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:"Part"})]}),s.jsxs("button",{type:"button",className:"items-center bg-white caret-transparent flex h-8 justify-center tracking-[-0.2px] leading-[20.0004px] text-center border border-[var(--border)] px-2 rounded-bl rounded-br rounded-tl rounded-tr border-solid hover:border-neutral-300",children:[s.jsx("div",{className:"items-center box-border caret-transparent flex shrink-0 justify-center px-1",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-24.svg",alt:"Icon",className:"text-blue-500 text-[8px] box-border caret-transparent shrink-0 h-4 leading-[11.4288px] w-4"})}),s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden px-1",children:"Vendor Types"})]})]})})}),s.jsxs("div",{className:"relative box-border caret-transparent flex basis-[0%] grow mx-4",children:[s.jsx(xZ,{vendors:e,selectedVendorId:t,onSelectVendor:r}),s.jsx(bZ,{vendorId:t,onEdit:g})]}),s.jsx(wZ,{isOpen:c,onClose:()=>{d(!1),h(null)},onSave:m,vendor:f?i(f):null})]})},jZ=()=>s.jsxs("div",{className:"relative bg-[var(--panel-2)] box-border caret-transparent flex basis-[0%] flex-col grow overflow-auto",children:[s.jsx("div",{className:"bg-[var(--panel-2)] border-b border-[var(--border)] shadow-[inset_0_-1px_0_rgba(255,255,255,0.03)] box-border caret-transparent shrink-0 px-4 py-4 mb-6",children:s.jsx("h1",{className:"text-[31.9998px] font-bold box-border caret-transparent shrink-0 tracking-[-0.2px] leading-[39.9997px]",children:"General"})}),s.jsxs("div",{className:"box-border caret-transparent flex flex-col grow px-4 pb-8",children:[s.jsx("section",{className:"bg-white box-border caret-transparent shrink-0 border border-[var(--border)] rounded-lg p-6 mb-4",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("div",{className:"items-center bg-white flex h-[104px] w-[104px] justify-center bg-center rounded-lg border border-[var(--border)]",style:{backgroundImage:"url(/logo.svg)",backgroundRepeat:"no-repeat",backgroundSize:"contain"}})}),s.jsxs("div",{className:"box-border caret-transparent flex flex-col grow",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-2 text-ellipsis overflow-hidden",children:"CWS - Slovakia"}),s.jsx("div",{className:"text-gray-600 mb-1",children:"1155 Kelly Johnson Boulevard, Suite 105, Colorado Springs, CO, 80920, US"}),s.jsx("div",{className:"text-gray-600 mb-2",children:"Other | 6 Members"}),s.jsx("div",{className:"inline-flex items-center",children:s.jsx("span",{className:"text-sm font-semibold bg-gray-100 px-3 py-1 rounded",children:"Enterprise Plan"})})]}),s.jsx("div",{className:"box-border caret-transparent shrink-0",children:s.jsx("button",{type:"button",className:"relative font-bold items-center bg-transparent caret-transparent gap-x-1 flex shrink-0 h-10 justify-center tracking-[-0.2px] leading-[14px] gap-y-1 text-center text-nowrap border border-accent px-4 rounded text-accent hover:bg-accent hover:text-white transition-colors",children:"Edit Profile"})})]})}),s.jsxs("section",{className:"omp-panel shadow-none box-border caret-transparent shrink-0 p-6 mb-4",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Preferences"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("label",{className:"text-sm font-medium w-48",children:"Organization Language"}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative items-center bg-white box-border caret-transparent flex shrink-0 h-10 justify-between w-full border border-[var(--border)] rounded px-3",children:[s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:"English (Default)"}),s.jsx("div",{className:"text-blue-500 box-border caret-transparent flex shrink-0",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-47.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 w-5"})})]})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("label",{className:"text-sm font-medium w-48",children:"Currency"}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative items-center bg-white box-border caret-transparent flex shrink-0 h-10 justify-between w-full border border-[var(--border)] rounded px-3",children:[s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:"USD (US Dollar)"}),s.jsx("div",{className:"text-blue-500 box-border caret-transparent flex shrink-0",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-47.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 w-5"})})]})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("label",{className:"text-sm font-medium w-48",children:"Date Format"}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative items-center bg-white box-border caret-transparent flex shrink-0 h-10 justify-between w-full border border-[var(--border)] rounded px-3",children:[s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:"MM/DD/YYYY  11:59 PM"}),s.jsx("div",{className:"text-blue-500 box-border caret-transparent flex shrink-0",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-47.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 w-5"})})]})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("label",{className:"text-sm font-medium w-48",children:"Time Zone"}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative items-center bg-white box-border caret-transparent flex shrink-0 h-10 justify-between w-full border border-[var(--border)] rounded px-3",children:[s.jsx("div",{className:"box-border caret-transparent text-ellipsis text-nowrap overflow-hidden",children:"Europe/Belgrade : +01:00"}),s.jsx("div",{className:"text-blue-500 box-border caret-transparent flex shrink-0",children:s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-47.svg",alt:"Icon",className:"box-border caret-transparent shrink-0 h-5 w-5"})})]})})]})]})]}),s.jsxs("section",{className:"omp-panel shadow-none box-border caret-transparent shrink-0 p-6 mb-4",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Export Data"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("a",{href:"/settings/export/workorders",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-4.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Work Orders"})]}),s.jsxs("a",{href:"/settings/export/assets",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-7.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Assets"})]}),s.jsxs("a",{href:"/settings/export/assetStatus",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-7.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Asset Status"})]}),s.jsxs("a",{href:"/settings/export/locations",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-2.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Locations"})]}),s.jsxs("a",{href:"/settings/export/parts",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-10.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Parts List"})]}),s.jsxs("a",{href:"/settings/export/partTransactions",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-10.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Parts Transactions"})]}),s.jsxs("a",{href:"/settings/export/meters",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-13.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Meters"})]}),s.jsxs("a",{href:"/settings/export/readings",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-13.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Readings"})]}),s.jsxs("a",{href:"/settings/export/vendors",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-17.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Vendors"})]}),s.jsxs("a",{href:"/settings/export/timeAndCost",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-4.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Time & Cost Tracking"})]}),s.jsxs("a",{href:"/settings/export/laborUtilization",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-4.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Labor Utilization"})]})]})]}),s.jsxs("section",{className:"bg-white box-border caret-transparent shrink-0 border border-[var(--border)] rounded-lg p-6 mb-4",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Import Data"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("a",{href:"/imports/assets",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-7.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Assets"})]}),s.jsxs("a",{href:"/imports/parts",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-10.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Parts"})]}),s.jsxs("a",{href:"/imports/workorders",className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-4.svg",alt:"Icon",className:"text-blue-500 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-sm font-medium",children:"Work Orders"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border border-[var(--border)] rounded-lg opacity-50 cursor-not-allowed",children:[s.jsx("img",{src:"https://c.animaapp.com/mkof8zon8iICvl/assets/icon-25.svg",alt:"Icon",className:"text-gray-400 box-border caret-transparent shrink-0 h-8 w-8 mb-3"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Other items soon"})]})]})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-4",children:s.jsx("div",{title:`Version: 26.1.532-310241
Backend Version: 26.1.532-310241`,children:"Build: 26.1.532-310241"})})]})]}),kZ=()=>{const[e,t]=P.useState("workorders"),{ensureActiveRecurringInstances:r}=Gs(),[n,a]=P.useState(localStorage.getItem("omp-auth")==="true");P.useEffect(()=>{const l=()=>{a(localStorage.getItem("omp-auth")==="true")};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]),P.useEffect(()=>{n&&r()},[r,n]),P.useEffect(()=>{const l=()=>{const c=window.location.hash.replace("#","");t(["workorders","reporting","assets","categories","parts","procedures","meters","locations","users","vendors","settings"].includes(c)?c:"workorders")};return l(),window.addEventListener("hashchange",l),()=>window.removeEventListener("hashchange",l)},[]);const i=()=>{switch(e){case"reporting":return s.jsx(gD,{});case"assets":return s.jsx(jD,{});case"categories":return s.jsx(PD,{});case"parts":return s.jsx(ED,{});case"procedures":return s.jsx(FD,{});case"meters":return s.jsx(lZ,{});case"locations":return s.jsx(dZ,{});case"users":return s.jsx(mZ,{});case"vendors":return s.jsx(NZ,{});case"settings":return s.jsx(jZ,{});case"workorders":default:return s.jsx(II,{})}};return n?s.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-[var(--bg)] text-[var(--text)]",children:[s.jsx(iI,{currentView:e}),s.jsx("main",{className:"flex min-w-0 flex-1 overflow-hidden bg-[var(--panel-2)] bg-radial-gradient",children:i()})]}):s.jsx(EI,{})};LO.createRoot(document.getElementById("app")).render(s.jsx(Ah.StrictMode,{children:s.jsx(kZ,{})}));export{xr as _,AZ as c,Mo as g};
