import { JSX as JSX_2 } from 'react/jsx-runtime';
import { QueryClient } from '@tanstack/react-query';

export declare function AnimaProvider({ children }: AnimaProviderProps): JSX_2.Element;

export declare type AnimaProviderProps = {
    children: React.ReactNode;
};

declare interface AuthTheme {
    appName: string;
    appTitle?: string;
    appSubtitle?: string;
    primaryColor?: string;
    avatarUrl?: string;
}

declare type Filters = {
    where?: WhereFilters;
    orderBy?: OrderByFilters;
    limit?: number;
    offset?: number;
};

declare type OrderByFilters = Record<string, 'asc' | 'desc'>;

export declare const queryClient: QueryClient;

export declare function useAuth(params?: UseAuthParams): UseAuthResult;

export declare type UseAuthParams = {
    requireAuth?: boolean;
    theme?: AuthTheme;
};

export declare type UseAuthResult = {
    user: User | null | undefined;
    error: Error | null;
    isPending: boolean;
    isAnonymous: boolean;
    login: () => Promise<void>;
    logout: () => Promise<void>;
};

export declare function useLazyQuery(entityName: string): UseLazyQueryResult;

export declare type UseLazyQueryParams = string | Filters;

export declare type UseLazyQueryResult = {
    query: (params?: UseLazyQueryParams) => Promise<any>;
};

export declare function useMutation(entityName: string): UseMutationResult;

export declare type UseMutationResult = {
    create: (data: any) => Promise<any>;
    update: (id: string, data: any) => Promise<any>;
    remove: (id: string) => Promise<any>;
    error: Error | null;
    isPending: boolean;
};

export declare function useQuery(entityName: string, params?: UseQueryParams): UseQueryResult;

export declare type UseQueryParams = string | Filters;

export declare type UseQueryResult = {
    data: any;
    error: Error | null;
    isPending: boolean;
};

/**
 * User profile type (used by SDK)
 */
declare type User = {
    id: string;
    email: string;
    name: string;
    role: UserRole;
    profilePictureUrl?: string;
};

/**
 * User context and role types
 */
declare type UserRole = 'admin' | 'user';

export declare function useUser(): UseUserResult;

export declare type UseUserResult = {
    user: User | null | undefined;
    error: Error | null;
    isPending: boolean;
};

declare type WhereFilter =
| WhereFilterValue
| {
    // Equality operators
    eq?: WhereFilterValue;
    ne?: WhereFilterValue;

    // Set operators
    in?: WhereFilterValue[];
    nin?: WhereFilterValue[];

    // String operators
    contains?: WhereFilterValue;

    // Numeric operators
    gte?: WhereFilterValue;
    lte?: WhereFilterValue;
    gt?: WhereFilterValue;
    lt?: WhereFilterValue;
};

declare type WhereFilterInput = Record<string, WhereFilter> | WhereFilterLogicalOperators;

declare type WhereFilterLogicalOperators = {
    AND?: WhereFilterInput[];
    OR?: WhereFilterInput[];
    NOT?: WhereFilterInput;
};

declare type WhereFilters = WhereFilterInput;

/**
 * Query filter types
 */
declare type WhereFilterValue = string | number | boolean | Date | null;

export { }
